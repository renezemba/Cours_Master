/*! For license information please see rendition.js.LICENSE.txt */
(()=>{var s,f,_={sR8A:s=>{s.exports=function(s){function t(f){for(var P,y,S=f[0],O=f[1],M=0,q=[];M<S.length;M++)y=S[M],Object.prototype.hasOwnProperty.call(_,y)&&_[y]&&q.push(_[y][0]),_[y]=0;for(P in O)Object.prototype.hasOwnProperty.call(O,P)&&(s[P]=O[P]);for(E&&E(f);q.length;)q.shift()()}var f={},_={main:0};function i(_){if(f[_])return f[_].exports;var P=f[_]={i:_,l:!1,exports:{}};return s[_].call(P.exports,P,P.exports,i),P.l=!0,P.exports}i.e=function(s){var f=[],P=_[s];if(0!==P)if(P)f.push(P[2]);else{var y=new Promise((function(f,y){P=_[s]=[f,y]}));f.push(P[2]=y);var S,E=document.createElement("script");E.charset="utf-8",E.timeout=120,i.nc&&E.setAttribute("nonce",i.nc),E.src=function(s){return i.p+""+s+".index.js"}(s);var O=new Error;S=function(f){E.onerror=E.onload=null,clearTimeout(M);var P=_[s];if(0!==P){if(P){var y=f&&("load"===f.type?"missing":f.type),S=f&&f.target&&f.target.src;O.message="Loading chunk "+s+" failed.\n("+y+": "+S+")",O.name="ChunkLoadError",O.type=y,O.request=S,P[1](O)}_[s]=void 0}};var M=setTimeout((function(){S({type:"timeout",target:E})}),12e4);E.onerror=E.onload=S,document.head.appendChild(E)}return Promise.all(f)},i.m=s,i.c=f,i.d=function(s,f,_){i.o(s,f)||Object.defineProperty(s,f,{enumerable:!0,get:_})},i.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,f){if(1&f&&(s=i(s)),8&f)return s;if(4&f&&"object"==typeof s&&s&&s.__esModule)return s;var _=Object.create(null);if(i.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:s}),2&f&&"string"!=typeof s)for(var P in s)i.d(_,P,function(f){return s[f]}.bind(null,P));return _},i.n=function(s){var f=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(f,"a",f),f},i.o=function(s,f){return Object.prototype.hasOwnProperty.call(s,f)},i.p="",i.oe=function(s){throw console.error(s),s};var P=window.webpackJsonp=window.webpackJsonp||[],y=P.push.bind(P);P.push=t,P=P.slice();for(var S=0;S<P.length;S++)t(P[S]);var E=y;return i(i.s=133)}([function(s,f,_){(function(f){var r=function(s){return s&&s.Math==Math&&s};s.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof f&&f)||function(){return this}()||Function("return this")()}).call(this,_(77))},function(s,f){s.exports=function(s){try{return!!s()}catch(s){return!0}}},function(s,f,_){var P=_(0),y=_(52),S=_(4),E=_(38),O=_(55),M=_(84),q=y("wks"),ee=P.Symbol,te=M?ee:ee&&ee.withoutSetter||E;s.exports=function(s){return S(q,s)&&(O||"string"==typeof q[s])||(O&&S(ee,s)?q[s]=ee[s]:q[s]=te("Symbol."+s)),q[s]}},function(s,f,_){var P=_(9);s.exports=function(s){if(!P(s))throw TypeError(String(s)+" is not an object");return s}},function(s,f){var _={}.hasOwnProperty;s.exports=function(s,f){return _.call(s,f)}},function(s,f,_){var P=_(0),y=_(78),S=_(51),E=_(7),O=_(2),M=O("iterator"),q=O("toStringTag"),ee=S.values;for(var te in y){var re=P[te],ne=re&&re.prototype;if(ne){if(ne[M]!==ee)try{E(ne,M,ee)}catch(s){ne[M]=ee}if(ne[q]||E(ne,q,te),y[te])for(var ie in S)if(ne[ie]!==S[ie])try{E(ne,ie,S[ie])}catch(s){ne[ie]=S[ie]}}}},function(s,f,_){var P=_(0),y=_(43).f,S=_(7),E=_(12),O=_(37),M=_(88),q=_(90);s.exports=function(s,f){var _,ee,te,re,ne,ie=s.target,se=s.global,ae=s.stat;if(_=se?P:ae?P[ie]||O(ie,{}):(P[ie]||{}).prototype)for(ee in f){if(re=f[ee],te=s.noTargetGet?(ne=y(_,ee))&&ne.value:_[ee],!q(se?ee:ie+(ae?".":"#")+ee,s.forced)&&void 0!==te){if(typeof re==typeof te)continue;M(re,te)}(s.sham||te&&te.sham)&&S(re,"sham",!0),E(_,ee,re,s)}}},function(s,f,_){var P=_(8),y=_(11),S=_(16);s.exports=P?function(s,f,_){return y.f(s,f,S(1,_))}:function(s,f,_){return s[f]=_,s}},function(s,f,_){var P=_(1);s.exports=!P((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(s,f){s.exports=function(s){return"object"==typeof s?null!==s:"function"==typeof s}},function(s,f,_){var P=_(14),y=Math.min;s.exports=function(s){return s>0?y(P(s),9007199254740991):0}},function(s,f,_){var P=_(8),y=_(53),S=_(3),E=_(28),O=Object.defineProperty;f.f=P?O:function(s,f,_){if(S(s),f=E(f,!0),S(_),y)try{return O(s,f,_)}catch(s){}if("get"in _||"set"in _)throw TypeError("Accessors not supported");return"value"in _&&(s[f]=_.value),s}},function(s,f,_){var P=_(0),y=_(7),S=_(4),E=_(37),O=_(59),M=_(15),q=M.get,ee=M.enforce,te=String(String).split("String");(s.exports=function(s,f,_,O){var M,q=!!O&&!!O.unsafe,re=!!O&&!!O.enumerable,ne=!!O&&!!O.noTargetGet;"function"==typeof _&&("string"!=typeof f||S(_,"name")||y(_,"name",f),(M=ee(_)).source||(M.source=te.join("string"==typeof f?f:""))),s!==P?(q?!ne&&s[f]&&(re=!0):delete s[f],re?s[f]=_:y(s,f,_)):re?s[f]=_:E(f,_)})(Function.prototype,"toString",(function(){return"function"==typeof this&&q(this).source||O(this)}))},function(s,f,_){var P=_(27);s.exports=function(s){return Object(P(s))}},function(s,f){var _=Math.ceil,P=Math.floor;s.exports=function(s){return isNaN(s=+s)?0:(s>0?P:_)(s)}},function(s,f,_){var P,y,S,E=_(87),O=_(0),M=_(9),q=_(7),ee=_(4),te=_(36),re=_(42),ne=_(40),ie=O.WeakMap;if(E){var se=te.state||(te.state=new ie),ae=se.get,oe=se.has,ce=se.set;P=function(s,f){return f.facade=s,ce.call(se,s,f),f},y=function(s){return ae.call(se,s)||{}},S=function(s){return oe.call(se,s)}}else{var le=re("state");ne[le]=!0,P=function(s,f){return f.facade=s,q(s,le,f),f},y=function(s){return ee(s,le)?s[le]:{}},S=function(s){return ee(s,le)}}s.exports={set:P,get:y,has:S,enforce:function(s){return S(s)?y(s):P(s,{})},getterFor:function(s){return function(f){var _;if(!M(f)||(_=y(f)).type!==s)throw TypeError("Incompatible receiver, "+s+" required");return _}}}},function(s,f){s.exports=function(s,f){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:f}}},function(s,f,_){var P=_(83),y=_(0),o=function(s){return"function"==typeof s?s:void 0};s.exports=function(s,f){return arguments.length<2?o(P[s])||o(y[s]):P[s]&&P[s][f]||y[s]&&y[s][f]}},function(s,f){var _={}.toString;s.exports=function(s){return _.call(s).slice(8,-1)}},function(s,f){s.exports=!1},function(s,f){s.exports={}},function(s,f,_){var P=_(11).f,y=_(4),S=_(2)("toStringTag");s.exports=function(s,f,_){s&&!y(s=_?s:s.prototype,S)&&P(s,S,{configurable:!0,value:f})}},function(s,f,_){var P=_(3),y=_(92);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,f=!1,_={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(_,[]),f=_ instanceof Array}catch(s){}return function(_,S){return P(_),y(S),f?s.call(_,S):_.__proto__=S,_}}():void 0)},function(s,f){s.exports=function(s){if("function"!=typeof s)throw TypeError(String(s)+" is not a function");return s}},function(s,f,_){var P=_(32),y=_(20),S=_(2)("iterator");s.exports=function(s){if(null!=s)return s[S]||s["@@iterator"]||y[P(s)]}},function(s,f,_){var P=_(23);s.exports=function(s,f,_){if(P(s),void 0===f)return s;switch(_){case 0:return function(){return s.call(f)};case 1:return function(_){return s.call(f,_)};case 2:return function(_,P){return s.call(f,_,P)};case 3:return function(_,P,y){return s.call(f,_,P,y)}}return function(){return s.apply(f,arguments)}}},function(s,f,_){var P=_(35),y=_(27);s.exports=function(s){return P(y(s))}},function(s,f){s.exports=function(s){if(null==s)throw TypeError("Can't call method on "+s);return s}},function(s,f,_){var P=_(9);s.exports=function(s,f){if(!P(s))return s;var _,y;if(f&&"function"==typeof(_=s.toString)&&!P(y=_.call(s)))return y;if("function"==typeof(_=s.valueOf)&&!P(y=_.call(s)))return y;if(!f&&"function"==typeof(_=s.toString)&&!P(y=_.call(s)))return y;throw TypeError("Can't convert object to primitive value")}},function(s,f,_){var P,y=_(3),S=_(56),E=_(41),O=_(40),M=_(86),q=_(54),ee=_(42)("IE_PROTO"),d=function(){},h=function(s){return"<script>"+s+"<\/script>"},p=function(){try{P=document.domain&&new ActiveXObject("htmlfile")}catch(s){}var s,f;p=P?function(s){s.write(h("")),s.close();var f=s.parentWindow.Object;return s=null,f}(P):((f=q("iframe")).style.display="none",M.appendChild(f),f.src=String("javascript:"),(s=f.contentWindow.document).open(),s.write(h("document.F=Object")),s.close(),s.F);for(var _=E.length;_--;)delete p.prototype[E[_]];return p()};O[ee]=!0,s.exports=Object.create||function(s,f){var _;return null!==s?(d.prototype=y(s),_=new d,d.prototype=null,_[ee]=s):_=p(),void 0===f?_:S(_,f)}},function(s,f,_){var P=_(4),y=_(13),S=_(42),E=_(91),O=S("IE_PROTO"),M=Object.prototype;s.exports=E?Object.getPrototypeOf:function(s){return s=y(s),P(s,O)?s[O]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?M:null}},function(s,f,_){"use strict";var P=_(6),y=_(0),S=_(8),E=_(96),O=_(45),M=_(46),q=_(33),ee=_(16),te=_(7),re=_(10),ne=_(70),ie=_(101),se=_(28),ae=_(4),oe=_(32),ce=_(9),le=_(29),ue=_(22),de=_(44).f,he=_(103),pe=_(104).forEach,fe=_(71),ge=_(11),me=_(43),ve=_(15),we=_(107),be=ve.get,ye=ve.set,Te=ge.f,Ce=me.f,Fe=Math.round,Ne=y.RangeError,Ue=M.ArrayBuffer,Be=M.DataView,ze=O.NATIVE_ARRAY_BUFFER_VIEWS,qe=O.TYPED_ARRAY_TAG,He=O.TypedArray,Ge=O.TypedArrayPrototype,Je=O.aTypedArrayConstructor,Ve=O.isTypedArray,H=function(s,f){for(var _=0,P=f.length,y=new(Je(s))(P);P>_;)y[_]=f[_++];return y},z=function(s,f){Te(s,f,{get:function(){return be(this)[f]}})},V=function(s){var f;return s instanceof Ue||"ArrayBuffer"==(f=oe(s))||"SharedArrayBuffer"==f},G=function(s,f){return Ve(s)&&"symbol"!=typeof f&&f in s&&String(+f)==String(f)},X=function(s,f){return G(s,f=se(f,!0))?ee(2,s[f]):Ce(s,f)},K=function(s,f,_){return!(G(s,f=se(f,!0))&&ce(_)&&ae(_,"value"))||ae(_,"get")||ae(_,"set")||_.configurable||ae(_,"writable")&&!_.writable||ae(_,"enumerable")&&!_.enumerable?Te(s,f,_):(s[f]=_.value,s)};S?(ze||(me.f=X,ge.f=K,z(Ge,"buffer"),z(Ge,"byteOffset"),z(Ge,"byteLength"),z(Ge,"length")),P({target:"Object",stat:!0,forced:!ze},{getOwnPropertyDescriptor:X,defineProperty:K}),s.exports=function(s,f,_){var S=s.match(/\d+$/)[0]/8,O=s+(_?"Clamped":"")+"Array",M="get"+s,ee="set"+s,se=y[O],ae=se,oe=ae&&ae.prototype,ge={},A=function(s,f){Te(s,f,{get:function(){return function(s,f){var _=be(s);return _.view[M](f*S+_.byteOffset,!0)}(this,f)},set:function(s){return function(s,f,P){var y=be(s);_&&(P=(P=Fe(P))<0?0:P>255?255:255&P),y.view[ee](f*S+y.byteOffset,P,!0)}(this,f,s)},enumerable:!0})};ze?E&&(ae=f((function(s,f,_,P){return q(s,ae,O),we(ce(f)?V(f)?void 0!==P?new se(f,ie(_,S),P):void 0!==_?new se(f,ie(_,S)):new se(f):Ve(f)?H(ae,f):he.call(ae,f):new se(ne(f)),s,ae)})),ue&&ue(ae,He),pe(de(se),(function(s){s in ae||te(ae,s,se[s])})),ae.prototype=oe):(ae=f((function(s,f,_,P){q(s,ae,O);var y,E,M,ee=0,te=0;if(ce(f)){if(!V(f))return Ve(f)?H(ae,f):he.call(ae,f);y=f,te=ie(_,S);var se=f.byteLength;if(void 0===P){if(se%S)throw Ne("Wrong length");if((E=se-te)<0)throw Ne("Wrong length")}else if((E=re(P)*S)+te>se)throw Ne("Wrong length");M=E/S}else M=ne(f),y=new Ue(E=M*S);for(ye(s,{buffer:y,byteOffset:te,byteLength:E,length:M,view:new Be(y)});ee<M;)A(s,ee++)})),ue&&ue(ae,He),oe=ae.prototype=le(Ge)),oe.constructor!==ae&&te(oe,"constructor",ae),qe&&te(oe,qe,O),ge[O]=ae,P({global:!0,forced:ae!=se,sham:!ze},ge),"BYTES_PER_ELEMENT"in ae||te(ae,"BYTES_PER_ELEMENT",S),"BYTES_PER_ELEMENT"in oe||te(oe,"BYTES_PER_ELEMENT",S),fe(O)}):s.exports=function(){}},function(s,f,_){var P=_(98),y=_(18),S=_(2)("toStringTag"),E="Arguments"==y(function(){return arguments}());s.exports=P?y:function(s){var f,_,P;return void 0===s?"Undefined":null===s?"Null":"string"==typeof(_=function(s,f){try{return s[f]}catch(s){}}(f=Object(s),S))?_:E?y(f):"Object"==(P=y(f))&&"function"==typeof f.callee?"Arguments":P}},function(s,f){s.exports=function(s,f,_){if(!(s instanceof f))throw TypeError("Incorrect "+(_?_+" ":"")+"invocation");return s}},function(s,f,_){"use strict";var P=_(6),y=_(1),S=_(46),E=_(3),O=_(39),M=_(10),q=_(66),ee=S.ArrayBuffer,te=S.DataView,re=ee.prototype.slice;P({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:y((function(){return!new ee(2).slice(1,void 0).byteLength}))},{slice:function(s,f){if(void 0!==re&&void 0===f)return re.call(E(this),s);for(var _=E(this).byteLength,P=O(s,_),y=O(void 0===f?_:f,_),S=new(q(this,ee))(M(y-P)),ne=new te(this),ie=new te(S),se=0;P<y;)ie.setUint8(se++,ne.getUint8(P++));return S}})},function(s,f,_){var P=_(1),y=_(18),S="".split;s.exports=P((function(){return!Object("z").propertyIsEnumerable(0)}))?function(s){return"String"==y(s)?S.call(s,""):Object(s)}:Object},function(s,f,_){var P=_(0),y=_(37),S=P["__core-js_shared__"]||y("__core-js_shared__",{});s.exports=S},function(s,f,_){var P=_(0),y=_(7);s.exports=function(s,f){try{y(P,s,f)}catch(_){P[s]=f}return f}},function(s,f){var _=0,P=Math.random();s.exports=function(s){return"Symbol("+String(void 0===s?"":s)+")_"+(++_+P).toString(36)}},function(s,f,_){var P=_(14),y=Math.max,S=Math.min;s.exports=function(s,f){var _=P(s);return _<0?y(_+f,0):S(_,f)}},function(s,f){s.exports={}},function(s,f){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,f,_){var P=_(52),y=_(38),S=P("keys");s.exports=function(s){return S[s]||(S[s]=y(s))}},function(s,f,_){var P=_(8),y=_(61),S=_(16),E=_(26),O=_(28),M=_(4),q=_(53),ee=Object.getOwnPropertyDescriptor;f.f=P?ee:function(s,f){if(s=E(s),f=O(f,!0),q)try{return ee(s,f)}catch(s){}if(M(s,f))return S(!y.f.call(s,f),s[f])}},function(s,f,_){var P=_(58),y=_(41).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(s){return P(s,y)}},function(s,f,_){"use strict";var P,y=_(68),S=_(8),E=_(0),O=_(9),M=_(4),q=_(32),ee=_(7),te=_(12),re=_(11).f,ne=_(30),ie=_(22),se=_(2),ae=_(38),oe=E.Int8Array,ce=oe&&oe.prototype,le=E.Uint8ClampedArray,ue=le&&le.prototype,de=oe&&ne(oe),he=ce&&ne(ce),pe=Object.prototype,fe=pe.isPrototypeOf,ge=se("toStringTag"),me=ae("TYPED_ARRAY_TAG"),ve=y&&!!ie&&"Opera"!==q(E.opera),we=!1,be={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ye={BigInt64Array:8,BigUint64Array:8},j=function(s){if(!O(s))return!1;var f=q(s);return M(be,f)||M(ye,f)};for(P in be)E[P]||(ve=!1);if((!ve||"function"!=typeof de||de===Function.prototype)&&(de=function(){throw TypeError("Incorrect invocation")},ve))for(P in be)E[P]&&ie(E[P],de);if((!ve||!he||he===pe)&&(he=de.prototype,ve))for(P in be)E[P]&&ie(E[P].prototype,he);if(ve&&ne(ue)!==he&&ie(ue,he),S&&!M(he,ge))for(P in we=!0,re(he,ge,{get:function(){return O(this)?this[me]:void 0}}),be)E[P]&&ee(E[P],me,P);s.exports={NATIVE_ARRAY_BUFFER_VIEWS:ve,TYPED_ARRAY_TAG:we&&me,aTypedArray:function(s){if(j(s))return s;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(s){if(ie){if(fe.call(de,s))return s}else for(var f in be)if(M(be,P)){var _=E[f];if(_&&(s===_||fe.call(_,s)))return s}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(s,f,_){if(S){if(_)for(var P in be){var y=E[P];y&&M(y.prototype,s)&&delete y.prototype[s]}he[s]&&!_||te(he,s,_?f:ve&&ce[s]||f)}},exportTypedArrayStaticMethod:function(s,f,_){var P,y;if(S){if(ie){if(_)for(P in be)(y=E[P])&&M(y,s)&&delete y[s];if(de[s]&&!_)return;try{return te(de,s,_?f:ve&&oe[s]||f)}catch(s){}}for(P in be)!(y=E[P])||y[s]&&!_||te(y,s,f)}},isView:function(s){if(!O(s))return!1;var f=q(s);return"DataView"===f||M(be,f)||M(ye,f)},isTypedArray:j,TypedArray:de,TypedArrayPrototype:he}},function(s,f,_){"use strict";var P=_(0),y=_(8),S=_(68),E=_(7),O=_(69),M=_(1),q=_(33),ee=_(14),te=_(10),re=_(70),ne=_(99),ie=_(30),se=_(22),ae=_(44).f,oe=_(11).f,ce=_(100),le=_(21),ue=_(15),de=ue.get,he=ue.set,pe=P.ArrayBuffer,fe=pe,ge=P.DataView,me=ge&&ge.prototype,ve=Object.prototype,we=P.RangeError,be=ne.pack,ye=ne.unpack,j=function(s){return[255&s]},L=function(s){return[255&s,s>>8&255]},R=function(s){return[255&s,s>>8&255,s>>16&255,s>>24&255]},D=function(s){return s[3]<<24|s[2]<<16|s[1]<<8|s[0]},W=function(s){return be(s,23,4)},I=function(s){return be(s,52,8)},F=function(s,f){oe(s.prototype,f,{get:function(){return de(this)[f]}})},C=function(s,f,_,P){var y=re(_),S=de(s);if(y+f>S.byteLength)throw we("Wrong index");var E=de(S.buffer).bytes,O=y+S.byteOffset,M=E.slice(O,O+f);return P?M:M.reverse()},N=function(s,f,_,P,y,S){var E=re(_),O=de(s);if(E+f>O.byteLength)throw we("Wrong index");for(var M=de(O.buffer).bytes,q=E+O.byteOffset,ee=P(+y),te=0;te<f;te++)M[q+te]=ee[S?te:f-te-1]};if(S){if(!M((function(){pe(1)}))||!M((function(){new pe(-1)}))||M((function(){return new pe,new pe(1.5),new pe(NaN),"ArrayBuffer"!=pe.name}))){for(var Te,Ce=(fe=function(s){return q(this,fe),new pe(re(s))}).prototype=pe.prototype,Fe=ae(pe),Ne=0;Fe.length>Ne;)(Te=Fe[Ne++])in fe||E(fe,Te,pe[Te]);Ce.constructor=fe}se&&ie(me)!==ve&&se(me,ve);var Ue=new ge(new fe(2)),Be=me.setInt8;Ue.setInt8(0,2147483648),Ue.setInt8(1,2147483649),!Ue.getInt8(0)&&Ue.getInt8(1)||O(me,{setInt8:function(s,f){Be.call(this,s,f<<24>>24)},setUint8:function(s,f){Be.call(this,s,f<<24>>24)}},{unsafe:!0})}else fe=function(s){q(this,fe,"ArrayBuffer");var f=re(s);he(this,{bytes:ce.call(new Array(f),0),byteLength:f}),y||(this.byteLength=f)},ge=function(s,f,_){q(this,ge,"DataView"),q(s,fe,"DataView");var P=de(s).byteLength,S=ee(f);if(S<0||S>P)throw we("Wrong offset");if(S+(_=void 0===_?P-S:te(_))>P)throw we("Wrong length");he(this,{buffer:s,byteLength:_,byteOffset:S}),y||(this.buffer=s,this.byteLength=_,this.byteOffset=S)},y&&(F(fe,"byteLength"),F(ge,"buffer"),F(ge,"byteLength"),F(ge,"byteOffset")),O(ge.prototype,{getInt8:function(s){return C(this,1,s)[0]<<24>>24},getUint8:function(s){return C(this,1,s)[0]},getInt16:function(s){var f=C(this,2,s,arguments.length>1?arguments[1]:void 0);return(f[1]<<8|f[0])<<16>>16},getUint16:function(s){var f=C(this,2,s,arguments.length>1?arguments[1]:void 0);return f[1]<<8|f[0]},getInt32:function(s){return D(C(this,4,s,arguments.length>1?arguments[1]:void 0))},getUint32:function(s){return D(C(this,4,s,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(s){return ye(C(this,4,s,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(s){return ye(C(this,8,s,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(s,f){N(this,1,s,j,f)},setUint8:function(s,f){N(this,1,s,j,f)},setInt16:function(s,f){N(this,2,s,L,f,arguments.length>2?arguments[2]:void 0)},setUint16:function(s,f){N(this,2,s,L,f,arguments.length>2?arguments[2]:void 0)},setInt32:function(s,f){N(this,4,s,R,f,arguments.length>2?arguments[2]:void 0)},setUint32:function(s,f){N(this,4,s,R,f,arguments.length>2?arguments[2]:void 0)},setFloat32:function(s,f){N(this,4,s,W,f,arguments.length>2?arguments[2]:void 0)},setFloat64:function(s,f){N(this,8,s,I,f,arguments.length>2?arguments[2]:void 0)}});le(fe,"ArrayBuffer"),le(ge,"DataView"),s.exports={ArrayBuffer:fe,DataView:ge}},function(s,f,_){var P=_(2),y=_(20),S=P("iterator"),E=Array.prototype;s.exports=function(s){return void 0!==s&&(y.Array===s||E[S]===s)}},function(s,f,_){"use strict";var P,y,S=_(113),E=_(114),O=RegExp.prototype.exec,M=String.prototype.replace,q=O,ee=(P=/a/,y=/b*/g,O.call(P,"a"),O.call(y,"a"),0!==P.lastIndex||0!==y.lastIndex),te=E.UNSUPPORTED_Y||E.BROKEN_CARET,re=void 0!==/()??/.exec("")[1];(ee||re||te)&&(q=function(s){var f,_,P,y,E=this,q=te&&E.sticky,ne=S.call(E),ie=E.source,se=0,ae=s;return q&&(-1===(ne=ne.replace("y","")).indexOf("g")&&(ne+="g"),ae=String(s).slice(E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==s[E.lastIndex-1])&&(ie="(?: "+ie+")",ae=" "+ae,se++),_=new RegExp("^(?:"+ie+")",ne)),re&&(_=new RegExp("^"+ie+"$(?!\\s)",ne)),ee&&(f=E.lastIndex),P=O.call(q?_:E,ae),q?P?(P.input=P.input.slice(se),P[0]=P[0].slice(se),P.index=E.lastIndex,E.lastIndex+=P[0].length):E.lastIndex=0:ee&&P&&(E.lastIndex=E.global?P.index+P[0].length:f),re&&P&&P.length>1&&M.call(P[0],_,(function(){for(y=1;y<arguments.length-2;y++)void 0===arguments[y]&&(P[y]=void 0)})),P}),s.exports=q},function(s,f,_){var P=_(14),y=_(27),o=function(s){return function(f,_){var S,E,O=String(y(f)),M=P(_),q=O.length;return M<0||M>=q?s?"":void 0:(S=O.charCodeAt(M))<55296||S>56319||M+1===q||(E=O.charCodeAt(M+1))<56320||E>57343?s?O.charAt(M):S:s?O.slice(M,M+2):E-56320+(S-55296<<10)+65536}};s.exports={codeAt:o(!1),charAt:o(!0)}},function(s,f,_){var P;!function(y,S){"use strict";var E="model",O="name",M="type",q="vendor",ee="version",te="mobile",re="tablet",ne="smarttv",p=function(s){for(var f={},_=0;_<s.length;_++)f[s[_].toUpperCase()]=s[_];return f},g=function(s,f){return"string"==typeof s&&-1!==m(f).indexOf(m(s))},m=function(s){return s.toLowerCase()},v=function(s,f){if("string"==typeof s)return s=s.replace(/^\s\s*/,""),void 0===f?s:s.substring(0,350)},b=function(s,f){for(var _,P,y,S,E,O,M=0;M<f.length&&!E;){var q=f[M],ee=f[M+1];for(_=P=0;_<q.length&&!E;)if(E=q[_++].exec(s))for(y=0;y<ee.length;y++)O=E[++P],"object"==typeof(S=ee[y])&&S.length>0?2===S.length?"function"==typeof S[1]?this[S[0]]=S[1].call(this,O):this[S[0]]=S[1]:3===S.length?"function"!=typeof S[1]||S[1].exec&&S[1].test?this[S[0]]=O?O.replace(S[1],S[2]):void 0:this[S[0]]=O?S[1].call(this,O,S[2]):void 0:4===S.length&&(this[S[0]]=O?S[3].call(this,O.replace(S[1],S[2])):void 0):this[S]=O||void 0;M+=2}},w=function(s,f){for(var _ in f)if("object"==typeof f[_]&&f[_].length>0){for(var P=0;P<f[_].length;P++)if(g(f[_][P],s))return"?"===_?void 0:_}else if(g(f[_],s))return"?"===_?void 0:_;return s},ie={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},se={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ee,[O,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ee,[O,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[O,ee],[/opios[\/ ]+([\w\.]+)/i],[ee,[O,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[ee,[O,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[O,ee],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ee,[O,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[ee,[O,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[ee,[O,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ee,[O,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ee,[O,"IE"]],[/yabrowser\/([\w\.]+)/i],[ee,[O,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[O,/(.+)/,"$1 Secure Browser"],ee],[/\bfocus\/([\w\.]+)/i],[ee,[O,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[ee,[O,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ee,[O,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ee,[O,"Dolphin"]],[/coast\/([\w\.]+)/i],[ee,[O,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[ee,[O,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[ee,[O,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[O,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[O,/(.+)/,"$1 Browser"],ee],[/(comodo_dragon)\/([\w\.]+)/i],[[O,/_/g," "],ee],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[O,ee],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[O],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[O,"Facebook"],ee],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[O,ee],[/\bgsa\/([\w\.]+) .*safari\//i],[ee,[O,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ee,[O,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[O,"Chrome WebView"],ee],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ee,[O,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[O,ee],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ee,[O,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ee,O],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[O,[ee,w,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[O,ee],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[O,"Netscape"],ee],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ee,[O,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[O,ee],[/(cobalt)\/([\w\.]+)/i],[O,[ee,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",m]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",m]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",m]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[q,"Samsung"],[M,re]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[E,[q,"Samsung"],[M,te]],[/\((ip(?:hone|od)[\w ]*);/i],[E,[q,"Apple"],[M,te]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[q,"Apple"],[M,re]],[/(macintosh);/i],[E,[q,"Apple"]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[E,[q,"Huawei"],[M,re]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[q,"Huawei"],[M,te]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[E,/_/g," "],[q,"Xiaomi"],[M,te]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[E,/_/g," "],[q,"Xiaomi"],[M,re]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[q,"OPPO"],[M,te]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[q,"Vivo"],[M,te]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[E,[q,"Realme"],[M,te]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[q,"Motorola"],[M,te]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[q,"Motorola"],[M,re]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[q,"LG"],[M,re]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[q,"LG"],[M,te]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[E,[q,"Lenovo"],[M,re]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[E,/_/g," "],[q,"Nokia"],[M,te]],[/(pixel c)\b/i],[E,[q,"Google"],[M,re]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[q,"Google"],[M,te]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[q,"Sony"],[M,te]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[q,"Sony"],[M,re]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[q,"OnePlus"],[M,te]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[q,"Amazon"],[M,re]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[q,"Amazon"],[M,te]],[/(playbook);[-\w\),; ]+(rim)/i],[E,q,[M,re]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[q,"BlackBerry"],[M,te]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[q,"ASUS"],[M,re]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[q,"ASUS"],[M,te]],[/(nexus 9)/i],[E,[q,"HTC"],[M,re]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[E,/_/g," "],[M,te]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[q,"Acer"],[M,re]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[q,"Meizu"],[M,te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[q,"Sharp"],[M,te]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,E,[M,te]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,E,[M,re]],[/(surface duo)/i],[E,[q,"Microsoft"],[M,re]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[q,"Fairphone"],[M,te]],[/(u304aa)/i],[E,[q,"AT&T"],[M,te]],[/\bsie-(\w*)/i],[E,[q,"Siemens"],[M,te]],[/\b(rct\w+) b/i],[E,[q,"RCA"],[M,re]],[/\b(venue[\d ]{2,7}) b/i],[E,[q,"Dell"],[M,re]],[/\b(q(?:mv|ta)\w+) b/i],[E,[q,"Verizon"],[M,re]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[E,[q,"Barnes & Noble"],[M,re]],[/\b(tm\d{3}\w+) b/i],[E,[q,"NuVision"],[M,re]],[/\b(k88) b/i],[E,[q,"ZTE"],[M,re]],[/\b(nx\d{3}j) b/i],[E,[q,"ZTE"],[M,te]],[/\b(gen\d{3}) b.+49h/i],[E,[q,"Swiss"],[M,te]],[/\b(zur\d{3}) b/i],[E,[q,"Swiss"],[M,re]],[/\b((zeki)?tb.*\b) b/i],[E,[q,"Zeki"],[M,re]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],E,[M,re]],[/\b(ns-?\w{0,9}) b/i],[E,[q,"Insignia"],[M,re]],[/\b((nxa|next)-?\w{0,9}) b/i],[E,[q,"NextBook"],[M,re]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],E,[M,te]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],E,[M,te]],[/\b(ph-1) /i],[E,[q,"Essential"],[M,te]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[E,[q,"Envizen"],[M,re]],[/\b(trio[-\w\. ]+) b/i],[E,[q,"MachSpeed"],[M,re]],[/\btu_(1491) b/i],[E,[q,"Rotor"],[M,re]],[/(shield[\w ]+) b/i],[E,[q,"Nvidia"],[M,re]],[/(sprint) (\w+)/i],[q,E,[M,te]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[q,"Microsoft"],[M,te]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[q,"Zebra"],[M,re]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[q,"Zebra"],[M,te]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,E,[M,"console"]],[/droid.+; (shield) bui/i],[E,[q,"Nvidia"],[M,"console"]],[/(playstation [345portablevi]+)/i],[E,[q,"Sony"],[M,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[q,"Microsoft"],[M,"console"]],[/smart-tv.+(samsung)/i],[q,[M,ne]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[q,"Samsung"],[M,ne]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[M,ne]],[/(apple) ?tv/i],[q,[E,"Apple TV"],[M,ne]],[/crkey/i],[[E,"Chromecast"],[q,"Google"],[M,ne]],[/droid.+aft(\w)( bui|\))/i],[E,[q,"Amazon"],[M,ne]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[q,"Sharp"],[M,ne]],[/(bravia[\w ]+)( bui|\))/i],[E,[q,"Sony"],[M,ne]],[/(mitv-\w{5}) bui/i],[E,[q,"Xiaomi"],[M,ne]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[q,v],[E,v],[M,ne]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[M,ne]],[/((pebble))app/i],[q,E,[M,"wearable"]],[/droid.+; (glass) \d/i],[E,[q,"Google"],[M,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[E,[q,"Zebra"],[M,"wearable"]],[/(quest( 2)?)/i],[E,[q,"Facebook"],[M,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[M,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[E,[M,te]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[E,[M,re]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[M,re]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[M,te]],[/(android[-\w\. ]{0,9});.+buil/i],[E,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ee,[O,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ee,[O,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[O,ee],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ee,O]],os:[[/microsoft (windows) (vista|xp)/i],[O,ee],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[O,[ee,w,ie]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[O,"Windows"],[ee,w,ie]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[ee,/_/g,"."],[O,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[O,"Mac OS"],[ee,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ee,O],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[O,ee],[/\(bb(10);/i],[ee,[O,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ee,[O,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ee,[O,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ee,[O,"webOS"]],[/crkey\/([\d\.]+)/i],[ee,[O,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[O,"Chromium OS"],ee],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[O,ee],[/(sunos) ?([\w\.\d]*)/i],[[O,"Solaris"],ee],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[O,ee]]},k=function(s,f){if("object"==typeof s&&(f=s,s=void 0),!(this instanceof k))return new k(s,f).getResult();var _=s||(void 0!==y&&y.navigator&&y.navigator.userAgent?y.navigator.userAgent:""),P=f?function(s,f){var _={};for(var P in s)f[P]&&f[P].length%2==0?_[P]=f[P].concat(s[P]):_[P]=s[P];return _}(se,f):se;return this.getBrowser=function(){var s,f={};return f[O]=void 0,f[ee]=void 0,b.call(f,_,P.browser),f.major="string"==typeof(s=f.version)?s.replace(/[^\d\.]/g,"").split(".")[0]:void 0,f},this.getCPU=function(){var s={architecture:void 0};return b.call(s,_,P.cpu),s},this.getDevice=function(){var s={vendor:void 0,model:void 0,type:void 0};return b.call(s,_,P.device),s},this.getEngine=function(){var s={name:void 0,version:void 0};return b.call(s,_,P.engine),s},this.getOS=function(){var s={name:void 0,version:void 0};return b.call(s,_,P.os),s},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(s){return _="string"==typeof s&&s.length>350?v(s,350):s,this},this.setUA(_),this};k.VERSION="1.0.33",k.BROWSER=p([O,ee,"major"]),k.CPU=p(["architecture"]),k.DEVICE=p([E,q,M,"console",te,ne,re,"wearable","embedded"]),k.ENGINE=k.OS=p([O,ee]),void 0!==f?(void 0!==s&&s.exports&&(f=s.exports=k),f.UAParser=k):_(128)?void 0===(P=function(){return k}.call(f,_,f,s))||(s.exports=P):void 0!==y&&(y.UAParser=k);var ae=void 0!==y&&(y.jQuery||y.Zepto);if(ae&&!ae.ua){var oe=new k;ae.ua=oe.getResult(),ae.ua.get=function(){return oe.getUA()},ae.ua.set=function(s){oe.setUA(s);var f=oe.getResult();for(var _ in f)ae.ua[_]=f[_]}}}("object"==typeof window?window:this)},function(s,f,_){"use strict";var P=_(26),y=_(79),S=_(20),E=_(15),O=_(60),M=E.set,q=E.getterFor("Array Iterator");s.exports=O(Array,"Array",(function(s,f){M(this,{type:"Array Iterator",target:P(s),index:0,kind:f})}),(function(){var s=q(this),f=s.target,_=s.kind,P=s.index++;return!f||P>=f.length?(s.target=void 0,{value:void 0,done:!0}):"keys"==_?{value:P,done:!1}:"values"==_?{value:f[P],done:!1}:{value:[P,f[P]],done:!1}}),"values"),S.Arguments=S.Array,y("keys"),y("values"),y("entries")},function(s,f,_){var P=_(19),y=_(36);(s.exports=function(s,f){return y[s]||(y[s]=void 0!==f?f:{})})("versions",[]).push({version:"3.9.1",mode:P?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,f,_){var P=_(8),y=_(1),S=_(54);s.exports=!P&&!y((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a}))},function(s,f,_){var P=_(0),y=_(9),S=P.document,E=y(S)&&y(S.createElement);s.exports=function(s){return E?S.createElement(s):{}}},function(s,f,_){var P=_(80),y=_(81),S=_(1);s.exports=!!Object.getOwnPropertySymbols&&!S((function(){return!Symbol.sham&&(P?38===y:y>37&&y<41)}))},function(s,f,_){var P=_(8),y=_(11),S=_(3),E=_(57);s.exports=P?Object.defineProperties:function(s,f){S(s);for(var _,P=E(f),O=P.length,M=0;O>M;)y.f(s,_=P[M++],f[_]);return s}},function(s,f,_){var P=_(58),y=_(41);s.exports=Object.keys||function(s){return P(s,y)}},function(s,f,_){var P=_(4),y=_(26),S=_(85).indexOf,E=_(40);s.exports=function(s,f){var _,O=y(s),M=0,q=[];for(_ in O)!P(E,_)&&P(O,_)&&q.push(_);for(;f.length>M;)P(O,_=f[M++])&&(~S(q,_)||q.push(_));return q}},function(s,f,_){var P=_(36),y=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(s){return y.call(s)}),s.exports=P.inspectSource},function(s,f,_){"use strict";var P=_(6),y=_(63),S=_(30),E=_(22),O=_(21),M=_(7),q=_(12),ee=_(2),te=_(19),re=_(20),ne=_(64),ie=ne.IteratorPrototype,se=ne.BUGGY_SAFARI_ITERATORS,ae=ee("iterator"),v=function(){return this};s.exports=function(s,f,_,ee,ne,oe,ce){y(_,f,ee);var le,ue,de,T=function(s){if(s===ne&&me)return me;if(!se&&s in fe)return fe[s];switch(s){case"keys":case"values":case"entries":return function(){return new _(this,s)}}return function(){return new _(this)}},he=f+" Iterator",pe=!1,fe=s.prototype,ge=fe[ae]||fe["@@iterator"]||ne&&fe[ne],me=!se&&ge||T(ne),ve="Array"==f&&fe.entries||ge;if(ve&&(le=S(ve.call(new s)),ie!==Object.prototype&&le.next&&(te||S(le)===ie||(E?E(le,ie):"function"!=typeof le[ae]&&M(le,ae,v)),O(le,he,!0,!0),te&&(re[he]=v))),"values"==ne&&ge&&"values"!==ge.name&&(pe=!0,me=function(){return ge.call(this)}),te&&!ce||fe[ae]===me||M(fe,ae,me),re[f]=me,ne)if(ue={values:T("values"),keys:oe?me:T("keys"),entries:T("entries")},ce)for(de in ue)(se||pe||!(de in fe))&&q(fe,de,ue[de]);else P({target:f,proto:!0,forced:se||pe},ue);return ue}},function(s,f,_){"use strict";var P={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,S=y&&!P.call({1:2},1);f.f=S?function(s){var f=y(this,s);return!!f&&f.enumerable}:P},function(s,f){f.f=Object.getOwnPropertySymbols},function(s,f,_){"use strict";var P=_(64).IteratorPrototype,y=_(29),S=_(16),E=_(21),O=_(20),c=function(){return this};s.exports=function(s,f,_){var M=f+" Iterator";return s.prototype=y(P,{next:S(1,_)}),E(s,M,!1,!0),O[M]=c,s}},function(s,f,_){"use strict";var P,y,S,E=_(1),O=_(30),M=_(7),q=_(4),ee=_(2),te=_(19),re=ee("iterator"),ne=!1;[].keys&&("next"in(S=[].keys())?(y=O(O(S)))!==Object.prototype&&(P=y):ne=!0);var ie=null==P||E((function(){var s={};return P[re].call(s)!==s}));ie&&(P={}),te&&!ie||q(P,re)||M(P,re,(function(){return this})),s.exports={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:ne}},function(s,f,_){"use strict";var P=_(6),y=_(19),S=_(93),E=_(1),O=_(17),M=_(66),q=_(94),ee=_(12);P({target:"Promise",proto:!0,real:!0,forced:!!S&&E((function(){S.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(s){var f=M(this,O("Promise")),_="function"==typeof s;return this.then(_?function(_){return q(f,s()).then((function(){return _}))}:s,_?function(_){return q(f,s()).then((function(){throw _}))}:s)}}),y||"function"!=typeof S||S.prototype.finally||ee(S.prototype,"finally",O("Promise").prototype.finally)},function(s,f,_){var P=_(3),y=_(23),S=_(2)("species");s.exports=function(s,f){var _,E=P(s).constructor;return void 0===E||null==(_=P(E)[S])?f:y(_)}},function(s,f,_){"use strict";var P=_(23),i=function(s){var f,_;this.promise=new s((function(s,P){if(void 0!==f||void 0!==_)throw TypeError("Bad Promise constructor");f=s,_=P})),this.resolve=P(f),this.reject=P(_)};s.exports.f=function(s){return new i(s)}},function(s,f){s.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(s,f,_){var P=_(12);s.exports=function(s,f,_){for(var y in f)P(s,y,f[y],_);return s}},function(s,f,_){var P=_(14),y=_(10);s.exports=function(s){if(void 0===s)return 0;var f=P(s),_=y(f);if(f!==_)throw RangeError("Wrong length or index");return _}},function(s,f,_){"use strict";var P=_(17),y=_(11),S=_(2),E=_(8),O=S("species");s.exports=function(s){var f=P(s),_=y.f;E&&f&&!f[O]&&_(f,O,{configurable:!0,get:function(){return this}})}},function(s,f,_){_(31)("Uint8",(function(s){return function(f,_,P){return s(this,f,_,P)}}))},function(s,f,_){"use strict";_(119);var P,y=_(6),S=_(8),E=_(74),O=_(0),M=_(56),q=_(12),ee=_(33),te=_(4),re=_(120),ne=_(121),ie=_(49).codeAt,se=_(124),ae=_(21),oe=_(125),ce=_(15),le=O.URL,ue=oe.URLSearchParams,de=oe.getState,he=ce.set,pe=ce.getterFor("URL"),fe=Math.floor,ge=Math.pow,me=/[A-Za-z]/,ve=/[\d+-.A-Za-z]/,we=/\d/,be=/^(0x|0X)/,ye=/^[0-7]+$/,Te=/^\d+$/,Ce=/^[\dA-Fa-f]+$/,Fe=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,Ne=/[\u0000\t\u000A\u000D #/:?@[\\]]/,Ue=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Be=/[\t\u000A\u000D]/g,F=function(s,f){var _,P,y;if("["==f.charAt(0)){if("]"!=f.charAt(f.length-1))return"Invalid host";if(!(_=N(f.slice(1,-1))))return"Invalid host";s.host=_}else if(X(s)){if(f=se(f),Fe.test(f))return"Invalid host";if(null===(_=C(f)))return"Invalid host";s.host=_}else{if(Ne.test(f))return"Invalid host";for(_="",P=ne(f),y=0;y<P.length;y++)_+=V(P[y],ze);s.host=_}},C=function(s){var f,_,P,y,S,E,O,M=s.split(".");if(M.length&&""==M[M.length-1]&&M.pop(),(f=M.length)>4)return s;for(_=[],P=0;P<f;P++){if(""==(y=M[P]))return s;if(S=10,y.length>1&&"0"==y.charAt(0)&&(S=be.test(y)?16:8,y=y.slice(8==S?1:2)),""===y)E=0;else{if(!(10==S?Te:8==S?ye:Ce).test(y))return s;E=parseInt(y,S)}_.push(E)}for(P=0;P<f;P++)if(E=_[P],P==f-1){if(E>=ge(256,5-f))return null}else if(E>255)return null;for(O=_.pop(),P=0;P<_.length;P++)O+=_[P]*ge(256,3-P);return O},N=function(s){var f,_,P,y,S,E,O,M=[0,0,0,0,0,0,0,0],q=0,ee=null,te=0,d=function(){return s.charAt(te)};if(":"==d()){if(":"!=s.charAt(1))return;te+=2,ee=++q}for(;d();){if(8==q)return;if(":"!=d()){for(f=_=0;_<4&&Ce.test(d());)f=16*f+parseInt(d(),16),te++,_++;if("."==d()){if(0==_)return;if(te-=_,q>6)return;for(P=0;d();){if(y=null,P>0){if(!("."==d()&&P<4))return;te++}if(!we.test(d()))return;for(;we.test(d());){if(S=parseInt(d(),10),null===y)y=S;else{if(0==y)return;y=10*y+S}if(y>255)return;te++}M[q]=256*M[q]+y,2!=++P&&4!=P||q++}if(4!=P)return;break}if(":"==d()){if(te++,!d())return}else if(d())return;M[q++]=f}else{if(null!==ee)return;te++,ee=++q}}if(null!==ee)for(E=q-ee,q=7;0!=q&&E>0;)O=M[q],M[q--]=M[ee+E-1],M[ee+--E]=O;else if(8!=q)return;return M},B=function(s){var f,_,P,y;if("number"==typeof s){for(f=[],_=0;_<4;_++)f.unshift(s%256),s=fe(s/256);return f.join(".")}if("object"==typeof s){for(f="",P=function(s){for(var f=null,_=1,P=null,y=0,S=0;S<8;S++)0!==s[S]?(y>_&&(f=P,_=y),P=null,y=0):(null===P&&(P=S),++y);return y>_&&(f=P,_=y),f}(s),_=0;_<8;_++)y&&0===s[_]||(y&&(y=!1),P===_?(f+=_?":":"::",y=!0):(f+=s[_].toString(16),_<7&&(f+=":")));return"["+f+"]"}return s},ze={},qe=re({},ze,{" ":1,'"':1,"<":1,">":1,"`":1}),He=re({},qe,{"#":1,"?":1,"{":1,"}":1}),Ge=re({},He,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(s,f){var _=ie(s,0);return _>32&&_<127&&!te(f,s)?s:encodeURIComponent(s)},Je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(s){return te(Je,s.scheme)},K=function(s){return""!=s.username||""!=s.password},Y=function(s){return!s.host||s.cannotBeABaseURL||"file"==s.scheme},$=function(s,f){var _;return 2==s.length&&me.test(s.charAt(0))&&(":"==(_=s.charAt(1))||!f&&"|"==_)},Z=function(s){var f;return s.length>1&&$(s.slice(0,2))&&(2==s.length||"/"===(f=s.charAt(2))||"\\"===f||"?"===f||"#"===f)},J=function(s){var f=s.path,_=f.length;!_||"file"==s.scheme&&1==_&&$(f[0],!0)||f.pop()},Q=function(s){return"."===s||"%2e"===s.toLowerCase()},Ve={},$e={},Ke={},Xe={},Ye={},Qe={},Ze={},et={},tt={},rt={},nt={},st={},at={},ot={},ct={},dt={},ht={},pt={},ft={},gt={},mt={},_e=function(s,f,_,y){var S,E,O,M,q,ee=_||Ve,re=0,ie="",se=!1,ae=!1,oe=!1;for(_||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,f=f.replace(Ue,"")),f=f.replace(Be,""),S=ne(f);re<=S.length;){switch(E=S[re],ee){case Ve:if(!E||!me.test(E)){if(_)return"Invalid scheme";ee=Ke;continue}ie+=E.toLowerCase(),ee=$e;break;case $e:if(E&&(ve.test(E)||"+"==E||"-"==E||"."==E))ie+=E.toLowerCase();else{if(":"!=E){if(_)return"Invalid scheme";ie="",ee=Ke,re=0;continue}if(_&&(X(s)!=te(Je,ie)||"file"==ie&&(K(s)||null!==s.port)||"file"==s.scheme&&!s.host))return;if(s.scheme=ie,_)return void(X(s)&&Je[s.scheme]==s.port&&(s.port=null));ie="","file"==s.scheme?ee=ot:X(s)&&y&&y.scheme==s.scheme?ee=Xe:X(s)?ee=et:"/"==S[re+1]?(ee=Ye,re++):(s.cannotBeABaseURL=!0,s.path.push(""),ee=ft)}break;case Ke:if(!y||y.cannotBeABaseURL&&"#"!=E)return"Invalid scheme";if(y.cannotBeABaseURL&&"#"==E){s.scheme=y.scheme,s.path=y.path.slice(),s.query=y.query,s.fragment="",s.cannotBeABaseURL=!0,ee=mt;break}ee="file"==y.scheme?ot:Qe;continue;case Xe:if("/"!=E||"/"!=S[re+1]){ee=Qe;continue}ee=tt,re++;break;case Ye:if("/"==E){ee=rt;break}ee=pt;continue;case Qe:if(s.scheme=y.scheme,E==P)s.username=y.username,s.password=y.password,s.host=y.host,s.port=y.port,s.path=y.path.slice(),s.query=y.query;else if("/"==E||"\\"==E&&X(s))ee=Ze;else if("?"==E)s.username=y.username,s.password=y.password,s.host=y.host,s.port=y.port,s.path=y.path.slice(),s.query="",ee=gt;else{if("#"!=E){s.username=y.username,s.password=y.password,s.host=y.host,s.port=y.port,s.path=y.path.slice(),s.path.pop(),ee=pt;continue}s.username=y.username,s.password=y.password,s.host=y.host,s.port=y.port,s.path=y.path.slice(),s.query=y.query,s.fragment="",ee=mt}break;case Ze:if(!X(s)||"/"!=E&&"\\"!=E){if("/"!=E){s.username=y.username,s.password=y.password,s.host=y.host,s.port=y.port,ee=pt;continue}ee=rt}else ee=tt;break;case et:if(ee=tt,"/"!=E||"/"!=ie.charAt(re+1))continue;re++;break;case tt:if("/"!=E&&"\\"!=E){ee=rt;continue}break;case rt:if("@"==E){se&&(ie="%40"+ie),se=!0,O=ne(ie);for(var ce=0;ce<O.length;ce++){var le=O[ce];if(":"!=le||oe){var ue=V(le,Ge);oe?s.password+=ue:s.username+=ue}else oe=!0}ie=""}else if(E==P||"/"==E||"?"==E||"#"==E||"\\"==E&&X(s)){if(se&&""==ie)return"Invalid authority";re-=ne(ie).length+1,ie="",ee=nt}else ie+=E;break;case nt:case st:if(_&&"file"==s.scheme){ee=dt;continue}if(":"!=E||ae){if(E==P||"/"==E||"?"==E||"#"==E||"\\"==E&&X(s)){if(X(s)&&""==ie)return"Invalid host";if(_&&""==ie&&(K(s)||null!==s.port))return;if(M=F(s,ie))return M;if(ie="",ee=ht,_)return;continue}"["==E?ae=!0:"]"==E&&(ae=!1),ie+=E}else{if(""==ie)return"Invalid host";if(M=F(s,ie))return M;if(ie="",ee=at,_==st)return}break;case at:if(!we.test(E)){if(E==P||"/"==E||"?"==E||"#"==E||"\\"==E&&X(s)||_){if(""!=ie){var de=parseInt(ie,10);if(de>65535)return"Invalid port";s.port=X(s)&&de===Je[s.scheme]?null:de,ie=""}if(_)return;ee=ht;continue}return"Invalid port"}ie+=E;break;case ot:if(s.scheme="file","/"==E||"\\"==E)ee=ct;else{if(!y||"file"!=y.scheme){ee=pt;continue}if(E==P)s.host=y.host,s.path=y.path.slice(),s.query=y.query;else if("?"==E)s.host=y.host,s.path=y.path.slice(),s.query="",ee=gt;else{if("#"!=E){Z(S.slice(re).join(""))||(s.host=y.host,s.path=y.path.slice(),J(s)),ee=pt;continue}s.host=y.host,s.path=y.path.slice(),s.query=y.query,s.fragment="",ee=mt}}break;case ct:if("/"==E||"\\"==E){ee=dt;break}y&&"file"==y.scheme&&!Z(S.slice(re).join(""))&&($(y.path[0],!0)?s.path.push(y.path[0]):s.host=y.host),ee=pt;continue;case dt:if(E==P||"/"==E||"\\"==E||"?"==E||"#"==E){if(!_&&$(ie))ee=pt;else if(""==ie){if(s.host="",_)return;ee=ht}else{if(M=F(s,ie))return M;if("localhost"==s.host&&(s.host=""),_)return;ie="",ee=ht}continue}ie+=E;break;case ht:if(X(s)){if(ee=pt,"/"!=E&&"\\"!=E)continue}else if(_||"?"!=E)if(_||"#"!=E){if(E!=P&&(ee=pt,"/"!=E))continue}else s.fragment="",ee=mt;else s.query="",ee=gt;break;case pt:if(E==P||"/"==E||"\\"==E&&X(s)||!_&&("?"==E||"#"==E)){if(".."===(q=(q=ie).toLowerCase())||"%2e."===q||".%2e"===q||"%2e%2e"===q?(J(s),"/"==E||"\\"==E&&X(s)||s.path.push("")):Q(ie)?"/"==E||"\\"==E&&X(s)||s.path.push(""):("file"==s.scheme&&!s.path.length&&$(ie)&&(s.host&&(s.host=""),ie=ie.charAt(0)+":"),s.path.push(ie)),ie="","file"==s.scheme&&(E==P||"?"==E||"#"==E))for(;s.path.length>1&&""===s.path[0];)s.path.shift();"?"==E?(s.query="",ee=gt):"#"==E&&(s.fragment="",ee=mt)}else ie+=V(E,He);break;case ft:"?"==E?(s.query="",ee=gt):"#"==E?(s.fragment="",ee=mt):E!=P&&(s.path[0]+=V(E,ze));break;case gt:_||"#"!=E?E!=P&&("'"==E&&X(s)?s.query+="%27":s.query+="#"==E?"%23":V(E,ze)):(s.fragment="",ee=mt);break;case mt:E!=P&&(s.fragment+=V(E,qe))}re++}},ke=function(s){var f,_,P=ee(this,ke,"URL"),y=arguments.length>1?arguments[1]:void 0,E=String(s),O=he(P,{type:"URL"});if(void 0!==y)if(y instanceof ke)f=pe(y);else if(_=_e(f={},String(y)))throw TypeError(_);if(_=_e(O,E,null,f))throw TypeError(_);var M=O.searchParams=new ue,q=de(M);q.updateSearchParams(O.query),q.updateURL=function(){O.query=String(M)||null},S||(P.href=Pe.call(P),P.origin=Se.call(P),P.protocol=Ae.call(P),P.username=Ee.call(P),P.password=Me.call(P),P.host=Oe.call(P),P.hostname=xe.call(P),P.port=je.call(P),P.pathname=Le.call(P),P.search=Re.call(P),P.searchParams=De.call(P),P.hash=We.call(P))},_t=ke.prototype,Pe=function(){var s=pe(this),f=s.scheme,_=s.username,P=s.password,y=s.host,S=s.port,E=s.path,O=s.query,M=s.fragment,q=f+":";return null!==y?(q+="//",K(s)&&(q+=_+(P?":"+P:"")+"@"),q+=B(y),null!==S&&(q+=":"+S)):"file"==f&&(q+="//"),q+=s.cannotBeABaseURL?E[0]:E.length?"/"+E.join("/"):"",null!==O&&(q+="?"+O),null!==M&&(q+="#"+M),q},Se=function(){var s=pe(this),f=s.scheme,_=s.port;if("blob"==f)try{return new URL(f.path[0]).origin}catch(s){return"null"}return"file"!=f&&X(s)?f+"://"+B(s.host)+(null!==_?":"+_:""):"null"},Ae=function(){return pe(this).scheme+":"},Ee=function(){return pe(this).username},Me=function(){return pe(this).password},Oe=function(){var s=pe(this),f=s.host,_=s.port;return null===f?"":null===_?B(f):B(f)+":"+_},xe=function(){var s=pe(this).host;return null===s?"":B(s)},je=function(){var s=pe(this).port;return null===s?"":String(s)},Le=function(){var s=pe(this),f=s.path;return s.cannotBeABaseURL?f[0]:f.length?"/"+f.join("/"):""},Re=function(){var s=pe(this).query;return s?"?"+s:""},De=function(){return pe(this).searchParams},We=function(){var s=pe(this).fragment;return s?"#"+s:""},Ie=function(s,f){return{get:s,set:f,configurable:!0,enumerable:!0}};if(S&&M(_t,{href:Ie(Pe,(function(s){var f=pe(this),_=String(s),P=_e(f,_);if(P)throw TypeError(P);de(f.searchParams).updateSearchParams(f.query)})),origin:Ie(Se),protocol:Ie(Ae,(function(s){var f=pe(this);_e(f,String(s)+":",Ve)})),username:Ie(Ee,(function(s){var f=pe(this),_=ne(String(s));if(!Y(f)){f.username="";for(var P=0;P<_.length;P++)f.username+=V(_[P],Ge)}})),password:Ie(Me,(function(s){var f=pe(this),_=ne(String(s));if(!Y(f)){f.password="";for(var P=0;P<_.length;P++)f.password+=V(_[P],Ge)}})),host:Ie(Oe,(function(s){var f=pe(this);f.cannotBeABaseURL||_e(f,String(s),nt)})),hostname:Ie(xe,(function(s){var f=pe(this);f.cannotBeABaseURL||_e(f,String(s),st)})),port:Ie(je,(function(s){var f=pe(this);Y(f)||(""==(s=String(s))?f.port=null:_e(f,s,at))})),pathname:Ie(Le,(function(s){var f=pe(this);f.cannotBeABaseURL||(f.path=[],_e(f,s+"",ht))})),search:Ie(Re,(function(s){var f=pe(this);""==(s=String(s))?f.query=null:("?"==s.charAt(0)&&(s=s.slice(1)),f.query="",_e(f,s,gt)),de(f.searchParams).updateSearchParams(f.query)})),searchParams:Ie(De),hash:Ie(We,(function(s){var f=pe(this);""!=(s=String(s))?("#"==s.charAt(0)&&(s=s.slice(1)),f.fragment="",_e(f,s,mt)):f.fragment=null}))}),q(_t,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),q(_t,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),le){var vt=le.createObjectURL,wt=le.revokeObjectURL;vt&&q(ke,"createObjectURL",(function(s){return vt.apply(le,arguments)})),wt&&q(ke,"revokeObjectURL",(function(s){return wt.apply(le,arguments)}))}ae(ke,"URL"),y({global:!0,forced:!E,sham:!S},{URL:ke})},function(s,f,_){var P=_(1),y=_(2),S=_(19),E=y("iterator");s.exports=!P((function(){var s=new URL("b?a=1&b=2&c=3","http://a"),f=s.searchParams,_="";return s.pathname="c%20d",f.forEach((function(s,P){f.delete("b"),_+=P+s})),S&&!s.toJSON||!f.sort||"http://a/c%20d?a=1&c=3"!==s.href||"3"!==f.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!f[E]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==_||"x"!==new URL("http://x",void 0).host}))},function(s,f,_){var P=_(3);s.exports=function(s){var f=s.return;if(void 0!==f)return P(f.call(s)).value}},function(s,f,_){"use strict";var P=_(6),y=_(23),S=_(67),E=_(131),O=_(132);P({target:"Promise",stat:!0},{allSettled:function(s){var f=this,_=S.f(f),P=_.resolve,M=_.reject,q=E((function(){var _=y(f.resolve),S=[],E=0,M=1;O(s,(function(s){var y=E++,O=!1;S.push(void 0),M++,_.call(f,s).then((function(s){O||(O=!0,S[y]={status:"fulfilled",value:s},--M||P(S))}),(function(s){O||(O=!0,S[y]={status:"rejected",reason:s},--M||P(S))}))})),--M||P(S)}));return q.error&&M(q.value),_.promise}})},function(s,f){var _;_=function(){return this}();try{_=_||new Function("return this")()}catch(s){"object"==typeof window&&(_=window)}s.exports=_},function(s,f){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,f,_){var P=_(2),y=_(29),S=_(11),E=P("unscopables"),O=Array.prototype;null==O[E]&&S.f(O,E,{configurable:!0,value:y(null)}),s.exports=function(s){O[E][s]=!0}},function(s,f,_){var P=_(18),y=_(0);s.exports="process"==P(y.process)},function(s,f,_){var P,y,S=_(0),E=_(82),O=S.process,M=O&&O.versions,q=M&&M.v8;q?y=(P=q.split("."))[0]+P[1]:E&&(!(P=E.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=E.match(/Chrome\/(\d+)/))&&(y=P[1]),s.exports=y&&+y},function(s,f,_){var P=_(17);s.exports=P("navigator","userAgent")||""},function(s,f,_){var P=_(0);s.exports=P},function(s,f,_){var P=_(55);s.exports=P&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(s,f,_){var P=_(26),y=_(10),S=_(39),a=function(s){return function(f,_,E){var O,M=P(f),q=y(M.length),ee=S(E,q);if(s&&_!=_){for(;q>ee;)if((O=M[ee++])!=O)return!0}else for(;q>ee;ee++)if((s||ee in M)&&M[ee]===_)return s||ee||0;return!s&&-1}};s.exports={includes:a(!0),indexOf:a(!1)}},function(s,f,_){var P=_(17);s.exports=P("document","documentElement")},function(s,f,_){var P=_(0),y=_(59),S=P.WeakMap;s.exports="function"==typeof S&&/native code/.test(y(S))},function(s,f,_){var P=_(4),y=_(89),S=_(43),E=_(11);s.exports=function(s,f){for(var _=y(f),O=E.f,M=S.f,q=0;q<_.length;q++){var ee=_[q];P(s,ee)||O(s,ee,M(f,ee))}}},function(s,f,_){var P=_(17),y=_(44),S=_(62),E=_(3);s.exports=P("Reflect","ownKeys")||function(s){var f=y.f(E(s)),_=S.f;return _?f.concat(_(s)):f}},function(s,f,_){var P=_(1),y=/#|\.prototype\./,o=function(s,f){var _=E[S(s)];return _==M||_!=O&&("function"==typeof f?P(f):!!f)},S=o.normalize=function(s){return String(s).replace(y,".").toLowerCase()},E=o.data={},O=o.NATIVE="N",M=o.POLYFILL="P";s.exports=o},function(s,f,_){var P=_(1);s.exports=!P((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(s,f,_){var P=_(9);s.exports=function(s){if(!P(s)&&null!==s)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},function(s,f,_){var P=_(0);s.exports=P.Promise},function(s,f,_){var P=_(3),y=_(9),S=_(67);s.exports=function(s,f){if(P(s),y(f)&&f.constructor===s)return f;var _=S.f(s);return(0,_.resolve)(f),_.promise}},function(s,f,_){_(31)("Uint32",(function(s){return function(f,_,P){return s(this,f,_,P)}}))},function(s,f,_){var P=_(0),y=_(1),S=_(97),E=_(45).NATIVE_ARRAY_BUFFER_VIEWS,O=P.ArrayBuffer,M=P.Int8Array;s.exports=!E||!y((function(){M(1)}))||!y((function(){new M(-1)}))||!S((function(s){new M,new M(null),new M(1.5),new M(s)}),!0)||y((function(){return 1!==new M(new O(2),1,void 0).length}))},function(s,f,_){var P=_(2)("iterator"),y=!1;try{var S=0,E={next:function(){return{done:!!S++}},return:function(){y=!0}};E[P]=function(){return this},Array.from(E,(function(){throw 2}))}catch(s){}s.exports=function(s,f){if(!f&&!y)return!1;var _=!1;try{var S={};S[P]=function(){return{next:function(){return{done:_=!0}}}},s(S)}catch(s){}return _}},function(s,f,_){var P={};P[_(2)("toStringTag")]="z",s.exports="[object z]"===String(P)},function(s,f){var _=Math.abs,P=Math.pow,y=Math.floor,S=Math.log,E=Math.LN2;s.exports={pack:function(s,f,O){var M,q,ee,te=new Array(O),re=8*O-f-1,ne=(1<<re)-1,ie=ne>>1,se=23===f?P(2,-24)-P(2,-77):0,ae=s<0||0===s&&1/s<0?1:0,oe=0;for((s=_(s))!=s||s===1/0?(q=s!=s?1:0,M=ne):(M=y(S(s)/E),s*(ee=P(2,-M))<1&&(M--,ee*=2),(s+=M+ie>=1?se/ee:se*P(2,1-ie))*ee>=2&&(M++,ee/=2),M+ie>=ne?(q=0,M=ne):M+ie>=1?(q=(s*ee-1)*P(2,f),M+=ie):(q=s*P(2,ie-1)*P(2,f),M=0));f>=8;te[oe++]=255&q,q/=256,f-=8);for(M=M<<f|q,re+=f;re>0;te[oe++]=255&M,M/=256,re-=8);return te[--oe]|=128*ae,te},unpack:function(s,f){var _,y=s.length,S=8*y-f-1,E=(1<<S)-1,O=E>>1,M=S-7,q=y-1,ee=s[q--],te=127&ee;for(ee>>=7;M>0;te=256*te+s[q],q--,M-=8);for(_=te&(1<<-M)-1,te>>=-M,M+=f;M>0;_=256*_+s[q],q--,M-=8);if(0===te)te=1-O;else{if(te===E)return _?NaN:ee?-1/0:1/0;_+=P(2,f),te-=O}return(ee?-1:1)*_*P(2,te-f)}}},function(s,f,_){"use strict";var P=_(13),y=_(39),S=_(10);s.exports=function(s){for(var f=P(this),_=S(f.length),E=arguments.length,O=y(E>1?arguments[1]:void 0,_),M=E>2?arguments[2]:void 0,q=void 0===M?_:y(M,_);q>O;)f[O++]=s;return f}},function(s,f,_){var P=_(102);s.exports=function(s,f){var _=P(s);if(_%f)throw RangeError("Wrong offset");return _}},function(s,f,_){var P=_(14);s.exports=function(s){var f=P(s);if(f<0)throw RangeError("The argument can't be less than 0");return f}},function(s,f,_){var P=_(13),y=_(10),S=_(24),E=_(47),O=_(25),M=_(45).aTypedArrayConstructor;s.exports=function(s){var f,_,q,ee,te,re,ne=P(s),ie=arguments.length,se=ie>1?arguments[1]:void 0,ae=void 0!==se,oe=S(ne);if(null!=oe&&!E(oe))for(re=(te=oe.call(ne)).next,ne=[];!(ee=re.call(te)).done;)ne.push(ee.value);for(ae&&ie>2&&(se=O(se,arguments[2],2)),_=y(ne.length),q=new(M(this))(_),f=0;_>f;f++)q[f]=ae?se(ne[f],f):ne[f];return q}},function(s,f,_){var P=_(25),y=_(35),S=_(13),E=_(10),O=_(105),M=[].push,u=function(s){var f=1==s,_=2==s,q=3==s,ee=4==s,te=6==s,re=7==s,ne=5==s||te;return function(ie,se,ae,oe){for(var ce,le,ue=S(ie),de=y(ue),he=P(se,ae,3),pe=E(de.length),fe=0,ge=oe||O,me=f?ge(ie,pe):_||re?ge(ie,0):void 0;pe>fe;fe++)if((ne||fe in de)&&(le=he(ce=de[fe],fe,ue),s))if(f)me[fe]=le;else if(le)switch(s){case 3:return!0;case 5:return ce;case 6:return fe;case 2:M.call(me,ce)}else switch(s){case 4:return!1;case 7:M.call(me,ce)}return te?-1:q||ee?ee:me}};s.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},function(s,f,_){var P=_(9),y=_(106),S=_(2)("species");s.exports=function(s,f){var _;return y(s)&&("function"!=typeof(_=s.constructor)||_!==Array&&!y(_.prototype)?P(_)&&null===(_=_[S])&&(_=void 0):_=void 0),new(void 0===_?Array:_)(0===f?0:f)}},function(s,f,_){var P=_(18);s.exports=Array.isArray||function(s){return"Array"==P(s)}},function(s,f,_){var P=_(9),y=_(22);s.exports=function(s,f,_){var S,E;return y&&"function"==typeof(S=f.constructor)&&S!==_&&P(E=S.prototype)&&E!==_.prototype&&y(s,E),s}},function(s,f,_){"use strict";var P=_(6),y=_(0),S=_(46),E=_(71),O=S.ArrayBuffer;P({global:!0,forced:y.ArrayBuffer!==O},{ArrayBuffer:O}),E("ArrayBuffer")},function(s,f,_){_(31)("Int32",(function(s){return function(f,_,P){return s(this,f,_,P)}}))},function(s,f,_){"use strict";var P=_(111),y=_(3),S=_(10),E=_(14),O=_(27),M=_(115),q=_(116),ee=_(117),te=Math.max,re=Math.min;P("replace",2,(function(s,f,_,P){var ne=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,ie=P.REPLACE_KEEPS_$0,se=ne?"$":"$0";return[function(_,P){var y=O(this),S=null==_?void 0:_[s];return void 0!==S?S.call(_,y,P):f.call(String(y),_,P)},function(s,P){if(!ne&&ie||"string"==typeof P&&-1===P.indexOf(se)){var O=_(f,s,this,P);if(O.done)return O.value}var ae=y(s),oe=String(this),ce="function"==typeof P;ce||(P=String(P));var le=ae.global;if(le){var ue=ae.unicode;ae.lastIndex=0}for(var de=[];;){var he=ee(ae,oe);if(null===he)break;if(de.push(he),!le)break;""===String(he[0])&&(ae.lastIndex=M(oe,S(ae.lastIndex),ue))}for(var pe,fe="",ge=0,me=0;me<de.length;me++){he=de[me];for(var ve=String(he[0]),we=te(re(E(he.index),oe.length),0),be=[],ye=1;ye<he.length;ye++)be.push(void 0===(pe=he[ye])?pe:String(pe));var Te=he.groups;if(ce){var Ce=[ve].concat(be,we,oe);void 0!==Te&&Ce.push(Te);var Fe=String(P.apply(void 0,Ce))}else Fe=q(ve,oe,we,be,Te,P);we>=ge&&(fe+=oe.slice(ge,we)+Fe,ge=we+ve.length)}return fe+oe.slice(ge)}]}))},function(s,f,_){"use strict";_(112);var P=_(12),y=_(1),S=_(2),E=_(48),O=_(7),M=S("species"),q=!y((function(){var s=/./;return s.exec=function(){var s=[];return s.groups={a:"7"},s},"7"!=="".replace(s,"$<a>")})),ee="$0"==="a".replace(/./,"$0"),te=S("replace"),re=!!/./[te]&&""===/./[te]("a","$0"),ne=!y((function(){var s=/(?:)/,f=s.exec;s.exec=function(){return f.apply(this,arguments)};var _="ab".split(s);return 2!==_.length||"a"!==_[0]||"b"!==_[1]}));s.exports=function(s,f,_,te){var ie=S(s),se=!y((function(){var f={};return f[ie]=function(){return 7},7!=""[s](f)})),ae=se&&!y((function(){var f=!1,_=/a/;return"split"===s&&((_={}).constructor={},_.constructor[M]=function(){return _},_.flags="",_[ie]=/./[ie]),_.exec=function(){return f=!0,null},_[ie](""),!f}));if(!se||!ae||"replace"===s&&(!q||!ee||re)||"split"===s&&!ne){var oe=/./[ie],ce=_(ie,""[s],(function(s,f,_,P,y){return f.exec===E?se&&!y?{done:!0,value:oe.call(f,_,P)}:{done:!0,value:s.call(_,f,P)}:{done:!1}}),{REPLACE_KEEPS_$0:ee,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:re}),le=ce[0],ue=ce[1];P(String.prototype,s,le),P(RegExp.prototype,ie,2==f?function(s,f){return ue.call(s,this,f)}:function(s){return ue.call(s,this)})}te&&O(RegExp.prototype[ie],"sham",!0)}},function(s,f,_){"use strict";var P=_(6),y=_(48);P({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})},function(s,f,_){"use strict";var P=_(3);s.exports=function(){var s=P(this),f="";return s.global&&(f+="g"),s.ignoreCase&&(f+="i"),s.multiline&&(f+="m"),s.dotAll&&(f+="s"),s.unicode&&(f+="u"),s.sticky&&(f+="y"),f}},function(s,f,_){"use strict";var P=_(1);function i(s,f){return RegExp(s,f)}f.UNSUPPORTED_Y=P((function(){var s=i("a","y");return s.lastIndex=2,null!=s.exec("abcd")})),f.BROKEN_CARET=P((function(){var s=i("^r","gy");return s.lastIndex=2,null!=s.exec("str")}))},function(s,f,_){"use strict";var P=_(49).charAt;s.exports=function(s,f,_){return f+(_?P(s,f).length:1)}},function(s,f,_){var P=_(13),y=Math.floor,S="".replace,E=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,O=/\$([$&'`]|\d{1,2})/g;s.exports=function(s,f,_,M,q,ee){var te=_+s.length,re=M.length,ne=O;return void 0!==q&&(q=P(q),ne=E),S.call(ee,ne,(function(P,S){var E;switch(S.charAt(0)){case"$":return"$";case"&":return s;case"`":return f.slice(0,_);case"'":return f.slice(te);case"<":E=q[S.slice(1,-1)];break;default:var O=+S;if(0===O)return P;if(O>re){var ee=y(O/10);return 0===ee?P:ee<=re?void 0===M[ee-1]?S.charAt(1):M[ee-1]+S.charAt(1):P}E=M[O-1]}return void 0===E?"":E}))}},function(s,f,_){var P=_(18),y=_(48);s.exports=function(s,f){var _=s.exec;if("function"==typeof _){var S=_.call(s,f);if("object"!=typeof S)throw TypeError("RegExp exec method returned something other than an Object or null");return S}if("RegExp"!==P(s))throw TypeError("RegExp#exec called on incompatible receiver");return y.call(s,f)}},function(s,f,_){_(31)("Uint8",(function(s){return function(f,_,P){return s(this,f,_,P)}}),!0)},function(s,f,_){"use strict";var P=_(49).charAt,y=_(15),S=_(60),E=y.set,O=y.getterFor("String Iterator");S(String,"String",(function(s){E(this,{type:"String Iterator",string:String(s),index:0})}),(function(){var s,f=O(this),_=f.string,y=f.index;return y>=_.length?{value:void 0,done:!0}:(s=P(_,y),f.index+=s.length,{value:s,done:!1})}))},function(s,f,_){"use strict";var P=_(8),y=_(1),S=_(57),E=_(62),O=_(61),M=_(13),q=_(35),ee=Object.assign,te=Object.defineProperty;s.exports=!ee||y((function(){if(P&&1!==ee({b:1},ee(te({},"a",{enumerable:!0,get:function(){te(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var s={},f={},_=Symbol();return s[_]=7,"abcdefghijklmnopqrst".split("").forEach((function(s){f[s]=s})),7!=ee({},s)[_]||"abcdefghijklmnopqrst"!=S(ee({},f)).join("")}))?function(s,f){for(var _=M(s),y=arguments.length,ee=1,te=E.f,re=O.f;y>ee;)for(var ne,ie=q(arguments[ee++]),se=te?S(ie).concat(te(ie)):S(ie),ae=se.length,oe=0;ae>oe;)ne=se[oe++],P&&!re.call(ie,ne)||(_[ne]=ie[ne]);return _}:ee},function(s,f,_){"use strict";var P=_(25),y=_(13),S=_(122),E=_(47),O=_(10),M=_(123),q=_(24);s.exports=function(s){var f,_,ee,te,re,ne,ie=y(s),se="function"==typeof this?this:Array,ae=arguments.length,oe=ae>1?arguments[1]:void 0,ce=void 0!==oe,le=q(ie),ue=0;if(ce&&(oe=P(oe,ae>2?arguments[2]:void 0,2)),null==le||se==Array&&E(le))for(_=new se(f=O(ie.length));f>ue;ue++)ne=ce?oe(ie[ue],ue):ie[ue],M(_,ue,ne);else for(re=(te=le.call(ie)).next,_=new se;!(ee=re.call(te)).done;ue++)ne=ce?S(te,oe,[ee.value,ue],!0):ee.value,M(_,ue,ne);return _.length=ue,_}},function(s,f,_){var P=_(3),y=_(75);s.exports=function(s,f,_,S){try{return S?f(P(_)[0],_[1]):f(_)}catch(f){throw y(s),f}}},function(s,f,_){"use strict";var P=_(28),y=_(11),S=_(16);s.exports=function(s,f,_){var E=P(f);E in s?y.f(s,E,S(0,_)):s[E]=_}},function(s,f,_){"use strict";var P=/[^\0-\u007E]/,y=/[.\u3002\uFF0E\uFF61]/g,S="Overflow: input needs wider integers to process",E=Math.floor,O=String.fromCharCode,c=function(s){return s+22+75*(s<26)},u=function(s,f,_){var P=0;for(s=_?E(s/700):s>>1,s+=E(s/f);s>455;P+=36)s=E(s/35);return E(P+36*s/(s+38))},l=function(s){var f,_,P=[],y=(s=function(s){for(var f=[],_=0,P=s.length;_<P;){var y=s.charCodeAt(_++);if(y>=55296&&y<=56319&&_<P){var S=s.charCodeAt(_++);56320==(64512&S)?f.push(((1023&y)<<10)+(1023&S)+65536):(f.push(y),_--)}else f.push(y)}return f}(s)).length,M=128,q=0,ee=72;for(f=0;f<s.length;f++)(_=s[f])<128&&P.push(O(_));var te=P.length,re=te;for(te&&P.push("-");re<y;){var ne=2147483647;for(f=0;f<s.length;f++)(_=s[f])>=M&&_<ne&&(ne=_);var ie=re+1;if(ne-M>E((2147483647-q)/ie))throw RangeError(S);for(q+=(ne-M)*ie,M=ne,f=0;f<s.length;f++){if((_=s[f])<M&&++q>2147483647)throw RangeError(S);if(_==M){for(var se=q,ae=36;;ae+=36){var oe=ae<=ee?1:ae>=ee+26?26:ae-ee;if(se<oe)break;var ce=se-oe,le=36-oe;P.push(O(c(oe+ce%le))),se=E(ce/le)}P.push(O(c(se))),ee=u(q,ie,re==te),q=0,++re}}++q,++M}return P.join("")};s.exports=function(s){var f,_,S=[],E=s.toLowerCase().replace(y,".").split(".");for(f=0;f<E.length;f++)_=E[f],S.push(P.test(_)?"xn--"+l(_):_);return S.join(".")}},function(s,f,_){"use strict";_(51);var P=_(6),y=_(17),S=_(74),E=_(12),O=_(69),M=_(21),q=_(63),ee=_(15),te=_(33),re=_(4),ne=_(25),ie=_(32),se=_(3),ae=_(9),oe=_(29),ce=_(16),le=_(126),ue=_(24),de=_(2),he=y("fetch"),pe=y("Headers"),fe=de("iterator"),ge=ee.set,me=ee.getterFor("URLSearchParams"),ve=ee.getterFor("URLSearchParamsIterator"),we=/\+/g,be=Array(4),x=function(s){return be[s-1]||(be[s-1]=RegExp("((?:%[\\da-f]{2}){"+s+"})","gi"))},j=function(s){try{return decodeURIComponent(s)}catch(f){return s}},L=function(s){var f=s.replace(we," "),_=4;try{return decodeURIComponent(f)}catch(s){for(;_;)f=f.replace(x(_--),j);return f}},ye=/[!'()~]|%20/g,Te={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},W=function(s){return Te[s]},I=function(s){return encodeURIComponent(s).replace(ye,W)},F=function(s,f){if(f)for(var _,P,y=f.split("&"),S=0;S<y.length;)(_=y[S++]).length&&(P=_.split("="),s.push({key:L(P.shift()),value:L(P.join("="))}))},C=function(s){this.entries.length=0,F(this.entries,s)},N=function(s,f){if(s<f)throw TypeError("Not enough arguments")},Ce=q((function(s,f){ge(this,{type:"URLSearchParamsIterator",iterator:le(me(s).entries),kind:f})}),"Iterator",(function(){var s=ve(this),f=s.kind,_=s.iterator.next(),P=_.value;return _.done||(_.value="keys"===f?P.key:"values"===f?P.value:[P.key,P.value]),_})),U=function(){te(this,U,"URLSearchParams");var s,f,_,P,y,S,E,O,M,q=arguments.length>0?arguments[0]:void 0,ee=[];if(ge(this,{type:"URLSearchParams",entries:ee,updateURL:function(){},updateSearchParams:C}),void 0!==q)if(ae(q))if("function"==typeof(s=ue(q)))for(_=(f=s.call(q)).next;!(P=_.call(f)).done;){if((E=(S=(y=le(se(P.value))).next).call(y)).done||(O=S.call(y)).done||!S.call(y).done)throw TypeError("Expected sequence with length 2");ee.push({key:E.value+"",value:O.value+""})}else for(M in q)re(q,M)&&ee.push({key:M,value:q[M]+""});else F(ee,"string"==typeof q?"?"===q.charAt(0)?q.slice(1):q:q+"")},Fe=U.prototype;O(Fe,{append:function(s,f){N(arguments.length,2);var _=me(this);_.entries.push({key:s+"",value:f+""}),_.updateURL()},delete:function(s){N(arguments.length,1);for(var f=me(this),_=f.entries,P=s+"",y=0;y<_.length;)_[y].key===P?_.splice(y,1):y++;f.updateURL()},get:function(s){N(arguments.length,1);for(var f=me(this).entries,_=s+"",P=0;P<f.length;P++)if(f[P].key===_)return f[P].value;return null},getAll:function(s){N(arguments.length,1);for(var f=me(this).entries,_=s+"",P=[],y=0;y<f.length;y++)f[y].key===_&&P.push(f[y].value);return P},has:function(s){N(arguments.length,1);for(var f=me(this).entries,_=s+"",P=0;P<f.length;)if(f[P++].key===_)return!0;return!1},set:function(s,f){N(arguments.length,1);for(var _,P=me(this),y=P.entries,S=!1,E=s+"",O=f+"",M=0;M<y.length;M++)(_=y[M]).key===E&&(S?y.splice(M--,1):(S=!0,_.value=O));S||y.push({key:E,value:O}),P.updateURL()},sort:function(){var s,f,_,P=me(this),y=P.entries,S=y.slice();for(y.length=0,_=0;_<S.length;_++){for(s=S[_],f=0;f<_;f++)if(y[f].key>s.key){y.splice(f,0,s);break}f===_&&y.push(s)}P.updateURL()},forEach:function(s){for(var f,_=me(this).entries,P=ne(s,arguments.length>1?arguments[1]:void 0,3),y=0;y<_.length;)P((f=_[y++]).value,f.key,this)},keys:function(){return new Ce(this,"keys")},values:function(){return new Ce(this,"values")},entries:function(){return new Ce(this,"entries")}},{enumerable:!0}),E(Fe,fe,Fe.entries),E(Fe,"toString",(function(){for(var s,f=me(this).entries,_=[],P=0;P<f.length;)s=f[P++],_.push(I(s.key)+"="+I(s.value));return _.join("&")}),{enumerable:!0}),M(U,"URLSearchParams"),P({global:!0,forced:!S},{URLSearchParams:U}),S||"function"!=typeof he||"function"!=typeof pe||P({global:!0,enumerable:!0,forced:!0},{fetch:function(s){var f,_,P,y=[s];return arguments.length>1&&(ae(f=arguments[1])&&(_=f.body,"URLSearchParams"===ie(_)&&((P=f.headers?new pe(f.headers):new pe).has("content-type")||P.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),f=oe(f,{body:ce(0,String(_)),headers:ce(0,P)}))),y.push(f)),he.apply(this,y)}}),s.exports={URLSearchParams:U,getState:me}},function(s,f,_){var P=_(3),y=_(24);s.exports=function(s){var f=y(s);if("function"!=typeof f)throw TypeError(String(s)+" is not iterable");return P(f.call(s))}},function(s,f,_){_(6)({global:!0},{globalThis:_(0)})},function(s,f){(function(f){s.exports=f}).call(this,{})},function(s,f,_){"use strict";var P=_(6),y=_(23),S=_(13),E=_(1),O=_(130),M=[],q=M.sort,ee=E((function(){M.sort(void 0)})),te=E((function(){M.sort(null)})),re=O("sort");P({target:"Array",proto:!0,forced:ee||!te||!re},{sort:function(s){return void 0===s?q.call(S(this)):q.call(S(this),y(s))}})},function(s,f,_){"use strict";var P=_(1);s.exports=function(s,f){var _=[][s];return!!_&&P((function(){_.call(null,f||function(){throw 1},1)}))}},function(s,f){s.exports=function(s){try{return{error:!1,value:s()}}catch(s){return{error:!0,value:s}}}},function(s,f,_){var P=_(3),y=_(47),S=_(10),E=_(25),O=_(24),M=_(75),u=function(s,f){this.stopped=s,this.result=f};s.exports=function(s,f,_){var q,ee,te,re,ne,ie,se,ae=_&&_.that,oe=!(!_||!_.AS_ENTRIES),ce=!(!_||!_.IS_ITERATOR),le=!(!_||!_.INTERRUPTED),ue=E(f,ae,1+oe+le),k=function(s){return q&&M(q),new u(!0,s)},T=function(s){return oe?(P(s),le?ue(s[0],s[1],k):ue(s[0],s[1])):le?ue(s,k):ue(s)};if(ce)q=s;else{if("function"!=typeof(ee=O(s)))throw TypeError("Target is not iterable");if(y(ee)){for(te=0,re=S(s.length);re>te;te++)if((ne=T(s[te]))&&ne instanceof u)return ne;return new u(!1)}q=ee.call(s)}for(ie=q.next;!(se=ie.call(q)).done;){try{ne=T(se.value)}catch(s){throw M(q),s}if("object"==typeof ne&&ne&&ne instanceof u)return ne}return new u(!1)}},function(s,f,_){"use strict";_.r(f),_.d(f,"AcrobatJS",(function(){return tt})),_.d(f,"enums",(function(){return P})),_.d(f,"AcrobatJSSecurityHandler",(function(){return mr})),_.d(f,"CertificateValidationInterface",(function(){return vr}));var P={};_.r(P),_.d(P,"PageRequestType",(function(){return ye})),_.d(P,"AnnotType",(function(){return Te})),_.d(P,"Permissions",(function(){return Ce})),_.d(P,"ContentType",(function(){return Fe})),_.d(P,"ColorPaletteKey",(function(){return Ne})),_.d(P,"FTPDFToWebViewTranslationStatus",(function(){return Ue})),_.d(P,"ProcessingMode",(function(){return Be})),_.d(P,"WasmSwitchingState",(function(){return ze})),_.d(P,"Workflow",(function(){return qe})),_(5),_(65),_(95),_(34),_(108),_(109),_(72),_(110),_(118);const y=Object.freeze(["unknown",'"Kozuka Gothic Pr6N R", "Meiryo", "Hira Kaku Pro N", "Hira Min Pro N", "Noto Sans JP"','"Adobe Heiti Std", "SimSun", "ST Heiti SC", "Adobe Song Std"','"DF Kai Shu", "ST Heiti TC", "Adobe Fan Heiti Std", "MingLiU", "Li Hei Pro", "Adobe Ming Std"','"Gulim", "Apple Gothic", "Adobe Gothic Std", "GulimChe", "Apple Myungjo", "Adobe Myungjo Std"']);var S=new class{constructor(){this._textDataMap={},this._fontNameMap={},this._canvas=document.createElement("canvas")}_getFontWidth(s){const f=this._canvas.getContext("2d");return f.font="10px ".concat(s),f.measureText("thequickbrownfoxjumpsovethelazydog").width}_fontAvailable(s){const f=this._getFontWidth("monospace"),_=this._getFontWidth("serif"),P=this._getFontWidth("sans-serif");return f!==this._getFontWidth('"'.concat(s,'",monospace'))||P!==this._getFontWidth('"'.concat(s,'",sans-serif'))||_!==this._getFontWidth('"'.concat(s,'",serif'))}_getCSSFontFaceString(s,f){if(void 0===this._fontNameMap[s.psName]){const f=s.bold?"bold ":"",_=s.italic?"italic ":"";this._fontNameMap[s.psName]="".concat(f+_,'10px "').concat(s.displayName?s.displayName:s.psName,'"'),this._textDataMap[s.psName]||(this._fontNameMap[s.psName]="".concat(f+_,"10px ").concat(y[s.language]))}return this._fontNameMap[s.psName].replace("10px","".concat(f,"px"))}_prepareContextForFontMatrix(s,f){const _=this._canvas.getContext("2d"),P=Math.ceil(1.65*f.size);this._canvas.setAttribute("height",P),this._canvas.setAttribute("width",P),_.font=this._getCSSFontFaceString(s,f.size);const y=-f.top,S=-f.left,E=1/f.size;return _.setTransform(f.a*E,f.b*E,-f.c*E,-f.d*E,S,y),_}_getBitmapForCharCode(s,f){s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,this._canvas.width,this._canvas.height),s.restore(),s.fillText(String.fromCharCode(f),0,0);const _=s.getImageData(0,0,this._canvas.width,this._canvas.height),P={width:_.width,height:_.height,data:new Uint8ClampedArray(_.width*_.height)};for(let s=0;s<_.width*_.height;s+=1)P.data[s]=_.data[4*s+3];return P}_logData(s){const f={},_="".concat(s.psName,"(").concat(s.displayName,")");return this._textDataMap[s.psName]?f[_]="ExactFont":s.allowFallback?f[_]="SystemDefault":f[_]="FauxFont",f}generateGlyphBitmap(s,f){const _={bitmaps:{}};if(!f)return _;const{matrix:P}=f;if(void 0===this._textDataMap[f.psName]){const s=this._fontAvailable(f.displayName?f.displayName:f.psName);this._textDataMap[f.psName]=s}if(_.analyticsData=this._logData(f),_[f.psName]=this._textDataMap[f.psName],!this._textDataMap[f.psName]&&!f.allowFallback)return _;const y=this._prepareContextForFontMatrix(f,P);return s.forEach((s=>{if(void 0===_.bitmaps[P.key+s]){const f=this._getBitmapForCharCode(y,s);_.bitmaps[P.key+s]=f}})),_}};const E=15,j=s=>s&&"function"==typeof s,L=s=>{let f;for(f=s.length-1;f>=0&&!(s[f]>0);f--);s.splice(f+1)},R=(s,f)=>{const _=s.split(".").map((s=>parseInt(s,10))),P=f.split(".").map((s=>parseInt(s,10)));L(_),L(P);const y=Math.min(_.length,P.length);for(let s=0;s<y;s+=1){if(_[s]>P[s])return 1;if(_[s]<P[s])return-1}return _.length===P.length?0:_.length<P.length?-1:1};_(73),_(127),Object.freeze({CACHED:"cached",UNCACHED:"uncached",UNKNOWN:"unknown"});const D=()=>performance.now()+performance.timeOrigin,W=s=>s-performance.timeOrigin,O="registerLicense",M="openPDF",q="getPageRendition",ee="addMessagePort",te="verifyDigitalSignatures",re="createFormField",ne="updateFormField",ie="deleteFormField",se="isFileQualifiedForLiquidMode",ae="translateToLiquidModeView",oe="getLiquidModeViewResource",ce="applyCNFTPDFUpdates",le="getHtmlLocationForDocPoint",ue="getDocPointForHtmlLocation",de="JSApi",he="editLinkAnnot",pe="deleteLinkAnnot",fe=[se,ae,oe,ce,le,ue];let ge=!1;const it=function(){ge&&console.log(...arguments)};var me=_(50),ve=_.n(me);const ut=()=>(new ve.a).getBrowser(),lt=s=>("13.0",!(-1===R(s,"13.0")||((s,f)=>1===R(s,"13.1"))(s))),we=Object.freeze({INCORRECT_PASSWORD:3,LINEARIZATION_DICT_NOT_FOUND:4,INCOMPLETE_BUFFER_RANGES_DOWNLOADED:-1,SAB_INDEX_OUT_OF_BOUNDS:-2}),be=Object.freeze({INVALID_BUFFER:"Invalid buffer",INVALID_PAGE_NUM:"Invalid page number",SHARED_ARRAY_BUFFER_NOT_SUPPORTED:"Shared array buffer not supported",LINEARIZATION_DICT_NOT_FOUND:"Linearization dict not found",INCOMPLETE_BUFFER_RANGES_DOWNLOADED:"Incomplete pdf buffer ranges downloaded",SAB_INDEX_OUT_OF_BOUNDS:"Shared array buffer index is out of bounds",PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW:"password protected pdf not supported in linearized workflow"}),ye=Object.freeze({PAGE:0,PAGE_CACHE:1,THUMBNAIL:2}),Te=Object.freeze({TEXT:1,LINK:2,FREE_TEXT:4,LINE:8,SQUARE:16,CIRCLE:32,POLYGON:64,POLYLINE:128,HIGHLIGHT:256,UNDERLINE:512,SQUIGGLY:1024,STRIKEOUT:2048,CARET:4096,STAMP:8192,INK:16384,POPUP:32768,FILE_ATTACHMENT:65536,SOUND:131072,MOVIE:262144,SCREEN:524288,WIDGET:1048576,WATERMARK:2097152,THREE_D:4194304,FREE_TEXT_TYPEWRITER:8388608,ALL:4294967295,NONE:0}),Ce=Object.freeze({PRINT:4,MODIFY_CONTENT:8,COPY_EXTRACT_CONTENT:16,COMMENTING:32,FORM_FILLING:256,COPY_EXTRACT_CONTENT_ACCESSIBILITY:512,DOCUMENT_ASSEMBLY:1024,HIGH_QUALITY_PRINT:2048}),Fe=Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4}),Ne=Object.freeze({BACKGROUND:"background",TEXT:"text"}),Ue=Object.freeze({NOT_STARTED:-1,IN_PROGRESS:0,COMPLETE:1,ERROR:2}),Be=Object.freeze({BATCHED:"batched",DEFAULT:"default"}),ze=Object.freeze({NOT_SWITCHED:-1,SWITCHING:0,SWITCHED:1}),qe=Object.freeze({LINEARIZED:"Linearized",NON_LINEARIZED:"Non-Linearized"});class Pt{constructor(){this._beginRequestCallback=null,this._loadCallback=null,this._errorCallback=null}open(s){this._beginRequestCallback=s}onload(s){this._loadCallback=s}onerror(s){this._errorCallback=s}send(s){this._beginRequestCallback(s).then((s=>{if(this._loadCallback){const f={command:ce,priority:10,params:{cnftpdfUpdatesStream:s},transferList:[s]};this._loadCallback(f)}})).catch((s=>{this._errorCallback&&this._errorCallback({type:"AdobeSenseiPredictRequestFailed",body:s})}))}}class St{constructor(){this._adobeSenseiPredictRequest=new Pt}init(s,f,_){this._adobeSenseiPredictRequest.open(s),this._adobeSenseiPredictRequest.onload(f),this._adobeSenseiPredictRequest.onerror(_)}fetchCNFTPDFUpdates(s){this._adobeSenseiPredictRequest.send(s)}}function At(s,f){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);f&&(P=P.filter((function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable}))),_.push.apply(_,P)}return _}function Et(s){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?At(Object(_),!0).forEach((function(f){Mt(s,f,_[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):At(Object(_)).forEach((function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(_,f))}))}return s}function Mt(s,f,_){return f in s?Object.defineProperty(s,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[f]=_,s}class Ot{constructor(s,f){this._startTranslationCallback=s,this._recordPerfMarkerCallback=f,this._html=null,this._htmlRequestQueue=[],this._isNewHTMLAvailable=!1,this._resources=new Map,this._pendingResourceRequests=new Map,this._translationStatus=Ue.NOT_STARTED,this._errorMsg=null,this._adobeSenseiClient=new St,this._perfMarkers=new Map,this._serverMetaData=null,this._textDecoder=new TextDecoder}get _isTranslationStarted(){return this._translationStatus!==Ue.NOT_STARTED}get _isTranslationComplete(){return this._translationStatus===Ue.COMPLETE}get _hasTranslationFailed(){return this._translationStatus===Ue.ERROR}_startTranslation(s){this._startTranslationCallback(s),this._translationStatus=Ue.IN_PROGRESS,this.recordPerfMarker({marker:"beginTranslation"})}get _isHTMLRequestQueueEmpty(){return 0===this._htmlRequestQueue.length}_resolveHTMLRequest(s){const{requestStartTime:f,resolveCallback:_}=s;_({data:{html:this._html,serverMetaData:this._serverMetaData},timeTaken:performance.now()-f}),this.recordPerfMarker({marker:"firstHTMLMarkupResolved"}),this._isTranslationComplete&&this.recordPerfMarker({marker:"lastHTMLMarkupResolved"}),this._isNewHTMLAvailable=!1}_rejectHTMLRequest(s,f){const{requestStartTime:_,rejectCallback:P}=s;P(Et(Et({},f),{},{timeTaken:performance.now()-_}))}_resolvePendingHTMLRequest(){if(!this._isHTMLRequestQueueEmpty&&(this._isNewHTMLAvailable||this._isTranslationComplete)){const s=this._htmlRequestQueue.shift();this._resolveHTMLRequest(s)}}_resolveAllPendingHTMLRequests(){for(;!this._isHTMLRequestQueueEmpty;)this._resolvePendingHTMLRequest()}_rejectAllPendingHTMLRequests(s){this._htmlRequestQueue.forEach((f=>{this._rejectHTMLRequest(f,s)})),this._htmlRequestQueue=[]}_handleHTMLRequest(){return new Promise(((s,f)=>{const _=performance.now();this._htmlRequestQueue.push({requestStartTime:_,resolveCallback:s,rejectCallback:f}),this.recordPerfMarker({marker:"firstHTMLMarkupRequested"}),this._hasTranslationFailed?this._rejectAllPendingHTMLRequests():this._resolvePendingHTMLRequest()}))}getHTMLStream(s,f,_){return this._isTranslationStarted||(this._startTranslation(s),this._adobeSenseiClient.init(f,_,this._onAdobeSenseiClientError.bind(this))),new Promise(((f,_)=>{const P=performance.now(),y=new ReadableStream({pull:s=>{const f=this._handleHTMLRequest();s.enqueue(f),this._hasTranslationFailed&&(this._rejectAllPendingHTMLRequests(),s.close()),this._isTranslationComplete&&(this._resolveAllPendingHTMLRequests(),s.close())}}),{command:S}=s;f({command:S,data:{htmlStream:y},timeTaken:performance.now()-P})}))}setHTML(s,f,_){_&&(this._serverMetaData=_);const P=this._textDecoder.decode(s.buffer);this._html=encodeURI(P),this._translationStatus=f,this._isNewHTMLAvailable=!0,this._resolvePendingHTMLRequest(),this._isTranslationComplete&&this._resolveAllPendingHTMLRequests()}_resolveResourceRequest(s){const{command:f,resourceID:_,resourceURL:P,requestStartTime:y,resolveCallback:S}=s;S({command:f,data:Et({resourceID:_,resourceURL:P},this._resources.get(P)),timeTaken:performance.now()-y})}_resolvePendingResourceRequest(s){if(this._pendingResourceRequests.has(s)&&this._resources.has(s)){const f=this._pendingResourceRequests.get(s);this._resolveResourceRequest(f),this._pendingResourceRequests.delete(s)}}getResource(s){let{command:f,params:_}=s;const{resourceID:P,resourceURL:y}=_;return new Promise(((s,_)=>{const S=performance.now(),E={command:f,resourceID:P,resourceURL:y,requestStartTime:S,resolveCallback:s};this._pendingResourceRequests.set(y,E),this._resolvePendingResourceRequest(y)}))}setResource(s,f,_){this._resources.set(s,{resourceContent:f,resourceMimeType:_}),this._resolvePendingResourceRequest(s)}fetchCNFTPDFUpdates(s){this._adobeSenseiClient.fetchCNFTPDFUpdates(s)}_onAdobeSenseiClientError(s){this._translationStatus=Ue.ERROR,this._errorMsg=s,this._rejectAllPendingHTMLRequests(s)}recordPerfMarker(s){const{marker:f}=s;if(!this._perfMarkers.has(f)&&(this._perfMarkers.set(f,performance.now()),this._recordPerfMarkerCallback)){const s={};s[f]=this._perfMarkers.get(f),this._recordPerfMarkerCallback("ajsPerfTimings",s)}}}const xt=s=>{try{return new URL(s).origin}catch(s){return}},jt=(s,f)=>!(!s||!xt(s))&&f.location.origin!==xt(s),Lt=function(s){const f=function(s){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"acrobatProxy.js";return"var Module = {};\n  Module.ajsRootUrl = '".concat(s,"';\n  Module.locateFile = function(resourcePath) { return Module.ajsRootUrl + resourcePath; };\n  importScripts(Module.ajsRootUrl + '").concat(f,"');")}(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"acrobatProxy.js"),_=new Blob([f],{type:"application/javascript"});return URL.createObjectURL(_)},He=Object.freeze({ENABLE:0,DISABLE:1}),Ge=(Object.freeze({READY_TO_WRITE_CHUNK:0,CHUNK_WRITTEN:1}),Object.freeze({MESSAGE_IN_PROGRESS:0,MESSAGE_WRITTEN:1}),Object.freeze({busyLoopStatus:0,doneStatus:1,readWriteStatus:2,lengthByteFirst:3,lengthByteSecond:4,responseStart:5})),Wt=(s,f)=>{s&&(new Uint8Array(s)[Ge.busyLoopStatus]=f?He.ENABLE:He.DISABLE)};function Ft(s,f){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);f&&(P=P.filter((function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable}))),_.push.apply(_,P)}return _}function Ct(s,f,_){return f in s?Object.defineProperty(s,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[f]=_,s}_(129),_(76),Object.freeze({approval:"Approval",certification:"Certification",ur:"Usage Rights"});const Je=Object.freeze({valid:"valid",invalid:"invalid",unknown:"unknown"}),Ve=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),$e=Object.freeze({version:"Version",serialNumber:"Serial Number",issuer:"Issuer",subject:"Subject",validityStarts:"Validity Starts",validityEnds:"Validity Ends",keyUsage:"Key Usage",extendedKeyUsage:"Extended Key Usage",certificatePolicies:"Certificate Policies",crlDistributionPoints:"CRL Distribution Points",certificateAuthorityInformationAccess:"Certificate Authority Information Access",basicConstraints:"Basic Constraints",signatureAlgorithm:"Signature Algorithm",publicKey:"Public Key",subjectKeyIdentifier:"Subject Key Identifier",authorityKeyIdentifier:"Authority Key Identifier",x509Data:"X509 Data"});function Ht(s,f){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);f&&(P=P.filter((function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable}))),_.push.apply(_,P)}return _}function zt(s){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?Ht(Object(_),!0).forEach((function(f){Vt(s,f,_[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):Ht(Object(_)).forEach((function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(_,f))}))}return s}function Vt(s,f,_){return f in s?Object.defineProperty(s,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[f]=_,s}class Gt{constructor(s){this.validators=s||[],this.X509Certificate=null,this.X509CRL=null}getCertificateDetails(s){return new Promise(((f,P)=>{const i=()=>{const _=new this.X509Certificate(s);return f(_.getDetails())};if(this.X509Certificate)return i();Promise.all([_.e("vendors~X509CRL~X509Certificate"),_.e("X509CRL~X509Certificate"),_.e("X509Certificate")]).then(_.bind(null,148)).then((s=>(this.X509Certificate=s.default,i()))).catch((()=>f({})))}))}getCRLDetails(s){return new Promise(((f,P)=>{const i=()=>{const _=new this.X509CRL(s);return f(_.getDetails())};if(this.X509CRL)return i();Promise.all([_.e("vendors~X509CRL~X509Certificate"),_.e("X509CRL~X509Certificate"),_.e("X509CRL")]).then(_.bind(null,149)).then((s=>(this.X509CRL=s.default,i()))).catch((()=>f({})))}))}async getParsedCertificates(){const s=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((s=>this.getCertificateDetails(s)));return(await Promise.allSettled(s)).map((s=>s.value))}async getParsedCRLs(){const s=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((s=>this.getCRLDetails(s)));return(await Promise.allSettled(s)).map((s=>s.value))}validate(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const f=[],_={trustSources:[],status:Je.unknown,certificates:s,validatorErrors:f,verifiedBy:"",validation:{validatedOn:Ve.currentTime,timestamp:(new Date).toISOString()}},n=(P,y)=>{if(P>=this.validators.length)return y(zt({},_));this.validators[P].validate(s).then((s=>{var f;const S=null==s||null===(f=s.status)||void 0===f?void 0:f.toLowerCase();if(_.certificates=s.certificates,S===Je.valid||S===Je.invalid)return s.status=S,s.verifiedBy=this.validators[P].name(),y(zt(zt({},_),s));n(P+1,y)})).catch((s=>{f.push({validator:this.validators[P].name(),error:{message:s.message||"",reason:s.reason||{}}}),n(P+1,y)}))};return new Promise((f=>{if(!s.length)return f(zt({},_));n(0,f)}))}}class Xt{constructor(s){this.validationManager=new Gt(s)}_sortSignaturesBySigningTime(s){s.sort(((s,f)=>{const _=s.signatureDetails.timestamp,P=f.signatureDetails.timestamp;return _||P?_?P?Date.parse(_)-Date.parse(P):-1:1:0}))}_processSignatureData(s){this._sortSignaturesBySigningTime(s)}async _fixCertificateOrder(s){if(s.length<=1)return s;const f=await this.validationManager.getParsedCertificates(s);f.forEach(((s,f)=>{s.index=f}));try{const _=(s=>{if(!s.length)return s;s.length>=2&&s[0][$e.serialNumber]===s[1][$e.serialNumber]&&s.shift();const f=[],_=s.find((s=>{const f=s[$e.basicConstraints];if(f)return"No"===f.CA;const _=s[$e.keyUsage];return!(!_||_.includes("Crl Sign")||_.includes("Key Cert Sign"))}));if(!_)return s;for(f.push(_);f.length<s.length;){const _=f[f.length-1],P=s.find((s=>s[$e.serialNumber]!==_[$e.serialNumber]&&JSON.stringify(s[$e.subject])===JSON.stringify(_[$e.issuer])));if(!P)break;f.push(P)}return f})(f);return _.map((f=>s[f.index]))}catch(f){return s}}async _getCertificateChains(s){const f=[];if(!s||!s.signatures)return f;s.signatures.forEach((s=>{const _=s.certificates.map((s=>s.pem));f.push(_)}));const _=f.map((s=>this._fixCertificateOrder(s)));return(await Promise.allSettled(_)).map((s=>s.value))}async _handleX509Parsing(s,f){var _;null!=s&&null!==(_=s.certificates)&&void 0!==_&&_.length&&(f.certificates=await this.validationManager.getParsedCertificates(s.certificates))}_handleCertificateValidationInfo(s,f){f.certificateValidation={status:s.status||Je.unknown,trustSources:s.trustSources||[],verifiedBy:s.verifiedBy||"",validatorErrors:s.validatorErrors||[],validation:s.validation||{}}}async responseHandler(s,f){try{const f=(await this._getCertificateChains(s.data.data)).map((s=>this.validationManager.validate(s))),_=await Promise.allSettled(f),{signatures:P}=s.data.data;P.forEach(((s,f)=>{const{value:P}=_[f];this._handleCertificateValidationInfo(P,s)}));const y=P.map(((s,f)=>{const{value:P}=_[f];return this._handleX509Parsing(P,s)}));await Promise.allSettled(y),this._processSignatureData(s.data.data.signatures)}catch(s){}finally{f(s.data.msgId,s)}}}function Kt(s,f){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);f&&(P=P.filter((function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable}))),_.push.apply(_,P)}return _}function Yt(s){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?Kt(Object(_),!0).forEach((function(f){$t(s,f,_[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):Kt(Object(_)).forEach((function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(_,f))}))}return s}function $t(s,f,_){return f in s?Object.defineProperty(s,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[f]=_,s}class Jt{constructor(s){this._getAnnotData=s,this._annotData=new Map}getAnnotData(s){let{params:f}=s,_=function Zt(s,f){if(null==s)return{};var _,P,y=function(s,f){if(null==s)return{};var _,P,y={},S=Object.keys(s);for(P=0;P<S.length;P++)_=S[P],f.indexOf(_)>=0||(y[_]=s[_]);return y}(s,f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(s);for(P=0;P<S.length;P++)_=S[P],f.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(s,_)&&(y[_]=s[_])}return y}(s,["params"]);const{annotId:P}=f;return new Promise(((s,y)=>{this._getAnnotData(Yt({params:f},_)).then((f=>{const _=Yt({},f);_&&_.data&&_.data.annot?(_.data.annot=Yt(Yt({},_.data.annot),this._annotData.get(P)),s(_)):y({message:"Annotation data for annotation ID ".concat(P," not found")}),this._annotData.delete(P)})).catch((s=>{y(s)}))}))}setAnnotData(s){const{annotId:f}=s;this._annotData.set(f,s)}}function er(s,f){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);f&&(P=P.filter((function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable}))),_.push.apply(_,P)}return _}function tr(s){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?er(Object(_),!0).forEach((function(f){rr(s,f,_[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):er(Object(_)).forEach((function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(_,f))}))}return s}function rr(s,f,_){return f in s?Object.defineProperty(s,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[f]=_,s}const Ke="".concat("ajs","PerfTimings");var Xe=class{constructor(s){let{ajsWorkerPath:f="",useFullBuild:_=!1,enableWasmExceptions:P=!1,splitWasm:y=!1,enableLogging:S=!1,workerCreator:E,signalDispatcher:q,windowObj:te,enableProgressiveRendering:re=!1,apiTrackingInfo:ne,currentPluginCount:ie,hostEnv:se}=s;if(!window.Worker)throw new Error("Web Workers not supported!");Object.assign(this,tr({ajsWorkerPath:f,useFullBuild:_,enableWasmExceptions:P,splitWasm:y,enableLogging:S,signalDispatcher:q,workerCreator:E,windowObj:te,enableProgressiveRendering:re,apiTrackingInfo:ne,hostEnv:se},j(ie)&&{currentPluginCount:ie})),this._messageMap={},this._unsettledMessageList=[],this._pdfBuffer=null,this._decryptedPdfBuffer=null,this._pdfPassword="",this._jsSAB=null,this._includeDocLevelActions=!1,this._messageCount=0,this.pluginModesEntered=new Map,this.activePluginModeInfo={activePluginMode:"",activePluginModeStartTime:null},this._linearizationInfo={},this._digSigHandler=null,this._annotDataClient=new Jt((s=>this.sendMessageToWorker(s))),this._ftpdfWebViewCache=new Ot((s=>{this.sendMessageToWorker(s)}),((s,f)=>{this.signalDispatcher.trigger(s,f)})),this._wasmSwitchHandler=new class{constructor(s){let{sendMessageToWorker:f,restartWorker:_,getOpenPdfMessage:P}=s;this.sendMessageToWorker=f,this.restartWorker=_,this.getOpenPdfMessage=P,this.pluginPortsMap=null,this.switchingState=ze.NOT_SWITCHED}shouldSwitch(){return this.switchingState===ze.NOT_SWITCHED}isSwitching(){return this.switchingState===ze.SWITCHING}setSwitchingState(s){this.switchingState=s}switchToFullBuild(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve(),f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.shouldSwitch())return Promise.reject();const _=f;this.setSwitchingState(ze.SWITCHING),this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}});const P=this.sendMessageToWorker({command:"getMessages",params:{}});return Promise.all([P,s]).catch((s=>{throw this.setSwitchingState(ze.NOT_SWITCHED),s})).then((s=>{let[f]=s;const P=f;return this.restartWorker().then((()=>{var s,f;const y=this._checkCommandInObject(_,M)?null==_||null===(s=_.data)||void 0===s||null===(f=s.currEvent)||void 0===f?void 0:f.msgId:void 0,S=!this._checkCommandInObject(_,O)&&this.getOpenPdfMessage(y);(this._checkCommandInObject(_,de)||this._checkCommandInObject(_,M))&&delete _.data.currEvent,this._checkCommandInObject(P,M)&&delete P.data.currEvent,S&&this.sendMessageToWorker(S),this._sendMessageListToWorker(P,_),P&&P.data&&(this.pluginPortsMap=P.data.pluginPortsMap),this._sendPluginPortsToWorker()})).finally((()=>{this.setSwitchingState(ze.SWITCHED)}))}))}_checkCommandInObject(s,f){return s&&s.data&&s.data.currEvent&&s.data.currEvent.command===f}_setAppearanceDataInCurrEventHelper(s,f,_){const P=s;if(P&&P.params&&P.params.data){const{annotIndex:y}=s.params.data;if(void 0!==y&&y>=0&&y<f.length&&P.params.data.appearanceData){const s=f[y];P.params.data.appearanceData.buffer=s,_.push(s.buffer)}}}_setAppearanceDataInCurrEvent(s,f){const _=s,P=_.currEventAppearanceData;if(P.length>0){let s=_&&_.params&&_.params.data;_.params.data.commentData&&(s=_.params.data.commentData),s&&(Array.isArray(s)?s.forEach((s=>{this._setAppearanceDataInCurrEventHelper(s,P,f)})):this._setAppearanceDataInCurrEventHelper(_,P,f)),delete _.currEventAppearanceData}}_sendMessageListToWorker(s,f){const _=[],P=f&&f.data&&f.data.currEvent;let y;const S=s&&s.data&&s.data.msgList;if(P?(this._setAppearanceDataInCurrEvent(P,_),y={value:P,next:S,priority:1}):y=S,!y)return;const E={command:"addMessages",params:{msgList:y},transferList:_};this.sendMessageToWorker(E)}_sendPluginPortsToWorker(){if(this.pluginPortsMap&&this.pluginPortsMap instanceof Map&&this.pluginPortsMap.size>0){const s=[];return this.pluginPortsMap.forEach(((f,_)=>{const P={command:ee,params:{port:f,pluginName:_},transferList:[f]};s.push(this.sendMessageToWorker(P))})),Promise.all(s).then((()=>{this.pluginPortsMap=null}))}return Promise.resolve()}}({sendMessageToWorker:s=>this.sendMessageToWorker(s),restartWorker:()=>this._restartWorker(),getOpenPdfMessage:()=>this._getOpenPdfMessage()}),this._wasmErrorHandler=new class{constructor(s){let{getPluginModesInfo:f,messageCallback:_,logError:P,switchToFullBuild:y,enableWasmExceptions:S,switchToNonLinearizedWorkflow:E}=s;this.getPluginModesInfo=f,this.switchToFullBuild=y,this.messageCallback=_,this.logError=P,this.enableWasmExceptions=S,this.switchToNonLinearizedWorkflow=E,this._errorTypesLogged=[],this._lastEventBeforeWasmSwitch=null}get lastEventBeforeWasmSwitch(){return this._lastEventBeforeWasmSwitch}resetLastEventBeforeWasmSwitch(){this._lastEventBeforeWasmSwitch=null}handleWasmError(s,f,_,P){if(this._logErrorData(s,f,_,P),this.enableWasmExceptions){var y;const f=null==s||null===(y=s.data)||void 0===y?void 0:y.currEvent;return _===qe.LINEARIZED?this.switchToNonLinearizedWorkflow(f):(this._sendCorruptFileError(f,s.errorCode),Promise.resolve())}return this._handleSwitchJS(s,f)}_sendCorruptFileError(s,f){if(s&&s.msgId){const _={error:"corruptFile",errorCode:f};this.messageCallback(s.msgId,_)}}_handleSwitchJS(s,f){var _;const P=null==s||null===(_=s.data)||void 0===_?void 0:_.currEvent;if(["FirstTimeSwitchJS","LinearizationSwitchJS"].includes(f))return this._lastEventBeforeWasmSwitch=P,this.switchToFullBuild(s);const y=this._lastEventBeforeWasmSwitch||P;return this._sendCorruptFileError(y,s.errorCode),Promise.resolve()}_logErrorData(s,f,_,P){const y=[],{activePluginModeInfo:S,pluginModesEntered:E}=this.getPluginModesInfo(),{activePluginMode:O,activePluginModeStartTime:M}=S;E.forEach(((s,f)=>{y.push(function(s){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?Ft(Object(_),!0).forEach((function(f){Ct(s,f,_[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):Ft(Object(_)).forEach((function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(_,f))}))}return s}({name:f},s))}));const q={ajsError:{activePluginMode:O,pluginModesEntered:y}};if(O&&M){const s=performance.now();q.ajsError.timeSpentInActivePluginMode=s-M}if(s&&s.data){const{currEvent:f,stackTrace:_,pdfUpdatesSoFar:y,memInfo:S}=s.data;f?q.ajsError.currEvent=f.command:P&&(q.ajsError.lastProcessedMessage=P.command),console.log(_),q.ajsError.stackTrace=_,q.ajsError.pdfUpdatesSoFar=y,q.ajsError.memInfo=S}if(s){const f=["errorCode","filename","lineno","colno"];((s,f,_)=>{const P=s;void 0!==f&&void 0!==P&&_.forEach((s=>{const _=f[s];void 0!==_&&(P[s]=_)}))})(q.ajsError,s,f),console.error("Exception: ".concat(q.ajsError.errorCode)),s.message&&(q.ajsError.errorMessage=s.message)}q.ajsError.type=f,this.enableWasmExceptions?(q.ajsError.workflow=_,this._errorTypesLogged.includes(q.ajsError.workflow)||(this.logError(q.ajsError),this._errorTypesLogged.push(q.ajsError.workflow))):this._errorTypesLogged.includes(q.ajsError.type)||(this.logError(q.ajsError),this._errorTypesLogged.push(q.ajsError.type))}}({getPluginModesInfo:()=>({activePluginModeInfo:this.activePluginModeInfo,pluginModesEntered:this.pluginModesEntered}),messageCallback:(s,f)=>this._callMessageCallback(s,f),logError:s=>this.signalDispatcher.trigger("ajsError",s),switchToFullBuild:s=>this._switchToFullBuild(s),enableWasmExceptions:this.enableWasmExceptions,switchToNonLinearizedWorkflow:s=>this._switchToNonLinearizedWorkflow(s)})}_getUpdatedMessageCount(){return this._messageCount+=1,this._messageCount}_isWasmSupportedOnBrowser(){let s=!0;return-1===navigator.userAgent.indexOf("OS 11_2")||-1===navigator.userAgent.indexOf("iPhone")&&-1===navigator.userAgent.indexOf("iPad")||(s=!1),self.WebAssembly&&"object"==typeof self.WebAssembly||(s=!1),((()=>{const s=ut().name.toLowerCase();return"safari"===s||"mobile safari"===s})()&&lt(ut().version)||(()=>{const s=(new ve.a).getOS();return s&&"iOS"===s.name&&lt(s.version)})())&&(s=!1),s}_createWorker(){if(this.workerCreator&&"function"==typeof this.workerCreator&&(this.worker=this.workerCreator()),!this.worker){const s=this.enableWasmExceptions?"acrobatProxy_we.js":"acrobatProxy.js";this.workerURL=jt(this.ajsWorkerPath,this.windowObj)?Lt(this.ajsWorkerPath,s):"".concat(this.ajsWorkerPath).concat(s),this.worker=new window.Worker(this.workerURL)}}init(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(((_,P)=>{if(this._initResolve=_,this._initReject=P,!this._isWasmSupportedOnBrowser()){const s={error:"WASM is not supported on this browser!"};return this._initReject(s)}this.signalDispatcher.trigger(Ke,{ajsInit:performance.now()}),this._createWorker(),this.worker.onmessage=this._onWorkerMessage.bind(this),this.worker.onerror=this._onWorkerError.bind(this);const y=this._wasmSwitchHandler.isSwitching(),S=this.enableWasmExceptions?"renderingWorker_we.js":"renderingWorker.js",E={command:"init",params:{useFullBuild:y||this.useFullBuild,enableLogging:this.enableLogging,totalMemory:s,t5Cache:Math.max(f,209715200),enableProgressiveRendering:this.enableProgressiveRendering,apiTrackingInfo:this.apiTrackingInfo,hostEnv:this.hostEnv,devicePixelRatio:window.devicePixelRatio,renderingWorkerPath:jt(this.ajsWorkerPath,this.windowObj)?Lt(this.ajsWorkerPath,S):"".concat(this.ajsWorkerPath).concat(S),splitWasm:this.splitWasm}};this._ajsBinaryStartTime=performance.now(),this.signalDispatcher.trigger("ajsBinaryLoadStarted",{startTime:this._ajsBinaryStartTime,isFullBuild:y||this.useFullBuild}),this.worker.postMessage(E),this.enableProgressiveRendering&&this.createMsgChannelBwMainAndRenderingWorker()}))}createMsgChannelBwMainAndRenderingWorker(){const{port1:s,port2:f}=new MessageChannel;this.worker.postMessage({command:"transferPortToRenderingWorker",port:s},[s]),f.onmessage=this.worker.onmessage}registerPDFBufferFetcher(s){this.fetchPDFBufferRanges=s}setPDFBuffer(s){const f={command:"setPDFBuffer",params:{buffer:s}};this.signalDispatcher.trigger("completePDFBufferAvailable",{}),this._pdfBuffer=s,this.worker.postMessage(f)}terminate(){this._terminateWorker(),it("AJS proxy worker is terminated")}terminateRenderingWorker(){const s={command:"terminateRenderingWorker"};return this.sendMessageToWorker(s)}_terminateWorker(){this.worker&&this.worker.terminate()}_shouldSwitchToFullBuild(){return!this.useFullBuild&&this._wasmSwitchHandler.shouldSwitch()}_restartWorker(){return this._terminateWorker(),this.worker=void 0,this.init()}loadFullWorker(){return this._switchToFullBuild()}getUpdatedPDF(){const s={data:{buffer:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._decryptedPdfBuffer:this._pdfBuffer}};return Promise.resolve(s)}_getOpenPdfMessage(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const f={command:M,priority:1,params:{buffer:this._pdfBuffer,password:this._pdfPassword,includeActions:this._includeDocLevelActions,jsSAB:this._jsSAB}};return s&&(f.msgId=s),f}_cleanUpLinearizationWorkflow(){let s=Promise.resolve();return this._pdfBuffer||(s=this.fetchPDFBufferRanges([{start:0}]).then((s=>{const f=s[0];this.setPDFBuffer(f)}))),s.then((()=>{this._linearizationInfo={},this.fetchPDFBufferRanges=null}))}_isLinearizedWorkflow(){return this._linearizationInfo.pdfSize}_switchToNonLinearizedWorkflow(s){return this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}}),this._cleanUpLinearizationWorkflow().then((()=>{const f=this._getOpenPdfMessage();f.params.switchingToNonLinearizedWorkflow=!0,this.sendMessageToWorker(f),this.sendMessageToWorker(s),this.sendMessageToWorker({command:"resumeMessageProcessing",params:{}})}))}_switchToFullBuild(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._shouldSwitchToFullBuild()){Wt(this._jsSAB,!1);const f=this._isLinearizedWorkflow()?this._cleanUpLinearizationWorkflow():Promise.resolve();return this._wasmSwitchHandler.switchToFullBuild(f,s)}return Promise.resolve()}_onWasmError(s){let f="WASM_ERROR";this.enableWasmExceptions||(f="SecondTimeSwitchJS",this._shouldSwitchToFullBuild()&&(f=this._isLinearizedWorkflow()?"LinearizationSwitchJS":"FirstTimeSwitchJS"));const _=this._isLinearizedWorkflow()?qe.LINEARIZED:qe.NON_LINEARIZED;this._wasmErrorHandler.handleWasmError(s,f,_,this._lastMessage).then((()=>{["WASM_ERROR","SecondTimeSwitchJS"].includes(f)&&(this._postToWorker({command:"resumeMessageProcessing",params:{}}),Wt(this._jsSAB,!0))}))}sendMessageToWorker(s){let f=Promise.resolve();return!this.enableWasmExceptions&&fe.includes(s.command)&&(f=this.loadFullWorker()),f.then((()=>{if(s.command===M&&s.params){const{buffer:f,password:_,linearizationInfo:P,jsSAB:y,includeActions:S}=s.params;P?(this._linearizationInfo=P,this._int32PartialPDFSAB=new Int32Array(this._linearizationInfo.partialPDFSAB)):(this._pdfBuffer=f,this.signalDispatcher.trigger("completePDFBufferAvailable",{})),this._pdfPassword=_,this._includeDocLevelActions=S,this._jsSAB=y}if(s.command===te){const{certificateChainValidators:f}=s.params;this._digSigHandler=new Xt(f),delete s.params.certificateChainValidators}return new Promise(((f,_)=>{const P=s,y=performance.now();P.mainThreadDispatchTime=D(),P.msgId||(P.msgId=this._getUpdatedMessageCount(),this._messageMap[P.msgId]=s=>{const S=performance.now()-y;let E={};s.error?(E=tr(tr({},s),{},{totalTime:S}),_(E)):(E=tr(tr({},s.data),{},{totalTime:S}),f(E)),it("msgId and TotalTime",P.msgId,S)}),this._postToWorker(P)}))}))}sendMessageToWorkerSynchronously(s){return new Promise(((f,_)=>{const P=s,y=performance.now();P.msgId||(P.msgId=this._getUpdatedMessageCount(),this._messageMap[P.msgId]=s=>{const S=performance.now()-y;let E={};s.error?(E=tr(tr({},s),{},{totalTime:S}),_(E)):(E=tr(tr({},s.data),{},{totalTime:S}),f(E)),it("msgId and TotalTime",P.msgId,S)}),this._postToWorker(P)}))}_trackMessage(s){null!=s&&s.msgId&&this.apiTrackingInfo.enabled&&this.apiTrackingInfo.trackList.includes(s.command)&&this._unsettledMessageList.push(s.msgId)}_postToWorker(s){const f=s;it("message to worker",f);const _=f.transferList||[];delete f.transferList,this._trackMessage(f),this.worker.postMessage(f,_)}_updatePluginInfo(s){const{activePluginMode:f,activePluginModeStartTime:_}=this.activePluginModeInfo,{activePluginMode:P}=s;let y=null;if(P&&(y=performance.now(),this.pluginModesEntered.has(P)||this.pluginModesEntered.set(P,{})),f&&_){const s=performance.now();this.pluginModesEntered.set(f,{timeSpent:s-_})}this.activePluginModeInfo={activePluginMode:P,activePluginModeStartTime:y}}_notifyBufferRanges(s,f){if(s.length!==f.length)this._int32PartialPDFSAB[0]=we.INCOMPLETE_BUFFER_RANGES_DOWNLOADED;else{let s,_,P=f.length;for(let y=0;y<f.length;y++){if(s=new Uint8Array(f[y]),this._int32PartialPDFSAB[y]=s.length,_=new Int32Array(s,0,s.length),this._int32PartialPDFSAB.length-P<_.length){this._int32PartialPDFSAB[0]=we.SAB_INDEX_OUT_OF_BOUNDS;break}this._int32PartialPDFSAB.set(_,P),P+=_.length}}Atomics.notify(this._int32PartialPDFSAB,0,1)}_handleFileData(s){let{fileDescription:f,fileId:_,fileData:P,fileDataMimeType:y}=s;if("annotData"===f)this._setAnnotData({annotId:_,annotData:P,annotDataMimeType:y})}getAnnotData(s){return this._annotDataClient.getAnnotData(s)}_setAnnotData(s){this._annotDataClient.setAnnotData(s)}getFTPDFWebViewHTMLStream(s,f){return this._ftpdfWebViewCache.getHTMLStream(s,f,this.sendMessageToWorker.bind(this))}_setFTPDFWebViewHTML(s,f,_){this._ftpdfWebViewCache.setHTML(s,f,_)}getLiquidModeViewResource(s){return this._ftpdfWebViewCache.getResource(s)}_setFTPDFWebViewResource(s,f,_){this._ftpdfWebViewCache.setResource(s,f,_)}_notifyIfWorkerIdle(){this.currentPluginCount()||0!==this._unsettledMessageList.length||this.signalDispatcher.trigger("workerIdle",{})}_removeUnsettledMessage(s){const f=this._unsettledMessageList.indexOf(s);this._unsettledMessageList.splice(f,1)}_onWorkerMessage(s){const{data:f}=s;if(it("message from worker",f),f.workerThreadDispatchTime&&(f.workerToMainTime=D()-f.workerThreadDispatchTime,delete f.workerThreadDispatchTime),"proxyInitDone"===f.message)this.signalDispatcher.trigger(Ke,{proxyInitTime:W(f.proxyInitTime)});else if("fileData"===f.message)this._handleFileData(f);else if("init"===f.command){if(!f.isInitialized)return this._initReject({error:f.error});this.signalDispatcher.trigger(Ke,{ajsLoaded:performance.now()}),this._initResolve()}else if("wasmInitTime"===f.command){const{importScriptStartTime:s,importScriptEndTime:_,wasmInitTime:P,wasmLoadStartTime:y,wasmLoadEndTime:S,resourceType:E}=f;this.signalDispatcher.trigger("ajsBinaryTotalTime",{ajsBinaryTotalTime:performance.now()-this._ajsBinaryStartTime,resourceType:E}),this.signalDispatcher.trigger(Ke,{wasmLoadStartTime:W(y),wasmLoadEndTime:W(S),wasmInitTime:W(P),wasmjsImportStartTime:W(s),wasmjsImportEndTime:W(_)})}else if("secondaryModuleLoaded"===f.command){const{info:s,timings:_}=f,{secondaryModuleInitTime:P,secondaryModuleLoadStartTime:y,secondaryModuleLoadEndTime:S}=_,E={secondaryModuleLoadStartTime:W(y),secondaryModuleLoadEndTime:W(S),secondaryModuleInitTime:W(P)};this.signalDispatcher.trigger(Ke,E),this.signalDispatcher.trigger("secondaryModuleLoaded",tr(tr({},s),E))}else if("generateGlyphBitmap"===f.command){const{resolveId:s,params:_}=f,{fontInfo:P,chars:y}=_,E=S.generateGlyphBitmap(y,P),{matrix:O}=P;this.signalDispatcher.trigger("unembeddedFontsDetected",{chars:y,fontName:O.fontName});const M={command:"missingFontBitmaps",params:{missingTextData:E,resolveId:s}};this._postToWorker(M)}else if("updatePDFBuffer"===f.command)f.pdfBuffer&&(f.decryptedBuffer?this._decryptedPdfBuffer=f.pdfBuffer:this._pdfBuffer=f.pdfBuffer);else if("fetchPDFBufferRanges"===f.command)if(this._pdfBuffer){it("fetchPDFBufferRanges: full pdf available");const s=f.ranges.map((s=>this._pdfBuffer.slice(s.start,Math.min(s.end+1,this._pdfBuffer.byteLength))));this._notifyBufferRanges(f.ranges,s)}else this.fetchPDFBufferRanges(f.ranges).then((s=>this._notifyBufferRanges(f.ranges,s)));else if("fetchCNFTPDFUpdates"===f.command)this._ftpdfWebViewCache.fetchCNFTPDFUpdates(f);else if("liquidModePerfMarker"===f.command)this._ftpdfWebViewCache.recordPerfMarker(f);else if("setFTPDFWebViewHTML"===f.command){const{html:s,translationStatus:_}=f,P=function Qt(s,f){if(null==s)return{};var _,P,y=function(s,f){if(null==s)return{};var _,P,y={},S=Object.keys(s);for(P=0;P<S.length;P++)_=S[P],f.indexOf(_)>=0||(y[_]=s[_]);return y}(s,f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(s);for(P=0;P<S.length;P++)_=S[P],f.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(s,_)&&(y[_]=s[_])}return y}(f,["html","translationStatus"]);this._setFTPDFWebViewHTML(s,_,P)}else if("setFTPDFWebViewResource"===f.command){const{resourceURL:s,resourceContent:_,resourceMimeType:P}=f;this._setFTPDFWebViewResource(s,_,P)}else if(f.command===te)this._digSigHandler&&this._digSigHandler.responseHandler(s,this._callMessageCallback.bind(this));else if(f.lastProcessedMessage)this._lastMessage=f.lastProcessedMessage;else if(Object.prototype.hasOwnProperty.call(f,"activePluginMode")&&"string"==typeof f.activePluginMode)this._updatePluginInfo(f);else if("trackingEvent"===f.command)this.signalDispatcher.trigger(f.eventName,f.data);else if("trackDeletedMessages"===f.command)this._settleMessages(f.deletedMessagesList);else{"openPDF"===f.command&&this._pdfBuffer&&Wt(this._jsSAB,!0);const{msgId:_,error:P}=f;if(void 0!==_)if("WASM_ERROR"===P)this._onWasmError(f);else{let y;y=P?tr(tr({},f),{},{error:f.err_code||P}):s,this._callMessageCallback(_,y)}}}_settleMessages(s){this._unsettledMessageList.length&&(s.forEach((s=>{this._removeUnsettledMessage(s)})),setTimeout((()=>{this._notifyIfWorkerIdle()}),10)),s.forEach((s=>delete this._messageMap[s]))}_callMessageCallback(s,f){const{lastEventBeforeWasmSwitch:_}=this._wasmErrorHandler;_&&s===_.msgId&&this._wasmErrorHandler.resetLastEventBeforeWasmSwitch();const P=this._messageMap[s];j(P)&&P(f),this._settleMessages([s])}_onWorkerError(s){this._onWasmError(s)}};const Ye={ZOOM_LEVEL_CHANGE:"zoomLevelChange",HC_THEME_CHANGE:"highContrastThemeChange"},Qe=(Object.freeze({invalid:0,openPDF:1,getPageRendition:2,getPageRangeGeometry:3,extractPageText:4,selectText:5,hitTest:6,getSelectedText:7,getBookmarks:8,getDataFromNamesTree:9,getAttachments:10,getAttachmentBuffer:11,getHyperlinkData:12,findText:13,getAnnotAppearance:14,createAnnot:15,editAnnot:16,deleteAnnot:17,getAnnots:18,getVoiceAnnotData:19,registerLicense:20,getDocumentXMPMetadata:21,editWillBegin:22,editDidEnd:23,processAction:24,editOperationBegin:25,editOperationDone:26,getPageFontList:27,saveChangesToPDF:28,setLinearizedBlockSize:29,getFASFields:30,createFASField:31,deleteFASField:32,updateFASField:33,flattenFASFields:34,getFASFieldAppearance:35,createAnnots:36,deleteAnnots:37,translateToLiquidModeView:38,applyCNFTPDFUpdates:39,getHtmlLocationForDocPoint:40,getDocPointForHtmlLocation:41,JSApi:42,createFormField:43,createFormFields:44,updateFormField:45,deleteFormField:46,deleteFormFields:47,getFormFields:48,updateSignMetadata:49,getSignMetadata:50,lockFormFields:51,createLinkAnnot:52,getLinkAnnots:53,editLinkAnnot:54,deleteLinkAnnot:55,deleteLinkAnnots:56,addIcon:57,updateDocInfo:58,updateFormFields:59,detectSignFields:60,getOverprintType:61,verifyDigitalSignatures:62,editLinkAnnots:63,isFileQualifiedForLiquidMode:64,removeOffScreenCanvas:65,terminateRenderingWorker:66,detectLanguage:67,getPagesScanStatus:68,getMetadata:69,isScannedDocument:70,getImageBuffer:71,getDocumentParts:72,setDocumentParts:73}),Object.freeze({kNoError:0,kZeroByteFile:1,kPDFDownloadingError:2,kIncorrectPassword:3,kLinearizationDictNotFound:4,kUnknownError:5}),Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4,PATH:5}),Object.freeze({kNoDirection:0,kForwardArrow:1,kBackwardArrow:2,kUpArrow:3,kDownArrow:4})),Ze=Object.freeze({kNoShortcut:0,kLineBegin:1,kLineEnd:2}),et=Object.freeze({NORMAL:1,RELAXED:2,DISABLED:3});function fr(s,f){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(s);f&&(P=P.filter((function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable}))),_.push.apply(_,P)}return _}function dr(s){for(var f=1;f<arguments.length;f++){var _=null!=arguments[f]?arguments[f]:{};f%2?fr(Object(_),!0).forEach((function(f){hr(s,f,_[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):fr(Object(_)).forEach((function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(_,f))}))}return s}function hr(s,f,_){return f in s?Object.defineProperty(s,f,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[f]=_,s}class pr{constructor(s){let{ajsPath:f="",enableLogging:P=!1,useFullBuild:y=!1,enableWasmExceptions:S=!1,splitWasm:E=!1,workerCreator:O,windowObj:M=window,enableProgressiveRendering:q=!1,apiTrackingInfo:ee={enabled:!1,trackList:[]},hostEnv:te}=s;const re=Array.isArray(ee.trackList);Object.assign(this,{ajsPath:f,useFullBuild:y,enableWasmExceptions:S,splitWasm:E,enableLogging:P,workerCreator:O,windowObj:M,enableProgressiveRendering:q,apiTrackingInfo:{enabled:ee.enabled&&re,trackList:re?ee.trackList:[]},hostEnv:te}),this._signalDispatcher=new class{constructor(){this._reset()}_reset(){this.commonListeners=[]}subscribe(s){this.commonListeners.includes(s)||this.commonListeners.push(s)}unsubscribe(s){this.commonListeners.includes(s)&&this.commonListeners.splice(this.commonListeners.indexOf(s),1)}getAllListeners(){return this.commonListeners}trigger(){for(var s=arguments.length,f=new Array(s),_=0;_<s;_++)f[_]=arguments[_];this.commonListeners.forEach((s=>s(...f,"ajs")))}removeAll(){this._reset()}},this._pluginsMap=new Map,this.ajsWorkerInitPromise=null,this._canvasMap=new Map,this._isRenderingWorkerPresent=!1,_.p=f}_attachListenerToPlugin(s,f){const _=this._getPlugin(f);_&&_.subscribe(s)}_attachAllListenersToPlugin(s){this._signalDispatcher.getAllListeners().forEach((f=>this._attachListenerToPlugin(f,s)))}_attachListenerToAllPlugins(s){this._pluginsMap.forEach(((f,_)=>this._attachListenerToPlugin(s,_)))}_removeAllListenersFromPlugin(s){const f=this._getPlugin(s);f&&this._signalDispatcher.getAllListeners().forEach(f.unsubscribe)}_removeListenerFromAllPlugins(s){this._pluginsMap.forEach((f=>f.unsubscribe(s)))}_currentPluginCount(){return this._pluginsMap.size}_checkPluginDoesNotExist(s){let{name:f}=s;return new Promise(((s,_)=>{this._getPlugin(f)&&_(new Error("Plugin ".concat(f," already exists"))),s()}))}_checkApisDontExist(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(((f,_)=>{const P=s.filter((s=>this[s]));P.length&&_(new Error("Following apis already exist: ".concat(P.join(",")))),f()}))}_getPlugin(s){return this._pluginsMap.has(s)?this._pluginsMap.get(s):null}_sendCoreApisToPlugin(s){const f=this._getPlugin(s);f&&f.setCoreApis(this._getExposedApis(f.requestedApiList))}_getExposedApis(){const s={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((f=>{this[f]&&(s[f]=Promise.resolve(this[f].bind(this)))})),s}_populateSupportedPluginApis(s){let{name:f}=s;const _=this._getPlugin(f);_.supportedApiList.forEach((s=>{this[s]=_[s].bind(_)}))}_removeSupportedPluginApis(s){let{name:f}=s;const _=this._getPlugin(f);_&&_.supportedApiList.forEach((s=>{delete this[s]}))}_createMessageChannel(s,f){const{port1:_,port2:P}=new MessageChannel;return Promise.all([this._transferPortToPlugin(_,s),this._transferPortToT5(P,f)])}_transferPortToPlugin(s,f){const _={params:{port:s},transferList:[s]};return f.addMessagePort(_)}_transferPortToT5(s,f){const _={command:ee,params:{port:s,pluginName:f},transferList:[s]};return this._ajsWorker.sendMessageToWorker(_)}_removePluginPortFromT5(s){const f={command:"removeMessagePort",params:{pluginName:s}};return this._ajsWorker.sendMessageToWorker(f)}_createBatchOfMessagesAndSendToWorker(s,f,_,P){const y=[],S=[];f.forEach(((s,P)=>{const E={command:_,params:dr(dr({},s),{},{shouldUpdatePDFBuffer:P===f.length-1})};if(y.push(E),s&&s.data&&s.data.appearanceData&&s.data.appearanceData.buffer){const f=s.data.appearanceData.buffer;S.push(f.buffer)}}));const E={command:s,priority:P,params:{data:y},processingMode:Be.BATCHED,transferList:S};return this._ajsWorker.sendMessageToWorker(E)}_terminateWorker(){this._ajsWorker.terminate(),this._signalDispatcher.removeAll()}init(){const{ajsPath:s,useFullBuild:f,enableWasmExceptions:_,splitWasm:P,enableLogging:y,workerCreator:S,windowObj:E,enableProgressiveRendering:O,hostEnv:M}=this;return ge=y,this._ajsWorker=new Xe({ajsWorkerPath:"".concat(s,"build/"),useFullBuild:f,enableWasmExceptions:_,splitWasm:P,enableLogging:y,workerCreator:S,signalDispatcher:this._signalDispatcher,currentPluginCount:this._currentPluginCount.bind(this),windowObj:E,enableProgressiveRendering:O,apiTrackingInfo:this.apiTrackingInfo,hostEnv:M}),this._isRenderingWorkerPresent=O||!1,this.ajsWorkerInitPromise=this._ajsWorker.init(),this.ajsWorkerInitPromise}registerPlugin(s){const{plugin:f,name:_,autoLoad:P}=s;return this._checkPluginDoesNotExist(s).then((()=>this._checkApisDontExist(f.supportedApiList))).then((()=>{if(this._pluginsMap.set(_,f),this._populateSupportedPluginApis(s),this._attachAllListenersToPlugin(_),this._sendCoreApisToPlugin(_),P)return this.loadPlugin(s)}))}deregisterPlugin(s){const{name:f}=s;return this.unloadPlugin(s).then((()=>{this._removeSupportedPluginApis({name:f}),this._pluginsMap.delete(f),this._removeAllListenersFromPlugin(f)}))}loadPlugin(s){const{name:f}=s,_=this._getPlugin(f);if(_){const s=_.load();return _.isSeparateWorker?Promise.all([s,this.ajsWorkerInitPromise]).then((s=>this._createMessageChannel(_,f).then((()=>s[0])))):s}return Promise.reject(new Error("Plugin ".concat(f," does not exist")))}unloadPlugin(s){const{name:f}=s,_=this._getPlugin(f);return _?(_.isSeparateWorker&&this._removePluginPortFromT5(f),_.unload()):Promise.resolve()}getApiListByPlugin(s){const f=this._getPlugin(s);return f?f.supportedApiList:[]}terminate(){return new Promise((s=>{this._isRenderingWorkerPresent?this._ajsWorker.terminateRenderingWorker().finally((()=>{this._terminateWorker(),s()})):(this._terminateWorker(),s())}))}subscribe(s){this._signalDispatcher.subscribe(s),this._attachListenerToAllPlugins(s)}unsubscribe(s){this._signalDispatcher.unsubscribe(s),this._removeListenerFromAllPlugins(s)}registerLicense(s,f){let{token:_,domain:P}=s;const y={command:O,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:f,params:{token:_,domain:P}};return this._ajsWorker.sendMessageToWorker(y)}openPDF(s,f){let{buffer:_,password:P="",documentId:y,includeActions:S=!1,jsSAB:E=null,securityHandler:O=null,storePDFHash:q=!1}=s,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this._isValidArrayBuffer(_))return Promise.reject({error:be.INVALID_BUFFER});this._signalDispatcher.trigger("openPDFCalled",{}),this._canvasMap.clear();const te={command:M,priority:ee,viewState:f,params:{buffer:_,password:P,documentId:y,includeActions:S,jsSAB:E,storePDFHash:q}};return this._ajsWorker.sendMessageToWorker(te).then((s=>s.data.errorCode===we.INCORRECT_PASSWORD&&O&&j(O.fetchPassword)?O.fetchPassword().then((s=>{const P={buffer:_,password:s,documentId:y,includeActions:S,jsSAB:E,securityHandler:O,storePDFHash:q};return this.openPDF(P,f,ee)})):(this._prepareTransformationMatrices(s),Promise.resolve(s))))}setLinearizedBlockSize(){const s={command:"setLinearizedBlockSize",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1?arguments[1]:void 0,params:{blockSize:arguments.length>0&&void 0!==arguments[0]?arguments[0]:65536}};return this._ajsWorker.sendMessageToWorker(s)}openLinearizedPDF(s,f){let{buffer:_,password:P="",fetchPDFBufferRanges:y,pdfSize:S,documentId:E,includeActions:O=!1,blockSize:q=65536}=s,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return void 0===self.SharedArrayBuffer?Promise.reject({error:be.SHARED_ARRAY_BUFFER_NOT_SUPPORTED}):y([{start:0,end:1024}]).then((s=>{const te=4*S+1024,re=s[0],ne=new SharedArrayBuffer(te),ie={command:M,priority:ee,viewState:f,params:{buffer:_,password:P,linearizationInfo:{initialBuffer:re,pdfSize:S,partialPDFSAB:ne,blockSize:q},documentId:E,includeActions:O}};return this._ajsWorker.registerPDFBufferFetcher(y),this._ajsWorker.sendMessageToWorker(ie)})).then((s=>s.data.errorCode===we.INCORRECT_PASSWORD?Promise.reject({error:be.PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW}):s.data.errorCode===we.LINEARIZATION_DICT_NOT_FOUND?Promise.reject({error:be.LINEARIZATION_DICT_NOT_FOUND}):(this._prepareTransformationMatrices(s),y([{start:0}]).then((s=>{const f=s[0];f.byteLength>S?this._ajsWorker.loadFullWorker():this._ajsWorker.setPDFBuffer(f)})),s)))}loadFullWorker(){return this._ajsWorker.loadFullWorker()}getPageRangeGeometry(s,f){let{startPageNum:_,endPageNum:P,forceCacheless:y=!1}=s;const S={command:"getPageRangeGeometry",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:f,params:{startPageNum:_,endPageNum:P,forceCacheless:y}};return this._ajsWorker.sendMessageToWorker(S)}getMetadata(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const{includeActions:P=!1,forceCacheless:y=!1}=s,S={command:"getMetadata",priority:_,viewState:f,params:{includeActions:P,forceCacheless:y}};return this._ajsWorker.sendMessageToWorker(S)}getDocumentParts(s,f){let{includeSignData:_=!1}=s;const P={command:"getDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{includeSignData:_}};return this._ajsWorker.sendMessageToWorker(P)}setDocumentParts(s,f){let{data:_}=s;const P={command:"setDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{data:_}};return this._ajsWorker.sendMessageToWorker(P)}_isValidRGBArr(s){return s&&Array.isArray(s)&&3===s.length}_validateColorPalette(s){return!!s&&this._isValidRGBArr(s[Ne.BACKGROUND])&&this._isValidRGBArr(s[Ne.TEXT])}getPageRendition(s,f){let{pageNum:_,zoomLevel:P,renderRect:y,devicePixelRatio:S=window.devicePixelRatio,requestType:E,showAnnots:O=Te.ALL,tileRect:M,timeLimit:ee,maxRenderInterval:te,renderIntervalMultiplier:re,hiddenOCGs:ne=[],colorPallete:ie,includeActions:se=!1,mimeType:ae,enableOverprintSupport:oe=!1,canvas:ce,canvasId:le}=s,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!_||_<0){const s={command:q,data:{status:"failed",error:be.INVALID_PAGE_NUM}};return Promise.resolve(s)}const de=new Uint32Array(1);de[0]=O;const he=dr(dr({zoomLevel:P,renderRect:y,devicePixelRatio:S,pageNum:_,showAnnots:de[0],tileRect:M,requestType:E,timeLimit:ee,maxRenderInterval:te,renderIntervalMultiplier:re,hiddenOCGs:ne,includeActions:se,mimeType:ae,enableOverprintSupport:oe},this._validateColorPalette(ie)&&{colorPallete:ie}),{},{isCanvasDrawing:!1});let pe=[];if(ce&&this._isRenderingWorkerPresent&&(he.canvasId=le,he.isCanvasDrawing=!0,!this._canvasMap.has(le))){const s=ce.transferControlToOffscreen();he.canvas=s,pe=[s],this._canvasMap.set(le,!0)}const fe={command:q,priority:ue,viewState:f,params:he,transferList:pe};return this._ajsWorker.sendMessageToWorker(fe)}collectProfileData(){const s={command:"collectProfileData"};return this._ajsWorker.sendMessageToWorker(s)}hitTest(s,f){let{pageNum:_,x:P,y,shouldDetectWeblinks:S=!0,shouldCreateContentPointMap:E=!1}=s;const O={command:"hitTest",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,viewState:f,params:{pageNum:_,x:P,y,shouldDetectWeblinks:S,shouldCreateContentPointMap:E}};return this._ajsWorker.sendMessageToWorker(O)}selectText(s,f){let{startPoint:_,endPoint:P,direction:y,snapToWords:S,jumpTo:E=Ze.kNoShortcut,force:O=!1,getCaret:M=!1}=s;const q={command:"selectText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:f,params:{startPoint:_,endPoint:P,direction:y,snapToWords:S,jumpTo:E,force:O,getCaret:M}};return this._ajsWorker.sendMessageToWorker(q)}getDocumentXMPMetadata(s,f){let{}=s;const _={command:"getDocumentXMPMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{}};return this._ajsWorker.sendMessageToWorker(_)}getAttachments(s,f){let{}=s;const _={command:"getAttachments",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{}};return this._ajsWorker.sendMessageToWorker(_)}getBookmarks(s,f){let{}=s;const _={command:"getBookmarks",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{}};return this._ajsWorker.sendMessageToWorker(_)}getDataFromNamesTree(s,f){const _={command:"getDataFromNamesTree",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,viewState:f,params:s};return this._ajsWorker.sendMessageToWorker(_)}getAttachmentBuffer(s,f){let{name:_}=s;const P={command:"getAttachmentBuffer",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{name:_}};return this._ajsWorker.sendMessageToWorker(P)}getSelectedText(s,f){let{richText:_=!1}=s;const P={command:"getSelectedText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:f,params:{richText:_}};return this._ajsWorker.sendMessageToWorker(P)}getHyperlinkData(s,f){let{pageNum:_,x:P,y,shouldDetectWeblinks:S=!0}=s;const E={command:"getHyperlinkData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,viewState:f,params:{x:P,y,pageNum:_,shouldDetectWeblinks:S}};return this._ajsWorker.sendMessageToWorker(E)}findText(s,f){let{text:_,startPage:P,numPages:y}=s;const S={command:"findText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:f,params:{text:_,startPage:P,numPages:y}};return this._ajsWorker.sendMessageToWorker(S)}extractPageText(s,f){let{pageNum:_,getWordRects:P=!1,getTextAttributes:y=!1,getFormFieldData:S=!1,getCharRects:E=!1}=s;const O={command:"extractPageText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,viewState:f,params:{pageNum:_,getWordRects:P,getTextAttributes:y,getFormFieldData:S,getCharRects:E}};return this._ajsWorker.sendMessageToWorker(O)}getAnnots(s,f){let{pageNum:_,annotsFilter:P,includeActions:y=!1}=s;const S={command:"getAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,annotsFilter:P,includeActions:y}};return this._ajsWorker.sendMessageToWorker(S)}createAnnot(s,f){let{data:_}=s;const P={command:"createAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{data:_}};return this._ajsWorker.sendMessageToWorker(P)}updateSignMetadata(s,f){let{data:_}=s;const P={command:"updateSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{data:_}};return this._ajsWorker.sendMessageToWorker(P)}getSignMetadata(s,f){let{}=s;const _={command:"getSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{}};return this._ajsWorker.sendMessageToWorker(_)}createFormField(s,f){let{data:_}=s;const P={command:re,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{data:_}};return this._ajsWorker.sendMessageToWorker(P)}createFormFields(s){let{fields:f}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("createFormFields",f,re,_)}updateFormField(s,f){let{pageNum:_,id:P,data:y,authoringMode:S=!1}=s;const O={command:ne,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P,data:y,authoringMode:S}};return this._ajsWorker.sendMessageToWorker(O)}addIcon(s){let{iconName:f,newIconName:_}=s;const P={command:"addIcon",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{newIconName:_,iconName:f}};return this._ajsWorker.sendMessageToWorker(P)}updateFormFields(s){let{fields:f}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("updateFormFields",f,ne,_)}deleteFormField(s,f){let{pageNum:_,id:P}=s;const y={command:ie,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P}};return this._ajsWorker.sendMessageToWorker(y)}deleteFormFields(s){let{fields:f}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("deleteFormFields",f,ie,_)}getFormFields(s,f){let{pageNum:_,includeActions:P=!1,includeSignData:y=!1}=s;const S={command:"getFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,includeActions:P,includeSignData:y}};return this._ajsWorker.sendMessageToWorker(S)}lockFormFields(s,f){let{}=s;const _={command:"lockFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{}};return this._ajsWorker.sendMessageToWorker(_)}createAnnots(s,f){let{data:_}=s;const P={command:"createAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{data:_}};return this._ajsWorker.sendMessageToWorker(P)}editAnnot(s,f){let{pageNum:_,id:P,data:y}=s;const S={command:"editAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P,data:y}};return this._ajsWorker.sendMessageToWorker(S)}deleteAnnot(s,f){let{pageNum:_,id:P}=s;const y={command:"deleteAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P}};return this._ajsWorker.sendMessageToWorker(y)}deleteAnnots(s,f){let{data:_}=s;const P={command:"deleteAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{data:_}};return this._ajsWorker.sendMessageToWorker(P)}getAnnotAppearance(s,f){let{pageNum:_,id:P,zoomLevel:y,devicePixelRatio:S,appearanceSubDict:O,appearanceState:M,colorPallete:q,ignoreDisplayFlags:ee=!1,enableOverprintSupport:te=!1}=s;const re={command:"getAnnotAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:dr(dr({pageNum:_,id:P,zoomLevel:y,devicePixelRatio:S,appearanceSubDict:O,appearanceState:M},this._validateColorPalette(q)&&{colorPallete:q}),{},{ignoreDisplayFlags:ee,enableOverprintSupport:te})};return this._ajsWorker.sendMessageToWorker(re)}getVoiceAnnotData(s,f){let{pageNum:_,annotId:P}=s;const y={command:"getVoiceAnnotData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,annotId:P}};return this._ajsWorker.getAnnotData(y)}JSApi(s){let{params:f}=s;const _={command:de,priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,params:f};return f.addResultToSAB?this._ajsWorker.sendMessageToWorkerSynchronously(_):this._ajsWorker.sendMessageToWorker(_)}updateDocInfo(s){let{data:f}=s;const _={command:"updateDocInfo",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{data:f}};return this._ajsWorker.sendMessageToWorker(_)}getImageBuffer(s,f){let{pageNum:_,croppedBounds:P,unCroppedBounds:y,boundCheckTolerance:S=2,preserveTransform:E=!0}=s;const O={command:"getImageBuffer",viewState:f,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,params:{pageNum:_,croppedBounds:P,unCroppedBounds:y,boundCheckTolerance:S,preserveTransform:E}};return this._ajsWorker.sendMessageToWorker(O)}verifyDigitalSignatures(s,f){let{certificateChainValidators:_=[]}=s;const P={command:te,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{certificateChainValidators:_}};return this._ajsWorker.sendMessageToWorker(P)}getFASFieldAppearance(s,f){let{pageNum:_,id:P,zoomLevel:y,enableOverprintSupport:S=!1}=s;const O={command:"getFASFieldAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P,zoomLevel:y,enableOverprintSupport:S}};return this._ajsWorker.sendMessageToWorker(O)}getFASFields(s){let{pageNum:f}=s;const _={command:"getFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(_)}getOverprintType(s){let{pageNum:f}=s;const _={command:"getOverprintType",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(_)}createFASField(s){let{pageNum:f,data:_}=s;const P={command:"createFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:f,data:_}};return this._ajsWorker.sendMessageToWorker(P)}deleteFASField(s){let{pageNum:f,id:_}=s;const P={command:"deleteFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:f,id:_}};return this._ajsWorker.sendMessageToWorker(P)}updateFASField(s){let{pageNum:f,id:_,data:P}=s;const y={command:"updateFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:f,id:_,data:P}};return this._ajsWorker.sendMessageToWorker(y)}getPagesScanStatus(s,f){let{startPageIndex:_,endPageIndex:P,ocrType:y}=s;const S={command:"getPagesScanStatus",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,params:{startPageIndex:_,endPageIndex:P,ocrType:y}};return this._ajsWorker.sendMessageToWorker(S)}isScannedDocument(){const s={command:"isScannedDocument",priority:arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,params:{}};return this._ajsWorker.sendMessageToWorker(s)}flattenFASFields(s){let{forceFlatten:f}=s;const _={command:"flattenFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{forceFlatten:f}};return this._ajsWorker.sendMessageToWorker(_)}detectSignFields(s,f){let{startPage:_,numPages:P,detectAll:y=!1,enableLogging:S=!1}=s;const E={command:"detectSignFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,viewState:f,params:{startPage:_,numPages:P,detectAll:y,enableLogging:S}};return this._ajsWorker.sendMessageToWorker(E)}getUpdatedBuffer(){let{decryptedBuffer:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f=performance.now();return Promise.all(Array.from(this._pluginsMap.values()).map((s=>s.doPreSaveOperations?s.doPreSaveOperations():Promise.resolve({saveRequired:!1})))).then((_=>{const P=performance.now();if(window.TIME_TAKEN_IN_PRE_SAVE_OPS=P-f,-1!==_.findIndex((s=>!0===s.saveRequired))||s){const _={command:"saveChangesToPDF",priority:20,params:{decryptedBuffer:s}};return this._ajsWorker.sendMessageToWorker(_).then((()=>{const _=performance.now();return window.TOTAL_TIME_TAKEN_IN_SAVE=_-f,this._ajsWorker.getUpdatedPDF(s)}))}return this._ajsWorker.getUpdatedPDF()}))}getPageFontList(s,f){let{pageNum:_}=s;const P={command:"getPageFontList",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:f,params:{pageNum:_}};return this._ajsWorker.sendMessageToWorker(P)}addFontForViewing(s,f){let{name:_,type:P,buffer:y}=s,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const E=ArrayBuffer.isView(y)?y.buffer:y;if(!this._isValidArrayBuffer(E))return Promise.reject({error:be.INVALID_BUFFER});const O={command:"addFontForViewing",viewState:f,priority:S,params:{name:_,type:P,buffer:E},transferList:[E]};return this._ajsWorker.sendMessageToWorker(O)}isFileQualifiedForLiquidMode(s,f){let{disqualificationMethod:_=et.NORMAL,detectBarcodesCallback:P}=s;const y={command:se,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:f,params:{disqualificationMethod:_,detectBarcodesCallback:P}};return this._ajsWorker.sendMessageToWorker(y)}translateToLiquidModeView(s,f){let{fetchCNFTPDFUpdatesCallback:_,convertType1Fonts:P=!0}=s;const y={command:ae,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:f,params:{convertType1Fonts:P}};return this._ajsWorker.getFTPDFWebViewHTMLStream(y,_)}getLiquidModeViewResource(s){let{resourceID:f,resourceURL:_}=s;const P={command:oe,params:{resourceID:f,resourceURL:_}};return this._ajsWorker.getLiquidModeViewResource(P)}getHtmlLocationForDocPoint(s,f){let{page:_,x:P,y}=s;const S={command:le,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:f,params:{page:_,x:P,y}};return this._ajsWorker.sendMessageToWorker(S)}getDocPointForHtmlLocation(s,f){let{elementID:_,offset:P}=s;const y={command:ue,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:f,params:{elementID:_,offset:P}};return this._ajsWorker.sendMessageToWorker(y)}convertToViewSpace(s){let{pageNum:f,x:_,y:P,scale:y=1}=s;if(!this._pageMatrices||0===this._pageMatrices.length)return;const S=this._pageMatrices[f-1]?this._pageMatrices[f-1]:this._pageMatrices[0];let E=S.a*_+S.c*P+S.e,O=S.b*_+S.d*P+S.f;return E=Math.round(E*y),O=Math.round(O*y),{x:E,y:O}}convertToPDFSpace(s){let{pageNum:f,x:_,y:P,scale:y=1}=s;if(!this._pageMatrices||0===this._pageMatrices.length)return;const S=this._pageMatrices[f-1]?this._pageMatrices[f-1]:this._pageMatrices[0],E=_/y,O=P/y,M=S.a*S.d-S.b*S.c;return{x:(S.d*E-S.c*O+S.c*S.f-S.d*S.e)/M,y:(S.a*O-S.b*E+S.b*S.e-S.a*S.f)/M}}clearMessageQueue(s){let{evtName:f}=s,_=function lr(s,f){if(null==s)return{};var _,P,y=function(s,f){if(null==s)return{};var _,P,y={},S=Object.keys(s);for(P=0;P<S.length;P++)_=S[P],f.indexOf(_)>=0||(y[_]=s[_]);return y}(s,f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(s);for(P=0;P<S.length;P++)_=S[P],f.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(s,_)&&(y[_]=s[_])}return y}(s,["evtName"]);if(!Object.values(Ye).includes(f))return Promise.reject();const P={command:"clearMessageQueue",params:dr({evtName:f},_)};return this._ajsWorker.sendMessageToWorker(P)}createLinkAnnot(s,f){let{pageNum:_,data:P}=s;const y={command:"createLinkAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,data:P}};return this._ajsWorker.sendMessageToWorker(y)}editLinkAnnot(s,f){let{pageNum:_,id:P,data:y}=s;const S={command:he,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P,data:y}};return this._ajsWorker.sendMessageToWorker(S)}editLinkAnnots(s){let{links:f}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("editLinkAnnots",f,he,_)}deleteLinkAnnot(s,f){let{pageNum:_,id:P}=s;const y={command:pe,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,id:P}};return this._ajsWorker.sendMessageToWorker(y)}deleteLinkAnnots(s){let{links:f}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("deleteLinkAnnots",f,pe,_)}_isValidArrayBuffer(s){return s&&"object"==typeof s&&s instanceof ArrayBuffer}getLinkAnnots(s,f){let{pageNum:_,includeActions:P=!0,includeSignData:y=!1}=s;const S={command:"getLinkAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:f,params:{pageNum:_,includeActions:P,includeSignData:y}};return this._ajsWorker.sendMessageToWorker(S)}detectLanguage(s,f){let{text:_="",useDocAsFallback:P=!0}=s;const y={command:"detectLanguage",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,viewState:f,params:{text:_,useDocAsFallback:P}};return this._ajsWorker.sendMessageToWorker(y)}removeOffScreenCanvas(s){let{canvasId:f}=s;const _={command:"removeOffScreenCanvas",params:{canvasId:f}};return this._canvasMap.delete(f),this._ajsWorker.sendMessageToWorker(_)}_prepareTransformationMatrices(s){s.data&&s.data.pages&&(this._pageMatrices=[],s.data.pages.forEach((s=>{const[f,_,P,y]=s.boxes.cropBox;let S;switch(s.rotation){case 270:S={a:0,b:-1,c:-1,d:0,e:y,f:P};break;case 180:S={a:-1,b:0,c:0,d:1,e:P,f:-_};break;case 90:S={a:0,b:1,c:1,d:0,e:-_,f:-f};break;default:S={a:1,b:0,c:0,d:-1,e:-f,f:y}}this._pageMatrices.push(S)})))}}Object.defineProperty(pr,"PageRequestType",{value:ye,writable:!1}),Object.defineProperty(pr,"AnnotType",{value:Te,writable:!1}),Object.defineProperty(pr,"Permissions",{value:Ce,writable:!1}),Object.defineProperty(pr,"ContentType",{value:Fe,writable:!1}),Object.defineProperty(pr,"KeyboardNavigationDirection",{value:Qe,writable:!1}),Object.defineProperty(pr,"KeyboardNavigationShortcut",{value:Ze,writable:!1});var tt=pr;class mr{fetchPassword(){throw Error("method not overriden")}}class vr{name(){throw Error("Method not overridden!")}validate(s){throw Error("Method not overridden!")}}}])},uY7Q:(s,f,_)=>{s=_.nmd(s);var P="__lodash_hash_undefined__",y=9007199254740991,S="[object Arguments]",E="[object AsyncFunction]",O="[object Function]",M="[object GeneratorFunction]",q="[object Null]",ee="[object Object]",te="[object Proxy]",re="[object Undefined]",ne=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se[S]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se[O]=se["[object Map]"]=se["[object Number]"]=se[ee]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var ae="object"==typeof _.g&&_.g&&_.g.Object===Object&&_.g,oe="object"==typeof self&&self&&self.Object===Object&&self,ce=ae||oe||Function("return this")(),le=f&&!f.nodeType&&f,ue=le&&s&&!s.nodeType&&s,de=ue&&ue.exports===le,he=de&&ae.process,pe=function(){try{var s=ue&&ue.require&&ue.require("util").types;return s||he&&he.binding&&he.binding("util")}catch(s){}}(),fe=pe&&pe.isTypedArray;var ge,me=Array.prototype,ve=Function.prototype,we=Object.prototype,be=ce["__core-js_shared__"],ye=ve.toString,Te=we.hasOwnProperty,Ce=(ge=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||""))?"Symbol(src)_1."+ge:"",Fe=we.toString,Ne=ye.call(Object),Ue=RegExp("^"+ye.call(Te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=de?ce.Buffer:void 0,ze=ce.Symbol,qe=ce.Uint8Array,He=Be?Be.allocUnsafe:void 0,Ge=function overArg(s,f){return function(_){return s(f(_))}}(Object.getPrototypeOf,Object),Je=Object.create,Ve=we.propertyIsEnumerable,$e=me.splice,Ke=ze?ze.toStringTag:void 0,Xe=function(){try{var s=getNative(Object,"defineProperty");return s({},"",{}),s}catch(s){}}(),Ye=Be?Be.isBuffer:void 0,Qe=Math.max,Ze=Date.now,et=getNative(ce,"Map"),tt=getNative(Object,"create"),rt=function(){function object(){}return function(s){if(!isObject(s))return{};if(Je)return Je(s);object.prototype=s;var f=new object;return object.prototype=void 0,f}}();function Hash(s){var f=-1,_=null==s?0:s.length;for(this.clear();++f<_;){var P=s[f];this.set(P[0],P[1])}}function ListCache(s){var f=-1,_=null==s?0:s.length;for(this.clear();++f<_;){var P=s[f];this.set(P[0],P[1])}}function MapCache(s){var f=-1,_=null==s?0:s.length;for(this.clear();++f<_;){var P=s[f];this.set(P[0],P[1])}}function Stack(s){var f=this.__data__=new ListCache(s);this.size=f.size}function arrayLikeKeys(s,f){var _=ot(s),P=!_&&at(s),y=!_&&!P&&ct(s),S=!_&&!P&&!y&&dt(s),E=_||P||y||S,O=E?function baseTimes(s,f){for(var _=-1,P=Array(s);++_<s;)P[_]=f(_);return P}(s.length,String):[],M=O.length;for(var q in s)!f&&!Te.call(s,q)||E&&("length"==q||y&&("offset"==q||"parent"==q)||S&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||isIndex(q,M))||O.push(q);return O}function assignMergeValue(s,f,_){(void 0!==_&&!eq(s[f],_)||void 0===_&&!(f in s))&&baseAssignValue(s,f,_)}function assignValue(s,f,_){var P=s[f];Te.call(s,f)&&eq(P,_)&&(void 0!==_||f in s)||baseAssignValue(s,f,_)}function assocIndexOf(s,f){for(var _=s.length;_--;)if(eq(s[_][0],f))return _;return-1}function baseAssignValue(s,f,_){"__proto__"==f&&Xe?Xe(s,f,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[f]=_}Hash.prototype.clear=function hashClear(){this.__data__=tt?tt(null):{},this.size=0},Hash.prototype.delete=function hashDelete(s){var f=this.has(s)&&delete this.__data__[s];return this.size-=f?1:0,f},Hash.prototype.get=function hashGet(s){var f=this.__data__;if(tt){var _=f[s];return _===P?void 0:_}return Te.call(f,s)?f[s]:void 0},Hash.prototype.has=function hashHas(s){var f=this.__data__;return tt?void 0!==f[s]:Te.call(f,s)},Hash.prototype.set=function hashSet(s,f){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=tt&&void 0===f?P:f,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(s){var f=this.__data__,_=assocIndexOf(f,s);return!(_<0)&&(_==f.length-1?f.pop():$e.call(f,_,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(s){var f=this.__data__,_=assocIndexOf(f,s);return _<0?void 0:f[_][1]},ListCache.prototype.has=function listCacheHas(s){return assocIndexOf(this.__data__,s)>-1},ListCache.prototype.set=function listCacheSet(s,f){var _=this.__data__,P=assocIndexOf(_,s);return P<0?(++this.size,_.push([s,f])):_[P][1]=f,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(et||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(s){var f=getMapData(this,s).delete(s);return this.size-=f?1:0,f},MapCache.prototype.get=function mapCacheGet(s){return getMapData(this,s).get(s)},MapCache.prototype.has=function mapCacheHas(s){return getMapData(this,s).has(s)},MapCache.prototype.set=function mapCacheSet(s,f){var _=getMapData(this,s),P=_.size;return _.set(s,f),this.size+=_.size==P?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(s){var f=this.__data__,_=f.delete(s);return this.size=f.size,_},Stack.prototype.get=function stackGet(s){return this.__data__.get(s)},Stack.prototype.has=function stackHas(s){return this.__data__.has(s)},Stack.prototype.set=function stackSet(s,f){var _=this.__data__;if(_ instanceof ListCache){var P=_.__data__;if(!et||P.length<199)return P.push([s,f]),this.size=++_.size,this;_=this.__data__=new MapCache(P)}return _.set(s,f),this.size=_.size,this};var nt=function createBaseFor(s){return function(f,_,P){for(var y=-1,S=Object(f),E=P(f),O=E.length;O--;){var M=E[s?O:++y];if(!1===_(S[M],M,S))break}return f}}();function baseGetTag(s){return null==s?void 0===s?re:q:Ke&&Ke in Object(s)?function getRawTag(s){var f=Te.call(s,Ke),_=s[Ke];try{s[Ke]=void 0;var P=!0}catch(s){}var y=Fe.call(s);P&&(f?s[Ke]=_:delete s[Ke]);return y}(s):function objectToString(s){return Fe.call(s)}(s)}function baseIsArguments(s){return isObjectLike(s)&&baseGetTag(s)==S}function baseIsNative(s){return!(!isObject(s)||function isMasked(s){return!!Ce&&Ce in s}(s))&&(isFunction(s)?Ue:ne).test(function toSource(s){if(null!=s){try{return ye.call(s)}catch(s){}try{return s+""}catch(s){}}return""}(s))}function baseKeysIn(s){if(!isObject(s))return function nativeKeysIn(s){var f=[];if(null!=s)for(var _ in Object(s))f.push(_);return f}(s);var f=isPrototype(s),_=[];for(var P in s)("constructor"!=P||!f&&Te.call(s,P))&&_.push(P);return _}function baseMerge(s,f,_,P,y){s!==f&&nt(f,(function(S,E){if(y||(y=new Stack),isObject(S))!function baseMergeDeep(s,f,_,P,y,S,E){var O=safeGet(s,_),M=safeGet(f,_),q=E.get(M);if(q)return void assignMergeValue(s,_,q);var te=S?S(O,M,_+"",s,f,E):void 0,re=void 0===te;if(re){var ne=ot(M),ie=!ne&&ct(M),se=!ne&&!ie&&dt(M);te=M,ne||ie||se?ot(O)?te=O:!function isArrayLikeObject(s){return isObjectLike(s)&&isArrayLike(s)}(O)?ie?(re=!1,te=function cloneBuffer(s,f){if(f)return s.slice();var _=s.length,P=He?He(_):new s.constructor(_);return s.copy(P),P}(M,!0)):se?(re=!1,te=function cloneTypedArray(s,f){var _=f?function cloneArrayBuffer(s){var f=new s.constructor(s.byteLength);return new qe(f).set(new qe(s)),f}(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}(M,!0)):te=[]:te=function copyArray(s,f){var _=-1,P=s.length;f||(f=Array(P));for(;++_<P;)f[_]=s[_];return f}(O):function isPlainObject(s){if(!isObjectLike(s)||baseGetTag(s)!=ee)return!1;var f=Ge(s);if(null===f)return!0;var _=Te.call(f,"constructor")&&f.constructor;return"function"==typeof _&&_ instanceof _&&ye.call(_)==Ne}(M)||at(M)?(te=O,at(O)?te=function toPlainObject(s){return function copyObject(s,f,_,P){var y=!_;_||(_={});var S=-1,E=f.length;for(;++S<E;){var O=f[S],M=P?P(_[O],s[O],O,_,s):void 0;void 0===M&&(M=s[O]),y?baseAssignValue(_,O,M):assignValue(_,O,M)}return _}(s,keysIn(s))}(O):isObject(O)&&!isFunction(O)||(te=function initCloneObject(s){return"function"!=typeof s.constructor||isPrototype(s)?{}:rt(Ge(s))}(M))):re=!1}re&&(E.set(M,te),y(te,M,P,S,E),E.delete(M));assignMergeValue(s,_,te)}(s,f,E,_,baseMerge,P,y);else{var O=P?P(safeGet(s,E),S,E+"",s,f,y):void 0;void 0===O&&(O=S),assignMergeValue(s,E,O)}}),keysIn)}function baseRest(s,f){return st(function overRest(s,f,_){return f=Qe(void 0===f?s.length-1:f,0),function(){for(var P=arguments,y=-1,S=Qe(P.length-f,0),E=Array(S);++y<S;)E[y]=P[f+y];y=-1;for(var O=Array(f+1);++y<f;)O[y]=P[y];return O[f]=_(E),function apply(s,f,_){switch(_.length){case 0:return s.call(f);case 1:return s.call(f,_[0]);case 2:return s.call(f,_[0],_[1]);case 3:return s.call(f,_[0],_[1],_[2])}return s.apply(f,_)}(s,this,O)}}(s,f,identity),s+"")}function getMapData(s,f){var _=s.__data__;return function isKeyable(s){var f=typeof s;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==s:null===s}(f)?_["string"==typeof f?"string":"hash"]:_.map}function getNative(s,f){var _=function getValue(s,f){return null==s?void 0:s[f]}(s,f);return baseIsNative(_)?_:void 0}function isIndex(s,f){var _=typeof s;return!!(f=null==f?y:f)&&("number"==_||"symbol"!=_&&ie.test(s))&&s>-1&&s%1==0&&s<f}function isPrototype(s){var f=s&&s.constructor;return s===("function"==typeof f&&f.prototype||we)}function safeGet(s,f){if(("constructor"!==f||"function"!=typeof s[f])&&"__proto__"!=f)return s[f]}var st=function shortOut(s){var f=0,_=0;return function(){var P=Ze(),y=16-(P-_);if(_=P,y>0){if(++f>=800)return arguments[0]}else f=0;return s.apply(void 0,arguments)}}(Xe?function(s,f){return Xe(s,"toString",{configurable:!0,enumerable:!1,value:(_=f,function(){return _}),writable:!0});var _}:identity);function eq(s,f){return s===f||s!=s&&f!=f}var at=baseIsArguments(function(){return arguments}())?baseIsArguments:function(s){return isObjectLike(s)&&Te.call(s,"callee")&&!Ve.call(s,"callee")},ot=Array.isArray;function isArrayLike(s){return null!=s&&isLength(s.length)&&!isFunction(s)}var ct=Ye||function stubFalse(){return!1};function isFunction(s){if(!isObject(s))return!1;var f=baseGetTag(s);return f==O||f==M||f==E||f==te}function isLength(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=y}function isObject(s){var f=typeof s;return null!=s&&("object"==f||"function"==f)}function isObjectLike(s){return null!=s&&"object"==typeof s}var dt=fe?function baseUnary(s){return function(f){return s(f)}}(fe):function baseIsTypedArray(s){return isObjectLike(s)&&isLength(s.length)&&!!se[baseGetTag(s)]};function keysIn(s){return isArrayLike(s)?arrayLikeKeys(s,!0):baseKeysIn(s)}var ht=function createAssigner(s){return baseRest((function(f,_){var P=-1,y=_.length,S=y>1?_[y-1]:void 0,E=y>2?_[2]:void 0;for(S=s.length>3&&"function"==typeof S?(y--,S):void 0,E&&function isIterateeCall(s,f,_){if(!isObject(_))return!1;var P=typeof f;if("number"==P?isArrayLike(_)&&isIndex(f,_.length):"string"==P&&f in _)return eq(_[f],s);return!1}(_[0],_[1],E)&&(S=y<3?void 0:S,y=1),f=Object(f);++P<y;){var O=_[P];O&&s(f,O,P,S)}return f}))}((function(s,f,_){baseMerge(s,f,_)}));function identity(s){return s}s.exports=ht},"0VNB":(s,f,_)=>{var P=_("5qvf"),y=_("bF6B"),S=y;S.v1=P,S.v4=y,s.exports=S},"2a4/":s=>{for(var f=[],_=0;_<256;++_)f[_]=(_+256).toString(16).substr(1);s.exports=function bytesToUuid(s,_){var P=_||0,y=f;return[y[s[P++]],y[s[P++]],y[s[P++]],y[s[P++]],"-",y[s[P++]],y[s[P++]],"-",y[s[P++]],y[s[P++]],"-",y[s[P++]],y[s[P++]],"-",y[s[P++]],y[s[P++]],y[s[P++]],y[s[P++]],y[s[P++]],y[s[P++]]].join("")}},JTTR:s=>{var f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(f){var _=new Uint8Array(16);s.exports=function whatwgRNG(){return f(_),_}}else{var P=new Array(16);s.exports=function mathRNG(){for(var s,f=0;f<16;f++)0==(3&f)&&(s=4294967296*Math.random()),P[f]=s>>>((3&f)<<3)&255;return P}}},"5qvf":(s,f,_)=>{var P,y,S=_("JTTR"),E=_("2a4/"),O=0,M=0;s.exports=function v1(s,f,_){var q=f&&_||0,ee=f||[],te=(s=s||{}).node||P,re=void 0!==s.clockseq?s.clockseq:y;if(null==te||null==re){var ne=S();null==te&&(te=P=[1|ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]]),null==re&&(re=y=16383&(ne[6]<<8|ne[7]))}var ie=void 0!==s.msecs?s.msecs:(new Date).getTime(),se=void 0!==s.nsecs?s.nsecs:M+1,ae=ie-O+(se-M)/1e4;if(ae<0&&void 0===s.clockseq&&(re=re+1&16383),(ae<0||ie>O)&&void 0===s.nsecs&&(se=0),se>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");O=ie,M=se,y=re;var oe=(1e4*(268435455&(ie+=122192928e5))+se)%4294967296;ee[q++]=oe>>>24&255,ee[q++]=oe>>>16&255,ee[q++]=oe>>>8&255,ee[q++]=255&oe;var ce=ie/4294967296*1e4&268435455;ee[q++]=ce>>>8&255,ee[q++]=255&ce,ee[q++]=ce>>>24&15|16,ee[q++]=ce>>>16&255,ee[q++]=re>>>8|128,ee[q++]=255&re;for(var le=0;le<6;++le)ee[q+le]=te[le];return f||E(ee)}},bF6B:(s,f,_)=>{var P=_("JTTR"),y=_("2a4/");s.exports=function v4(s,f,_){var S=f&&_||0;"string"==typeof s&&(f="binary"===s?new Array(16):null,s=null);var E=(s=s||{}).random||(s.rng||P)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,f)for(var O=0;O<16;++O)f[S+O]=E[O];return f||y(E)}},Kq49:(s,f,_)=>{"use strict";_.d(f,{Z:()=>AcrobatJSInstanceHandler});var P=_("0VNB"),y=_.n(P),S=_("sR8A"),E=_("plsW"),O=_("ibkQ"),M=_("RbXz");class DoublyLinkedNode{constructor(s){this._value=s,this._previousNode=null,this._nextNode=null}get value(){return this._value}get previousNode(){return this._previousNode}set previousNode(s){this._previousNode=s}get nextNode(){return this._nextNode}set nextNode(s){this._nextNode=s}unlink(){this._previousNode=null,this._nextNode=null}}class DoublyLinkedList{constructor(){this._headNode=null,this._tailNode=null,this._countNodes=0}get headNode(){return this._headNode}get tailNode(){return this._tailNode}nodeCount(){return this._countNodes}append(s){s instanceof DoublyLinkedNode&&(0===this._countNodes?(this._headNode=s,this._tailNode=s):(this._tailNode.nextNode=s,s.previousNode=this._tailNode,this._tailNode=s),this._countNodes+=1)}moveToFront(s){s instanceof DoublyLinkedNode&&this._headNode!==s&&this.remove(s)&&(s.nextNode=this._headNode,this._headNode.previousNode=s,this._headNode=s,this._countNodes+=1)}remove(s){if(!(s instanceof DoublyLinkedNode))return null;if(1===this._countNodes&&this._headNode===s)this._tailNode=null,this._headNode=null;else if(s===this._headNode)this._headNode=this._headNode.nextNode,this._headNode.previousNode=null;else if(s===this._tailNode)this._tailNode=this._tailNode.previousNode,this._tailNode.nextNode=null;else{if(!s.nextNode||!s.previousNode)return null;s.previousNode.nextNode=s.nextNode,s.nextNode.previousNode=s.previousNode}return s.unlink(),this._countNodes-=1,s}front(){return this.isEmpty()?null:this.remove(this._headNode)}isEmpty(){return null===this._headNode}}class AwaitQueue{constructor(){this.addResourceRequest=()=>new Promise((s=>{this._awaitQueue.append(new DoublyLinkedNode((()=>{s()})))})),this.hasPendingRequest=()=>!this._awaitQueue.isEmpty(),this.executeRequest=()=>{if(this.hasPendingRequest()){(0,this._awaitQueue.front().value)()}},this._awaitQueue=new DoublyLinkedList}}var q=_("6Wbc"),ee=_("o2TZ");class AcrobatJSInstanceNode{constructor(s){this._state=q.zI.ACTIVE,this._ajsInstance=s,this._ajsInstanceParameters=null,this._editPluginLoaded=!1}get ajsInstance(){return this._ajsInstance}get state(){return this._state}set state(s){this._state=s}get ajsInstanceParameters(){return this._ajsInstanceParameters}set ajsInstanceParameters(s){this._ajsInstanceParameters=s}get editPluginLoaded(){return this._editPluginLoaded}set editPluginLoaded(s){this._editPluginLoaded=s}deactivate(){this._state!==q.zI.CACHED&&(this._ajsInstance.terminate(),this._ajsInstance=null,this._state=q.zI.CACHED)}terminate(){this._ajsInstanceParameters=null,this.deactivate()}}class AcrobatJSInstanceHandler{constructor(s){this.has=s=>this._activeNodeMap.has(s)||this._inactiveNodeMap.has(s),this.activeAcrobatJSInstanceCount=()=>this._activeNodeMap.size,this.isFull=()=>this.activeAcrobatJSInstanceCount()>=this._maxActiveAJSinstanceLimit,this.checkInstanceState=(s,f)=>{if(this.has(s)){return this._getAcrobatJSInstanceNode(s).state===f}return!1},this._getAcrobatJSInstanceNode=s=>this.has(s)?this._activeNodeMap.get(s)||this._inactiveNodeMap.get(s):null,this.getAcrobatJSInstance=s=>{if(this._activeNodeMap.has(s)){const f=this._getAcrobatJSInstanceNode(s);return f.state=q.zI.ACTIVE,f.ajsInstance}return null},this.getAcrobatJSInstanceParameters=s=>{var f;return null===(f=this._getAcrobatJSInstanceNode(s))||void 0===f?void 0:f.ajsInstanceParameters},this._add=(s,f)=>{this.checkInstanceState(s,q.zI.CACHED)&&this.erase(s),this._activeNodeMap.set(s,new AcrobatJSInstanceNode(f)),this._activeNodeMap.size>this._maxActiveAJSinstanceLimit&&(0,O.Kz)("Active AcrobatJS instance count exceeds limit")},this.setOpenPDFParameters=(s,f)=>{if(this.has(s)){const _=this._getAcrobatJSInstanceNode(s);_.ajsInstanceParameters={..._.ajsInstanceParameters,openPdfParams:f}}},this._evictAjsInstance=s=>{if(this._getAcrobatJSInstanceNode(s).editPluginLoaded||this.checkInstanceState(s,q.zI.CACHED))return!1;const f=this._getAcrobatJSInstanceNode(s);return this._inactiveNodeMap.set(s,f),this._activeNodeMap.delete(s),f.deactivate(),!0},this.erase=s=>{const f=this._getAcrobatJSInstanceNode(s);f&&(this.checkInstanceState(s,q.zI.CACHED)?this._inactiveNodeMap.delete(s):this._activeNodeMap.delete(s),f.terminate()),this.isFull()||this._workerAwaitQueue.executeRequest(),this._activeNodeMap.size||this._inactiveNodeMap.size||((0,O.Kz)("AcrobatJS provider usage stats",{filesOpened:this._filesOpened,instancesCreated:this._instancesCreated}),this._filesOpened=0,this._instancesCreated=0)},this._enableAJSLogging=s.enableAJSLogging,this._useAJSFullBuild=s.useAJSFullBuild,this._exposedAPIs=s.exposedAPIs,this._activeNodeMap=new Map,this._inactiveNodeMap=new Map,this._workerAwaitQueue=new AwaitQueue,this._filesOpened=0,this._instancesCreated=0,this._maxActiveAJSinstanceLimit=s.maxActiveAJSinstanceLimit||q.U_}setEditPluginLoaded(s,f){this.has(s)&&(this._getAcrobatJSInstanceNode(s).editPluginLoaded=f)}_onAjsEventForProvider(s,f){if("workerIdle"===f){if(this._getAcrobatJSInstanceNode(s).editPluginLoaded)return;this._getAcrobatJSInstanceNode(s).state=q.zI.IDLE,this._workerAwaitQueue.hasPendingRequest()&&this._evictAjsInstance(s)&&this._workerAwaitQueue.executeRequest()}}_ajsInit(s,f,_){var P=this;return s.subscribe((function(){for(var s=arguments.length,_=new Array(s),y=0;y<s;y++)_[y]=arguments[y];return P._onAjsEventForProvider(f,..._)})),_&&s.subscribe(_),s.init()}_tryEvictingAnIdleInstance(){return Array.from(this._activeNodeMap).some((s=>{let[f,_]=s;return!(_.state!==q.zI.IDLE||!this._evictAjsInstance(f))}))}_getAcrobatJSWorker(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={ajsPath:(0,M.lO)(),apiTrackingInfo:{enabled:!0,trackList:this._exposedAPIs},enableLogging:this._enableAJSLogging,useFullBuild:this._useAJSFullBuild,hostEnv:E.envUtil.getHostEnv(),enableWasmExceptions:(0,ee.AJ)(),...s};return f.enableWasmExceptions&&void 0===f.splitWasm&&(f.splitWasm=(0,ee.gV)()),new S.AcrobatJS({...f})}async createAcrobatJSInstance(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;this.isFull()&&!this._tryEvictingAnIdleInstance()&&(s.forceEvict?Array.from(this._activeNodeMap).some((s=>{let[f]=s;return this._evictAjsInstance(f)})):await this._workerAwaitQueue.addResourceRequest());const{openPdfParams:_,ajsInstanceParams:P}=s,S=f||y().v4(),E=this._getAcrobatJSWorker(s.ajsConfig);if(this._add(S,E),this._instancesCreated+=1,!f){this._filesOpened+=1;this._getAcrobatJSInstanceNode(S).ajsInstanceParameters={openPdfParams:_,ajsInstanceParams:P}}const M=performance.now();return this._ajsInit(E,S,s.onAjsEvent).then((()=>((0,O.Kz)("AcrobatJS instance created",{instanceInitTime:performance.now()-M}),S))).catch((s=>((0,O.Kz)("AcrobatJS instance init error: ",s),this.erase(S),Promise.reject(s))))}}},"6Wbc":(s,f,_)=>{"use strict";_.d(f,{IH:()=>E,Mq:()=>S,Sg:()=>M,U_:()=>P,n5:()=>q,vV:()=>O,zI:()=>y});const P=5,y=Object.freeze({CACHED:0,ACTIVE:1,IDLE:2}),S=new Set([]),E=new Set(["organizeWillBegin","insertPages","insertBlankPage","deletePages","reorderPages","rotatePages","extractPages","organizeDidEnd"]),O=new Set(["isScannedDocument","detectLanguage","getAnnots","extractPageText","detectSignFields"]),M=Object.freeze({INVALID_INTENT:"Intent Is Invalid",FETCH_TOKEN_FAILURE:"Fetch Token Failure",UNKNOWN_ERROR:"Unknown Error"}),q=10},ibkQ:(s,f,_)=>{"use strict";_.d(f,{Ev:()=>setDocumentId,Kz:()=>logEvent,Qf:()=>addFieldsToCommonLogging});const P=_("plsW").logging.getLogger("dc-rendition-provider");let y=!1;const S=document.querySelectorAll("meta[name^=adobe_external]");S&&(y=!S[0]||!S[0].content);let E="",O={sessionId:window.dcWebSessionId,userAgent:navigator.userAgent,isAdobeNetworkUser:y};function setDocumentId(s){E=s}function addFieldsToCommonLogging(s){O={...O,...s}}const logEvent=(s,f)=>{P.emit(s,{...f,...O,docSessionId:window.docSessionId,documentId:E})}},RbXz:(s,f,_)=>{"use strict";_.d(f,{ZQ:()=>getScriptSrc,ir:()=>getOriginFromUrl,lO:()=>getAjsPath});var P=_("zSZc");const getOriginFromUrl=s=>{const f=document.createElement("a");return f.href=s,`${f.protocol}//${f.hostname}${f.port?`:${f.port}`:""}`},getScriptSrc=s=>{let f;return[...document.scripts].forEach((_=>{const P=_.src;return-1===P.indexOf(s)||(f=P,!1)})),f},getAjsPath=()=>{const s=getScriptSrc(P.Xy);return s?`${s.replace(P.Xy,"")}AJS/`:""}},zSZc:(s,f,_)=>{"use strict";_.d(f,{$j:()=>ce,$l:()=>ue,Bq:()=>te,D$:()=>oe,GN:()=>S,H3:()=>le,Ho:()=>O,KY:()=>q,Lo:()=>de,VL:()=>y,W1:()=>ne,Wb:()=>M,Xq:()=>fe,Xy:()=>P,_U:()=>re,aK:()=>we,aY:()=>ie,bC:()=>ve,dA:()=>ge,hj:()=>ae,iO:()=>E,im:()=>he,rg:()=>se,u3:()=>pe,yq:()=>me,z1:()=>ee});const P="rendition.js",y="/review",S="/parcel",E="/external",O="/sign",M="/pdfnow",q=["/onedrive","/sharepoint","/gdrive"],ee=Object.freeze({"/onedrive":"OneDrive","/sharepoint":"SharePoint","/gdrive":"GDrive"}),te=10,re=5,ne=30,ie=10,se=1e3,ae=1500,oe=500,ce=Object.freeze({S3:"S3",DCAPI:"DCAPI",NONE:"NONE"}),le=1,ue=Object.freeze({PDF_DOWNLOAD_URI_START:"pdfDownloadUriStartTime",PDF_DOWNLOAD_URI_END:"pdfDownloadUriEndTime",PDF_DOWNLOAD_START:"pdfDownloadStartTime",PDF_DOWNLOAD_END:"pdfDownloadEndTime",DCAPI_INIT:"dcapiInit",DCAPI_LOADED:"dcapiLoaded"}),de=Object.freeze({AdobeSignValidator:"AdobeSignCertificateValidator",ExternalValidator:"ExternalCertificateValidator"}),he=Object.freeze({valid:"VALID",invalid:"INVALID",unknown:"UNKNOWN"}),pe=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),fe=Object.freeze({AATL:"AATL",EUTL:"EUTL",OS:"OS"}),ge=Object.freeze({tooManyRequests:"TooManyRequests",gatewayTimeout:"GatewayTimeout",internalServerError:"InternalServerError",apiTimeoutError:"APITimeoutError",unknownError:"UnknownError"}),me="defaultAJSInstance",ve=10,we="anonymous_user"},GNuk:(s,f,_)=>{"use strict";_.d(f,{v:()=>getQueryParams});const getQueryParams=s=>{const f={};let _,P;const y=(s||window.location.search).substr(1).split("&");if(""!==y)for(_=0;_<y.length;_+=1)P=y[_].split("="),2===P.length&&(f[P[0]]=decodeURIComponent(P[1].replace(/\+/g," ")));return f}},"6mnL":(s,f,_)=>{"use strict";_.d(f,{Z:()=>SecurityHandler});var P=_("sR8A");class SecurityHandler extends P.AcrobatJSSecurityHandler{constructor(s){super(),s.fetchPasswordCallback&&(this.fetchPassword=s.fetchPasswordCallback)}}},GTUu:(s,f,_)=>{"use strict";_.d(f,{Xh:()=>cloneDeep,Xm:()=>canDoOrganize,gw:()=>delay,vz:()=>getVariablesFromQueryParams,xN:()=>preloadAsset});var P=_("6Wbc");const cloneDeep=s=>JSON.parse(JSON.stringify(s)),delay=async s=>new Promise((f=>setTimeout(f,s))),getVariablesFromQueryParams=s=>{const f={useDCAPI:{transform:s=>"false"!==s},enableAJSLogging:{transform:s=>"true"===s},useAJSFullBuild:{transform:s=>"true"===s},useProgressiveRendering:{transform:s=>"true"===s},ajsExceptionSupport:{transform:s=>s},ajsSplitWasm:{transform:s=>"true"===s}},_={};return Object.keys(f).forEach((P=>{P in s&&(_[P]=f[P].transform(s[P]))})),_},canDoOrganize=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={isSupported:!0,reason:{}},{isXFA:_,isPortfolio:y,isEncrypted:S,permissions:E,hasDigitalSignatures:O,hasAcroFormDict:M,hasSignMetadata:q,hasAcroFormFields:ee}=s;if(_||y||S||O||M){const s=1===((s,f)=>s>>>f&1)(E,P.n5);f.isSupported=!1,_&&(f.reason.isXFA=!0),y&&(f.reason.isPortfolio=!0),S&&(f.reason.isEncrypted=!0,f.reason.isDocumentAssemblyAllowed=s),O&&(f.reason.hasDigitalSignatures=!0,f.reason.isDocumentAssemblyAllowed=s),M&&(f.reason.hasAcroFormDict=!0),q&&(f.reason.hasSignMetadata=!0),ee&&(f.reason.hasAcroFormFields=!0)}return f},preloadAsset=function(s){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";if(document.head.querySelector(`link[href="${s}"][rel="preload"]`))return;const _=document.createElement("link");_.href=s,_.as=f,_.rel="preload",document.head.appendChild(_)}},o2TZ:(s,f,_)=>{"use strict";_.d(f,{$n:()=>preloadSecondaryWasm,AJ:()=>shouldEnableWasmExceptions,gV:()=>shouldLoadSplitWasm});var P=_("GNuk"),y=_("GTUu"),S=_("RbXz"),E=_("ibkQ");const shouldEnableWasmExceptions=()=>{const s=(0,P.v)(),f=(0,y.vz)(s);let _=!0;return WebAssembly&&WebAssembly.Exception?f.ajsExceptionSupport&&(_="wasm"===f.ajsExceptionSupport):_=!1,(0,E.Qf)({enableWasmExceptions:_}),_},shouldLoadSplitWasm=()=>{const s=(0,P.v)(),f=(0,y.vz)(s);let _=!1;if(void 0!==f.ajsSplitWasm)_=f.ajsSplitWasm;else{const s="adobe_external",f=document.querySelectorAll(`meta[name^=${s}]`);let P=!1;f&&f[0]&&(P=!f[0].content),_=P}return(0,E.Qf)({splitWasm:_}),_},preloadSecondaryWasm=()=>{const s=`${(0,S.lO)()}build/wasm_acrobat_we_sp.deferred.wasm`;(0,y.xN)(s,"fetch")}},sdTo:(s,f,_)=>{s.exports=_("2pFd")("WOwn")},"4PKp":(s,f,_)=>{s.exports=_("2pFd")("bfRH")},plsW:(s,f,_)=>{s.exports=_("2pFd")("o4sN")},"2pFd":s=>{"use strict";s.exports=window.adobe_dc_sdk["dc-core"]}},P={};function __webpack_require__(s){var f=P[s];if(void 0!==f)return f.exports;var y=P[s]={id:s,loaded:!1,exports:{}};return _[s](y,y.exports,__webpack_require__),y.loaded=!0,y.exports}__webpack_require__.m=_,__webpack_require__.n=s=>{var f=s&&s.__esModule?()=>s.default:()=>s;return __webpack_require__.d(f,{a:f}),f},__webpack_require__.d=(s,f)=>{for(var _ in f)__webpack_require__.o(f,_)&&!__webpack_require__.o(s,_)&&Object.defineProperty(s,_,{enumerable:!0,get:f[_]})},__webpack_require__.f={},__webpack_require__.e=s=>Promise.all(Object.keys(__webpack_require__.f).reduce(((f,_)=>(__webpack_require__.f[_](s,f),f)),[])),__webpack_require__.u=s=>({90:"ajsProvider",611:"fontHelper"}[s]+"-chunk.js"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),__webpack_require__.o=(s,f)=>Object.prototype.hasOwnProperty.call(s,f),s={},f="adobe_dc_sdk.components.rendition:",__webpack_require__.l=(_,P,y,S)=>{if(s[_])s[_].push(P);else{var E,O;if(void 0!==y)for(var M=document.getElementsByTagName("script"),q=0;q<M.length;q++){var ee=M[q];if(ee.getAttribute("src")==_||ee.getAttribute("data-webpack")==f+y){E=ee;break}}E||(O=!0,(E=document.createElement("script")).charset="utf-8",E.timeout=120,__webpack_require__.nc&&E.setAttribute("nonce",__webpack_require__.nc),E.setAttribute("data-webpack",f+y),E.src=_),s[_]=[P];var onScriptComplete=(f,P)=>{E.onerror=E.onload=null,clearTimeout(te);var y=s[_];if(delete s[_],E.parentNode&&E.parentNode.removeChild(E),y&&y.forEach((s=>s(P))),f)return f(P)},te=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:E}),12e4);E.onerror=onScriptComplete.bind(null,E.onerror),E.onload=onScriptComplete.bind(null,E.onload),O&&document.head.appendChild(E)}},__webpack_require__.r=s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},__webpack_require__.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),(()=>{var s;__webpack_require__.g.importScripts&&(s=__webpack_require__.g.location+"");var f=__webpack_require__.g.document;if(!s&&f&&(f.currentScript&&(s=f.currentScript.src),!s)){var _=f.getElementsByTagName("script");if(_.length)for(var P=_.length-1;P>-1&&!s;)s=_[P--].src}if(!s)throw new Error("Automatic publicPath is not supported in this browser");s=s.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=s})(),(()=>{var s={143:0};__webpack_require__.f.j=(f,_)=>{var P=__webpack_require__.o(s,f)?s[f]:void 0;if(0!==P)if(P)_.push(P[2]);else{var y=new Promise(((_,y)=>P=s[f]=[_,y]));_.push(P[2]=y);var S=__webpack_require__.p+__webpack_require__.u(f),E=new Error;__webpack_require__.l(S,(_=>{if(__webpack_require__.o(s,f)&&(0!==(P=s[f])&&(s[f]=void 0),P)){var y=_&&("load"===_.type?"missing":_.type),S=_&&_.target&&_.target.src;E.message="Loading chunk "+f+" failed.\n("+y+": "+S+")",E.name="ChunkLoadError",E.type=y,E.request=S,P[1](E)}}),"chunk-"+f,f)}};var webpackJsonpCallback=(f,_)=>{var P,y,[S,E,O]=_,M=0;if(S.some((f=>0!==s[f]))){for(P in E)__webpack_require__.o(E,P)&&(__webpack_require__.m[P]=E[P]);if(O)O(__webpack_require__)}for(f&&f(_);M<S.length;M++)y=S[M],__webpack_require__.o(s,y)&&s[y]&&s[y][0](),s[y]=0},f=self["webpackJsonp-rendition"]=self["webpackJsonp-rendition"]||[];f.forEach(webpackJsonpCallback.bind(null,0)),f.push=webpackJsonpCallback.bind(null,f.push.bind(f))})();var y={};(()=>{"use strict";__webpack_require__.r(y),__webpack_require__.d(y,{RenditionAPI:()=>RenditionAPI,providers:()=>ge});var s=__webpack_require__("0VNB"),f=__webpack_require__.n(s),_=__webpack_require__("uY7Q"),P=__webpack_require__.n(_),S=__webpack_require__("sdTo"),E=__webpack_require__.n(S),O=__webpack_require__("sR8A");const M="11.280.1";var q=__webpack_require__("plsW"),ee=__webpack_require__("4PKp"),te=__webpack_require__("ibkQ");const utils_cancellablePromise=s=>{let f=!1,_=s;_||(_=Promise.reject());return{promise:new Promise(((s,P)=>{_.then((_=>!f&&s(_))).catch((s=>!f&&P(s)))})),cancel:()=>{f=!0}}};let re=[];const renditionMakeCancellablePromise=s=>{const f=utils_cancellablePromise(s);return re.push(f),f.promise},isIE=()=>!!document.documentMode,getDigest=s=>isIE()?window.msCrypto.subtle.digest("SHA-256",s):window.crypto&&window.crypto.subtle?window.crypto.subtle.digest("SHA-256",s):Promise.reject("Crypto is not supported"),getDigestHex=s=>[...new Uint8Array(s)].map((s=>s.toString(16).padStart(2,"0"))).join(""),stringToUint8ArrayBuffer=s=>{let f,_,P,y,S,E=0;if(s){for(E=s.length,f=-1,_="undefined"==typeof Uint8Array?new Array(1.5*E):new Uint8Array(3*E),P=0,y=0,S=0;S!==E;){if(P=s.charCodeAt(S),S+=1,P>=55296&&P<=56319){if(S===E){_[f+=1]=239,_[f+=1]=191,_[f+=1]=189;break}y=s.charCodeAt(S),y>=56320&&y<=57343?(P=1024*(P-55296)+(y-56320+65536),S+=1,P>65535&&(_[f+=1]=240|P>>>18,_[f+=1]=128|P>>>12&63,_[f+=1]=128|P>>>6&63,_[f+=1]=128|63&P)):(_[f+=1]=239,_[f+=1]=191,_[f+=1]=189)}P<=127?_[f+=1]=0|P:P<=2047?(_[f+=1]=192|P>>>6,_[f+=1]=128|63&P):(_[f+=1]=224|P>>>12,_[f+=1]=128|P>>>6&63,_[f+=1]=128|63&P)}return"undefined"!=typeof Uint8Array?_.subarray(0,f+1):(_.length=f+1,_)}return""},getSHA256Digest=s=>new Promise(((f,_)=>{if(isIE()){const P=stringToUint8ArrayBuffer(s);let y="";const S=getDigest(P);S.process(P),S.finish(),S.oncomplete=function onComplete(){if(y=S.result,null!==y){const s=getDigestHex(y);f(s)}else _("documentIdHash error")}}else{const P=/Edge/.test(navigator.userAgent)?stringToUint8ArrayBuffer(s):(new TextEncoder).encode(s);getDigest(P).then((s=>{const _=getDigestHex(s);f(_)})).catch((s=>{_(s)}))}}));var ne=__webpack_require__("RbXz"),ie=__webpack_require__("zSZc"),se=__webpack_require__("GNuk"),ae=__webpack_require__("6mnL");const getStreamRequestHeaders=s=>{let{apiKey:f,accessToken:_,transactionId:P,apiTimeoutDuration:y=0}=s;const S={Accept:"application/json, text/plain, */*"};return f&&(S["x-api-key"]=f),_&&(S.Authorization=_),P&&(S["x-transaction-id"]=P),y&&(S.Prefer=`respond-partial, wait=${y}`),new Headers(S)},uploadStream=(s,f,_,P,y)=>new Promise(((S,E)=>{const O=getStreamRequestHeaders(y?{apiKey:_,accessToken:y}:{apiKey:_,transactionId:P}),M=(s=>{const f=new FormData;return f.append("contentAnalyzerRequests",'{\n        "sensei:engines": [{\n          "sensei:execution_info": {\n            "sensei:engine": "Annotation:pdf-object-detection:Service-61274bccdf4e4177b62ee988d67b9989"\n          },\n          "sensei:inputs": {\n            "in_stream": {\n              "sensei:multipart_field_name": "in_stream",\n              "dc:format":"application/pdf+dcxucf"\n            }\n          },\n          "sensei:outputs": {\n            "out_stream": {\n              "sensei:multipart_field_name": "out_stream",\n              "dc:format":"application/zip"\n            }\n          },\n          "sensei:params": {\n            "client_analytics_consent":true,\n            "result_format":"cnpdf_updates",\n            "save_intermediate_files":false,\n            "degree_of_parallelism": 1,\n            "overrides":"",\n            "provisional":true\n          }\n        }]\n      }'),f.append("in_stream",s),f})(s);fetch(f,{method:"POST",headers:O,body:M}).then((s=>{s.ok?S(s):E(s)})).catch((s=>{E(s)}))})),AdobeSenseiPredictClient=s=>{let{cnpdfZipData:f,mimeType:_}=s;return new Promise(((s,P)=>{const y=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,f="";const _="0123456789";for(let P=0;P<s;P+=1)f+=_.charAt(Math.floor(10*Math.random()));return f}(),S=new Blob([f],{type:_});let E,O,M,ee;!q.auth2.isSignedIn?(O="https://sensei-stage.adobe.io/anonymous/v2/predict",M="https://sensei-stage.adobe.io/anonymous/v2/status",ee="ReaderMobileAndroid4_0002_Anonymous"):(E=(()=>{const{adobeIMS:s}=window;if(s&&s.getAccessToken){const{token:f}=s.getAccessToken();if(f)return f}})(),O=`https://senseis-stage.adobe.io/services/v2/stream/predict/${y}`,M=`https://senseis-stage.adobe.io/services/v2/stream/predict/${y}`,ee="AdobeSenseiPredictServiceStageKey"),uploadStream(S,O,ee,y,E).catch((s=>{P(s)})),function(s,f,_,P){let y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:59;return new Promise(((S,E)=>{const O=getStreamRequestHeaders(P?{apiKey:f,accessToken:P}:{apiKey:f,transactionId:_,apiTimeoutDuration:y});fetch(s,{method:"GET",headers:O}).then((s=>{s.ok?(s=>!(!s||!s.headers)&&null!==s.headers.get("content-length"))(s)?E(s):S(s.body):E(s)})).catch((s=>{E(s)}))}))}(M,ee,y,E).then((f=>{s(f)})).catch((s=>{P(s)}))}))};var oe=__webpack_require__("GTUu");class ExternalCertificateValidator extends O.CertificateValidationInterface{constructor(s){super(),this.externalCertificateValidator=s||null}name(){return ie.Lo.ExternalValidator}_base64ToArrayBuffer(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!s.length)return null;let f="";s.forEach((s=>{f+=window.atob(s)}));const _=f.length,P=new Uint8Array(_);for(let s=0;s<_;s+=1)P[s]=f.charCodeAt(s);return P.buffer}validate(s){return new Promise((async(f,_)=>{if(!Array.isArray(s))return _(new Error("certificateChain must be an array"));if(!this.externalCertificateValidator)return _(new Error("ExternalCertificateValidator is not available"));try{setTimeout((()=>_(new Error(ie.dA.apiTimeoutError))),5e3);const P=this._base64ToArrayBuffer(s),y=await this.externalCertificateValidator({buffer:P});if(!y||!y.status)return _(new Error("ExternalCertificateValidator empty response"));"NOTVALID"===y.status&&(y.status=ie.im.invalid),y.certificates||(y.certificates=s),y.trustSources||y.status!==ie.im.valid||(y.trustSources=[ie.Xq.OS]),y.validation||(y.validation={validatedOn:ie.u3.currentTime,timestamp:(new Date).toISOString()}),f(y)}catch(s){_(s)}}))}}const ce=ExternalCertificateValidator;class AdobeSignCertificateValidation extends O.CertificateValidationInterface{static isAvailable(){return!0}name(){return ie.Lo.AdobeSignValidator}static getValidationAPI(){let s="https://certificatevalidator-dev.adobe.io";const f=q.envUtil.getHostEnv();return"prod"===f?s="https://certificatevalidator.adobe.io":"stage"===f&&(s="https://certificatevalidator-stage.adobe.io"),s+="/certificatevalidator/v1/verify",{api:s,apiKey:"certificatevalidator"}}_getError(s,f){const _=new Error(s);return _.reason=f?{code:f}:{},_}validate(s){return new Promise(((f,_)=>{if(!Array.isArray(s))return _(this._getError("certificateChain must be an array"));const{api:P,apiKey:y}=AdobeSignCertificateValidation.getValidationAPI(),S=new Headers;S.append("Content-Type","application/json"),S.append("x-api-key",y);const E={method:"POST",headers:S,body:JSON.stringify({certificates:s})};fetch(P,E).then((async s=>{if(s.ok){const _=await s.json();_.validation||(_.validation={validatedOn:ie.u3.currentTime,timestamp:(new Date).toISOString()}),_&&_.status===ie.im.valid&&!_.trustSources.length&&(_.status=ie.im.unknown),f(_)}const _=s.status;let P=ie.dA.unknownError;throw 429===_?P=ie.dA.tooManyRequests:504===_?P=ie.dA.gatewayTimeout:_>=500&&_<600&&(P=ie.dA.internalServerError),this._getError(P,_)})).then((s=>f(s))).catch((s=>_(s)))}))}}const le=AdobeSignCertificateValidation,recordNow=(s,f)=>{const _=Math.round(f||performance.now());return window.performance&&window.performance.mark&&window.performance.mark(`provider_rendition_${s}`,{startTime:_}),_};var ue=__webpack_require__("Kq49"),de=__webpack_require__("6Wbc"),he=__webpack_require__("o2TZ");class AJSHandler{constructor(s,f){var _=this;this._shouldEnableProgressiveRendering=()=>!!window.OffscreenCanvas&&this.options.useProgressiveRendering,this.acrobatJSInstanceHandler=new ue.Z({enableAJSLogging:s.enableAJSLogging,useAJSFullBuild:s.useAJSFullBuild,maxActiveAJSinstanceLimit:ie.bC}),this.options=s,this._assetUriToFileHandle={},this._defaultAJSHandle=null,this._defaultAJSHandlePromise=new Promise((s=>{this._defaultAJSHandleResolve=s})),this._defaultAJSMapped=!1,this._defaultInstanceAssetUri=null,this._onAjsEvent=function(s){for(var P=arguments.length,y=new Array(P>1?P-1:0),S=1;S<P;S++)y[S-1]=arguments[S];return f(s===ie.yq?_._defaultInstanceAssetUri:s,...y)}}async init(){return this._defaultAJSHandle||this._ajsSetup(ie.yq)}_getAJSInstanceFromAssetUri(s){const f=s,_=this._assetUriToFileHandle[f];return this.acrobatJSInstanceHandler.getAcrobatJSInstance(_)}static _ajsGetPath(){return ne.lO()}async _ajsSetup(s,f){var _=this;const P={ajsPath:AJSHandler._ajsGetPath(),enableProgressiveRendering:this._shouldEnableProgressiveRendering(),hostEnv:q.envUtil.getHostEnv(),enableWasmExceptions:(0,he.AJ)()};if(P.enableWasmExceptions){this.options.ajsExceptionSupport="wasm";const s=(0,he.gV)();this.options.ajsSplitWasm=s,P.splitWasm=s}else this.options.ajsExceptionSupport="js";const y=this.acrobatJSInstanceHandler.createAcrobatJSInstance({ajsConfig:P,forceEvict:!0,onAjsEvent:function(){for(var f=arguments.length,P=new Array(f),y=0;y<f;y++)P[y]=arguments[y];return _._onAjsEvent(s,...P)}},f);s!==ie.yq||this._defaultAJSHandle||(y.then(this._defaultAJSHandleResolve),this._defaultAJSHandle=y),this._assetUriToFileHandle[s]=await y}isInstanceCached(s){const f=this._assetUriToFileHandle[s];return this.acrobatJSInstanceHandler.checkInstanceState(f,de.zI.CACHED)}async activateInstanceIfInactive(s){const f=this._assetUriToFileHandle[s];if(this.isInstanceCached(s)){const{openPdfParams:_}=this.acrobatJSInstanceHandler.getAcrobatJSInstanceParameters(f);await this._ajsSetup(s,f),await this._getAJSInstanceFromAssetUri(s).openPDF(_)}}async assignDefaultInstance(s){s&&this._defaultAJSHandle&&!this._defaultAJSMapped&&(this._assetUriToFileHandle[s]=await this._defaultAJSHandle,this._defaultInstanceAssetUri=s,this._defaultAJSMapped=!0)}callSync(s,f){const _=this._getAJSInstanceFromAssetUri(s||ie.yq);if(!_)throw(0,te.Kz)("Filehandle not present",{apiName:f}),Error("Filehandle not present");if(!_[f])throw(0,te.Kz)("Unknown AJS Command",{apiName:f}),Error("Unknown AJS command");for(var P=arguments.length,y=new Array(P>2?P-2:0),S=2;S<P;S++)y[S-2]=arguments[S];return _[f](...y)}async callAsync(s,f){await this._defaultAJSHandlePromise,await this.assignDefaultInstance(s);const _=this._assetUriToFileHandle[s||ie.yq];let P=s;if(this.acrobatJSInstanceHandler.has(_))await this.activateInstanceIfInactive(s);else if(s&&"openPDF"!==f){(0,te.Kz)(`AJS command ${f} called for assetUri ${s} for which openPDF was not called. Using default instance.`);1===new Set(Object.values(this._assetUriToFileHandle)).size&&(P=this._defaultInstanceAssetUri)}else s&&await this._ajsSetup(s);for(var y=arguments.length,S=new Array(y>2?y-2:0),E=2;E<y;E++)S[E-2]=arguments[E];"openPDF"===f&&this.acrobatJSInstanceHandler.setOpenPDFParameters(this._assetUriToFileHandle[s],S[0]);const O=this._getAJSInstanceFromAssetUri(P||ie.yq);if(!O)return(0,te.Kz)("Filehandle not present",{apiName:f}),Promise.reject(new Error("Filehandle not present"));if(!O[f])return(0,te.Kz)("Unknown AJS Command",{apiName:f}),Promise.reject(new Error("Unknown AJS command"));const M=await O[f](...S);return"openPDF"===f&&(M.enableWasmExceptions="wasm"===this.options.ajsExceptionSupport,M.splitWasm=this.options.ajsSplitWasm),"getPageRendition"===f&&this.options.ajsSplitWasm&&(0,he.$n)(),M}async resetWorker(s){const f=this._assetUriToFileHandle[s];Object.entries(this._assetUriToFileHandle).forEach((s=>{let[f,_]=s;f!==ie.yq&&(this.acrobatJSInstanceHandler.erase(_),delete this._assetUriToFileHandle[f])})),this._defaultAJSHandle=null,this._defaultAJSHandlePromise=new Promise((s=>{this._defaultAJSHandleResolve=s})),this._defaultAJSMapped=!1,this._ajsSetup(ie.yq,f)}registerLicense(s){const f=[...new Set(Object.values(this._assetUriToFileHandle))].map((f=>this.acrobatJSInstanceHandler.getAcrobatJSInstance(f).registerLicense(s)));return Promise.all(f)}remapAssetUri(s,f){this._assetUriToFileHandle[f]=this._assetUriToFileHandle[s],delete this._assetUriToFileHandle[s]}}const pe=AJSHandler;let fe=null;class NoRenditionError extends Error{constructor(s){super(s),this.code=415}}class RenditionAPI{constructor(s,f){var _=this;return this._getFileInfoObj=function(s,f){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(q.auth2.isSignedIn&&!_._isS3DownloadUrl){const s=q.auth2.getAccessTokenInfo();s.access_token&&P.push({key:"Authorization",value:`Bearer ${s.access_token}`})}return f&&!("id"in f)&&(f.id=f.asset_id),{content:{location:{url:s,headers:P}},metaData:f}},this._fetchPDFBufferRanges=(s,f,_)=>1===_.length&&0===_[0].start&&void 0===_[0].end?this._fetchCompletePDFBufferPromise.then((s=>[s])):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._externalGetDownloadUri(s,f).then((s=>this._external.fetchPDFBufferRanges(s,_)))))),this._fetchPDFSize=(s,f)=>(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._externalGetDownloadUri(s,f).then((s=>this._external.fetchPDFSize(s)))))),fe=this,this.queryParams=(0,se.v)(),this.options=Object.assign({},{enableExternal:!0,useAJS:!0,useDCAPI:!0,AJSDelay:0,useReview:!0,usePDFNow:!1,fetchWithCredentials:!1,autoStart:!0,shouldUseModernViewer:!1,enableAJSLogging:!1,useAJSFullBuild:!1,useProgressiveRendering:!0},f,(0,oe.vz)(this.queryParams)),this.ajsHandler=new pe(this.options,this._onAjsEvent.bind(this)),this._fetchCompletePDFBufferPromise=null,this._assetRenditions={},this._assetRenditionsIndex=[],this._assetPageRenditions={},this._assetPageRenditionPromises={},this._assetPageRenditionsIndex=[],this._cachedRedirectUrl={},this._perfTimings={},this._resetAjsPerfTimings(),this._getAssetFileInfoPromise={},this.options.autoStart&&this.init(),fe}_getAjs(){return this.ajsHandler.init().catch((s=>{this.options.useAJS=!1,this._ajsEmit("ajsInitFailed",s)}))}init(){this.options.useDCAPI?(this.dcapiPromise=new Promise(((s,f)=>{this.dcapiResolve=s,this.dcapiReject=f})),this._dcapiInit()):this.dcapiPromise=Promise.resolve(),this.options.useAJS&&(this._completePDFBufferAvailablePromiseMap={},this.options.AJSDelay>0?setTimeout(this._getAjs.bind(this),this.options.AJSDelay):this._getAjs()),this._waitOnCompletePDFBufferMap={}}_resetAjsPerfTimings(){this.options.useAJS&&(this._perfTimings.ajs={})}_getDCAssetFileInfo(s){const f=`${s}`;return this._getAssetFileInfoPromise[f]||(this._getAssetFileInfoPromise[f]=this.dcapiPromise.then((()=>{const f=this._dcapiGetMetadata(s,{}),_=this._dcapiGetDownloadUri(s,{});return Promise.all([_,f])})).then((s=>{const f=s[0],_=s[1];return this._getFileInfoObj(f,_,[])})).catch((()=>{delete this._getAssetFileInfoPromise[f]}))),this._getAssetFileInfoPromise[f]}_getPDFNowAssetFileInfo(s,f){return this.dcapiPromise.then((()=>this._dcapiGetMetadata(s,f))).then((s=>{const f=s;return f&&!("id"in f)&&(f.id=f.asset_id),{metaData:f}}))}_getReviewAssetFileInfo(s){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const _=`${s}`,P=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[s];if(this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];let y;y=f&&q.auth2.isSignedIn?this._dcapiGetMetadata(s,{}):this._reviewGetMetadata(s);const S=P||this._reviewGetDownloadUri(s,f);return this._getAssetFileInfoPromise[_]=Promise.allSettled([S,y]).then((async _=>{let y;if(y="fulfilled"===_[0].status&&_[0].value?P?_[0].value.download_url:_[0].value:await this._reviewGetDownloadUri(s,f),!y)throw new Error("Download Uri is null");const S="fulfilled"===_[1].status?_[1].value:null;return this._getFileInfoObj(y,S,[])})).catch((()=>{delete this._getAssetFileInfoPromise[_]})),this._getAssetFileInfoPromise[_]}getAssetFileInfo(s,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._getReviewAssetFileInfo(s):RenditionAPI._isPDFNowAsset(f)?this._getPDFNowAssetFileInfo(s,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetMetadata(s,f).then((_=>(_&&!("id"in _)&&(_.id=_.asset_id),_.download_url?Promise.resolve({content:{location:{url:_.download_url}},metaData:_}):this._connectorGetContentBuffer(s,f).then((s=>{const f=new Blob([s]);return Promise.resolve({content:{location:{url:URL.createObjectURL(f)}},metaData:_})}))))):this._getDCAssetFileInfo(s)}getDcapiRendition(s,f){return this._dcapiGetRendition(s,f)}static _getOriginFromUrl(s){return ne.ir(s)}_ajsEmit(s,f){const _={...f,acrobatJSVersion:M,shouldUseModernViewer:this.options.shouldUseModernViewer};(0,te.Kz)(s,_)}_onAjsEvent(s,f,_,P){switch(f){case"completePDFBufferAvailable":this._completePDFBufferAvailablePromiseMap[s].resolve();break;case`${P}PerfTimings`:"ajs"===P&&Object.keys(_).forEach((s=>recordNow(s,_[s]))),this._perfTimings[P]=Object.assign({},this._perfTimings[P],_);break;case"FontUsed":q.providers["font-provider"]().then((s=>{!_.isInEditMode&&_.fontsList&&_.fontsList.forEach((f=>{s.isUsageUnReported(f)&&this._ajsEmit("FontUsageNotReported",{fontName:f})}))}));break;default:this._ajsEmit(f,_)}}_dcapiInit(){this._perfTimings.dc={dcapiInit:recordNow(ie.$l.DCAPI_INIT)},q.providers&&q.providers.dcapi&&q.providers.dcapi().then((s=>{this._dcapi=s.getDcapi(),this._dcapi.promise().then((()=>{this._perfTimings.dc.dcapiLoaded=recordNow(ie.$l.DCAPI_LOADED),this.dcapiResolve()})).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.dcapiReject()}))}))}_pdfnowInitPromise(){return!this.pdfnowApiPromise&&(this.options.usePDFNow?(this.pdfnowApiPromise=new Promise(((s,f)=>{this.pdfnowApiResolve=s,this.pdfnowApiReject=f})),!0):(this.pdfnowApiPromise=Promise.resolve(),!1))}_pdfnowInit(){void 0!==q.providers&&q.providers["dcapi-facade"]().then((s=>s.getDcapi().then((s=>{this._pdfnowDcapi=s,this.pdfnowApiResolve()})))).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.pdfnowApiReject()}))}_resetReviewProvider(){this.reviewApiPromise=void 0,this._initReviewProviderIfRequired()}_initReviewProviderIfRequired(){this._reviewInitPromise()&&this._reviewInit()}_reviewInitPromise(){return!this.reviewApiPromise&&(this.options.useReview?(this.reviewApiPromise=new Promise(((s,f)=>{this.reviewApiResolve=s,this.reviewApiReject=f})),!0):(this.reviewApiPromise=Promise.resolve(),!1))}_reviewInit(){void 0!==q.providers&&q.providers["review-handler"]().then((s=>{this._reviewApi=s,this.reviewApiResolve()})).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.reviewApiReject()}))}_externalInitPromise(){return!this.externalPromise&&(this.options.enableExternal?(this.externalPromise=new Promise(((s,f)=>{this.externalResolve=s,this.externalReject=f})),!0):(this.externalPromise=Promise.resolve(),!1))}_externalInit(){void 0!==q.providers&&q.providers.integrationProvider().then((s=>{this._external=s,this.externalResolve()})).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.externalReject()}))}_cacheRendition(s,f){this._assetRenditions[s]||(this._assetRenditionsIndex.length===ie.D$&&delete this._assetRenditions[this._assetRenditionsIndex.shift()],this._assetRenditionsIndex.push(s)),this._assetRenditions[s]=P()(this._assetRenditions[s],f)}_cachePageRendition(s,f,_){const y=`${s}-${f}`;this._assetPageRenditions[y]||(this._assetPageRenditionsIndex.length===ie.D$&&delete this._assetPageRenditions[this._assetPageRenditionsIndex.shift()],this._assetPageRenditionsIndex.push(y)),this._assetPageRenditions[y]=P()(this._assetPageRenditions[y],_)}_dcapiGetAssetUri(s){return this._dcapi&&s.startsWith("urn:")?this._dcapi.getTemplateURI("asset_uri",{asset_id:s}):s}static _dcapiGetAssetUrn(s){return s.startsWith("urn:")?s:s.substr(s.lastIndexOf("/")+1)}static _isFileTypeImage(s){return new RegExp("^image").test(s)}static _canFileHaveMultiplePages(s){if(RenditionAPI._isFileTypeImage(s))return!1;return!["application/zip","application/octet-stream","text/plain","text/rtf"].includes(s)}_dcapiMetadataCall(s,_){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise(((y,S)=>{this._dcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:this._dcapiGetAssetUri(s),headers:{"x-request-id":f().v4()}}).then((f=>{var E,O;const M=f,q=null==M||null===(E=M.content)||void 0===E?void 0:E.page_count;let ee;const te=null==M||null===(O=M.content)||void 0===O?void 0:O.type;if(M.content.numPages=q,(_.enableRetryForPDFs||this.queryParams.enableRetryForPDFs||"application/pdf"!==te)&&!q){let f="application/pdf"===te?ie.Bq:ie.W1;RenditionAPI._canFileHaveMultiplePages(te)||(f=1);const y="application/pdf"===M.content.type?ie.rg:ie.hj;P===f?M.content.numPages=1:ee=new Promise(((f,S)=>{setTimeout((()=>{this._dcapiMetadataCall(s,_,P+1).then(f).catch(S)}),y)}))}ee||(ee=Promise.resolve(M)),ee.then(y).catch(S)}),(s=>{S(s)}))}))}_dcapiGetMetadata(s,f){return this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.contentData&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[s].dcapi.contentData):RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._reviewGetMetadata(s,f):RenditionAPI._isPDFNowAsset(f)?this._pdfnowGetMetadata(s,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetMetadata(s,f):new Promise(((_,P)=>{this.dcapiPromise.then((()=>{const y=this._dcapiMetadataCall(s,f),S=this._dcapiGetDocumentRenditionStatus(s);Promise.all([y,S]).then((f=>{let[P,y]=f;this._cacheRendition(s,{dcapi:{contentData:(0,oe.Xh)(P.content)}}),this._cacheRendition(s,{dcapi:{contentData:{documentRenditionStatus:y}}}),_(this._assetRenditions[s].dcapi.contentData)})).catch(P)}))}))}static _isReviewAsset(s){return s.assetType===ie.VL}static _isParcelAsset(s){return s.assetType===ie.GN}static _isExternalAsset(s){return s.assetType===ie.iO}static _isConnectorAsset(s){return s.assetType&&ie.KY.includes(s.assetType)}static _isSignAsset(s){return s.assetType===ie.Ho}static _isPDFNowAsset(s){return s.assetType===ie.Wb}_dcapiIsPDFAsset(s,f){return new Promise(((_,P)=>{f.useDCAPI?this._dcapiGetMetadata(s,f).then((()=>{this._assetRenditions[s]&&"application/pdf"===this._assetRenditions[s].dcapi.contentData.type?_():P()})).catch(P):_()}))}_isPDFAsset(s,f){return new Promise(((_,P)=>{f&&"application/pdf"===f.assetMimeType?_():this._dcapiIsPDFAsset(s,f).then(_).catch(P)}))}_ajsPostMetaData(s,f){return this._fetchCompletePDFBufferPromise=this._fetchCompletePDFBuffer(s,f),f.enableLinearization&&!f.password?renditionMakeCancellablePromise(this._ajsGetLinearizedContentData(s,f)):this._fetchCompletePDFBufferPromise.then((_=>renditionMakeCancellablePromise(this._ajsGetContentData(s,_,f)).catch((s=>{const f=ArrayBuffer.isView(_)?_.buffer:_;return(0,te.Kz)("ajsGetContentData Failed",{error:JSON.stringify(s),size:f?f.byteLength:-1}),Promise.reject(s)}))))}_fetchCompletePDFBuffer(s,f){let _;return _=RenditionAPI._isExternalAsset(f)?renditionMakeCancellablePromise(this._externalGetDownloadUri(s,f)).catch((s=>((0,te.Kz)("GetDownloadUri failed",{assetType:"external",error:JSON.stringify(s)}),Promise.reject(s)))).then((f=>renditionMakeCancellablePromise(this._externalGetContentBuffer(s,f)).catch((s=>((0,te.Kz)("GetContentBuffer failed",{assetType:"external",error:JSON.stringify(s)}),Promise.reject(s)))))):renditionMakeCancellablePromise(this._isPDFAsset(s,f)).catch((s=>((0,te.Kz)("Non PDF asset in AJS flow",{assetType:"non-external",error:JSON.stringify(s)}),Promise.reject(s)))).then((()=>renditionMakeCancellablePromise(this._dcapiGetDownloadUri(s,f)).catch((s=>((0,te.Kz)("GetDownloadUri failed",{assetType:"non-external",error:JSON.stringify(s)}),Promise.reject(s)))).then((_=>(this._perfTimings.ajs.pdfDownloadStart=recordNow(ie.$l.PDF_DOWNLOAD_START),(0,te.Kz)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),renditionMakeCancellablePromise(this._dcapiGetContentBuffer(s,_,f)).catch((s=>((0,te.Kz)("GetContentBuffer failed",{assetType:"non-external",error:JSON.stringify(s)}),Promise.reject(s))))))))),_.then((_=>{if(RenditionAPI._isExternalAsset(f)){const _=this._external.apis.file.getDownloadTimes();this._perfTimings.ajs.pdfDownloadStart=recordNow(ie.$l.PDF_DOWNLOAD_START,_.pdfDownloadStartTime),this._perfTimings.ajs.pdfDownloadEnd=recordNow(ie.$l.PDF_DOWNLOAD_END,_.pdfDownloadEndTime),(0,te.Kz)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),this._getFileSize(s,f).then((s=>{this._logPdfDownloadTotalTime(s)})).catch((()=>{this._logPdfDownloadTotalTime(0)}))}else{this._perfTimings.ajs.pdfDownloadEnd=recordNow(ie.$l.PDF_DOWNLOAD_END);const{pdfDownloadStart:s,pdfDownloadEnd:f}=this._perfTimings.ajs,_=f-s;(0,te.Kz)("pdfDownloadTotalTime",{pdfDownloadTotalTime:_}),this._setDownloadUrlType(ie.$j.NONE)}return _}))}_getFileSize(s,f){return this._externalGetMetadata(s,f).then((s=>s.size?s.size:0))}_logPdfDownloadTotalTime(s){const{pdfDownloadStart:f,pdfDownloadEnd:_}=this._perfTimings.ajs,P=_-f;(0,te.Kz)("pdfDownloadTotalTime",{pdfDownloadTotalTime:P,fileSize:s,isS3Url:this._isS3DownloadUrl}),this._setDownloadUrlType(ie.$j.NONE)}_ajsGetMetadata(s,f){const _=f?{...f}:{};return renditionMakeCancellablePromise(getSHA256Digest(s)).then((s=>{(0,te.Ev)(s)})).catch((()=>{this._documentId=""})).then((()=>{if(!0!==_.forceCacheless&&this._assetRenditions[s]&&this._assetRenditions[s].ajs&&this._assetRenditions[s].ajs.metadataPromise)return this._assetRenditions[s].ajs.metadataPromise;const f=this._ajsPostMetaData(s,_);return this._cacheRendition(s,{ajs:{metadataPromise:f}}),f}))}_externalGetMetadata(s,f){return this._assetRenditions[s]&&this._assetRenditions[s].external&&this._assetRenditions[s].external.metadata&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[s].external.metadata):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._external.getSelectedFilesListFromFileIds([s]).then((f=>(this._cacheRendition(s,{external:{metadata:f[0]}}),f[0]))))))}_externalGetDownloadUri(s,f){return this._assetRenditions[s]&&this._assetRenditions[s].external&&this._assetRenditions[s].external.downloadUri&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[s].external.downloadUri):this._externalGetMetadata(s,f).then((f=>f.downloadUrl?(this._cacheRendition(s,{external:{downloadUri:f.downloadUrl}}),f.downloadUrl):Promise.reject(new Error("Download Uri not available"))))}_externalGetContentBuffer(s,f){return this._assetRenditions[s]&&this._assetRenditions[s].external&&this._assetRenditions[s].external.contentBuffer?Promise.resolve(this._assetRenditions[s].external.contentBuffer):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._external.getFileContents(f).then((f=>(this._cacheRendition(s,{external:{contentBuffer:f},ajs:{contentBuffer:f}}),f))))))}_connectorGetRendition(s,f){const _=f.size||"3200",P=`${s}-0`;if(!0===f.forceCacheless||!this._assetPageRenditions[P]||!this._assetPageRenditions[P].connector||!this._assetPageRenditions[P].connector.pageImgBuffer||this._assetPageRenditions[P].connector.size!==_||0!==this._assetPageRenditions[P].connector.page){const P=new URLSearchParams(window.location.search),y=ie.z1[f.assetType];return y?q.providers["storage-connectors"]().then((S=>S.getStorageProvider(y).then((y=>{let E=P.get("connectorid");return E||(E=f.connectorId),y.getRendition(s,S.getConnectorById(E),{size:_}).then((f=>{const P={params:{pageImgBuffer:f,mimeType:"image/png",pageNum:0}};return this._cachePageRendition(s,0,{connector:{pageImgBuffer:f,size:_,page:0}}),P}))})))).catch((s=>{throw new NoRenditionError(s&&s.message||"Unknown")})):Promise.reject(new Error("Not supported"))}const y=this._assetPageRenditions[P].connector,S={params:{pageImgBuffer:y.pageImgBuffer,mimeType:"image/png",pageNum:y.page}};return Promise.resolve(S)}_connectorGetMetadata(s,f){const _=`${s}`;if(!0!==f.forceCacheless&&this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];if(!0!==f.forceCacheless&&this._assetRenditions[s]&&this._assetRenditions[s].connector&&this._assetRenditions[s].connector.metaData)this._getAssetFileInfoPromise[_]=Promise.resolve(this._assetRenditions[s].connector.metaData);else{const P=new URLSearchParams(window.location.search),y=ie.z1[f.assetType];this._getAssetFileInfoPromise[_]=y?q.providers["storage-connectors"]().then((S=>S.getStorageProvider(y).then((y=>{const E=f.connectorId||P.get("connectorid");return y.getItem(s,S.getConnectorById(E)).then((f=>{const _=y.normalizeItem(f,S.getConnectorById(E));return"application/pdf"!==_.type&&(_.numPages=1,_.page_count=1),this._cacheRendition(s,{connector:{metaData:_},ajs:{metaData:_}}),_})).catch((()=>{delete this._getAssetFileInfoPromise[_]}))})))):Promise.reject(new Error("Not supported"))}return this._getAssetFileInfoPromise[_]}_connectorGetContentBuffer(s,f){if(!this._assetRenditions[s]||!this._assetRenditions[s].connector||!this._assetRenditions[s].connector.contentBuffer){const _=new URLSearchParams(window.location.search),P=ie.z1[f.assetType];return P?q.providers["storage-connectors"]().then((y=>y.getStorageProvider(P).then((P=>{const S=f.connectorId||_.get("connectorid");return P.getFileContent(s,y.getConnectorById(S)).then((f=>(this._cacheRendition(s,{connector:{contentBuffer:f},ajs:{contentBuffer:f}}),f)))})))):Promise.reject(new Error("Not supported"))}return Promise.resolve(this._assetRenditions[s].connector.contentBuffer)}_dcapiGetRenditionUri(s){return this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.renditionUri?Promise.resolve(this._assetRenditions[s].dcapi.renditionUri):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_rendition_v1.json",headers:{"x-request-id":f().v4()}}).then((f=>(this._cacheRendition(s,{dcapi:{renditionUri:f.content.uri}}),f.content.uri)),(s=>Promise.reject(s)))}_externalGetRendition(s,f){const _=void 0!==f.pageNum?f.pageNum:1,P=`${s}-${_}`;return this._assetPageRenditions[P]&&this._assetPageRenditions[P].external&&this._assetPageRenditions[P].external.rendition&&this._assetPageRenditions[P].external.rendition[_]&&!0!==f.forceCacheless?Promise.resolve(this._assetPageRenditions[P].external.rendition[_]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>"function"!=typeof this._external.getRenditionByFileId?Promise.reject(new Error("Cannot get External rendition")):this._external.getRenditionByFileId(s,f).then((f=>{const P={external:{rendition:{}}};return P.external.rendition[_]={params:f},this._cachePageRendition(s,_,P),Promise.resolve({params:f})}),(s=>Promise.reject(s))))))}_dcapiGetDirectRenditionForPage(s,_){const P=_.size||"1200",y=_.format||"jpg",S=void 0!==_.pageNum?_.pageNum:1,E=`${s}-${S}`,O=this._assetPageRenditions[E];let M;if(O&&(M=O.dcapi),M&&M.pageImgBuffer&&M.format===y&&M.size===P&&M.page===S){const s={params:{pageImgBuffer:M.pageImgBuffer,mimeType:M.mimeType,pageNum:M.page}};return Promise.resolve(s)}return this._dcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:RenditionAPI._dcapiGetAssetUrn(s),uri_parameters:{size:P,format:y,page:S-1,processing_hint:"speed_over_quality"},headers:{"x-request-id":f().v4()},responseType:"arraybuffer"}).then((f=>{const _={params:{pageImgBuffer:f.content,mimeType:f.headers["content-type"],pageNum:S}};return this._cachePageRendition(s,S,{dcapi:{pageImgBuffer:f.content,mimeType:f.headers["content-type"],size:P,page:S,format:y}}),Promise.resolve(_)}),(s=>Promise.reject(s)))}_dcapiGetRendition(s,f){let _,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const y=performance.now();return _=RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._reviewGetRendition(s,f):RenditionAPI._isPDFNowAsset(f)?this._pdfnowGetRendition(s,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetRendition(s,f):this.dcapiPromise.then((()=>this._dcapiGetDirectRenditionForPage(s,f))),_.catch((_=>{const{code:S}=_;if(404===S||429===S){if(P<ie.aY)return(0,oe.gw)(ie.rg).then((()=>this._dcapiGetRendition(s,f,P+1)));const{format:_,size:E,type:O}=f;(0,te.Kz)("dcapiGetRendition max retries",{asset_uri:s,code:S,format:_,level:"error",rendition_duration:performance.now()-y,size:E,type:O})}throw _}))}_getReviewRenditionWithRetries(s,f){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const P=performance.now();return this._reviewGetRendition(s,f).catch((y=>{const{code:S}=y;if(404===S||429===S){if(_<ie.aY)return(0,oe.gw)(ie.rg).then((()=>this._getReviewRenditionWithRetries(s,f,_+1)));const{format:y,size:E,type:O}=f;(0,te.Kz)("getReviewRenditionWithRetries max retries",{asset_uri:s,code:S,format:y,level:"error",rendition_duration:performance.now()-P,size:E,type:O})}throw y}))}_dcapiGetDocumentRenditionUri(s,_){const P=_;return this.dcapiPromise.then((()=>{const _=P.format||"owp";return this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.documentRenditionUri?Promise.resolve(this._assetRenditions[s].dcapi.documentRenditionUri+(P.format?`&format=${P.format}`:"")):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_rendition_v1.json",uri_parameters:{make_ticket:"owp"===_,type:"document"},headers:{"x-request-id":f().v4()}}).then((f=>(this._cacheRendition(s,{dcapi:{documentRenditionUri:f.content.uri}}),this._assetRenditions[s].dcapi.documentRenditionUri+(P.format?`&format=${P.format}`:""))),(s=>Promise.reject(s)))}))}_dcapiGetDocumentRendition(s,_){const P=_;return this.dcapiPromise.then((()=>{const _=P.format||"owp";return P.format=void 0,this._dcapiGetDocumentRenditionUri(s,P).then((s=>this._dcapi.call("assets.document_rendition",{accept:"*/*",resource_parameter:s,uri_parameters:{format:_,fallback:"none"},headers:{"x-request-id":f().v4()},responseType:"arraybuffer"}).then((s=>s.content))))}))}_dcapiGetDocumentRenditionStatus(s){return this.dcapiPromise.then((()=>this._dcapi.call("assets.document_rendition_status",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_document_rendition_status_v1.json",headers:{"x-request-id":f().v4()}}).then((s=>s.content.document_rendition_status),(s=>Promise.reject(s)))))}_reviewGetDownloadUri(s){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._initReviewProviderIfRequired();return new Promise(((_,P)=>{this.reviewApiPromise.then((()=>{this._reviewApi.initReviewIfRequired().then((()=>{const y=this._reviewApi.getReview(s);let S=!0;if(void 0!==y){const P=recordNow(ie.$l.PDF_DOWNLOAD_URI_START);(f?y.getFileDownloadURLByAssetUri(s,"view",S):y.getFileDownloadURL("view",S)).then((s=>{this._setDownloadUrlType(ie.$j.S3),_(s);const f=recordNow(ie.$l.PDF_DOWNLOAD_URI_END);(0,te.Kz)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:f-P})})).catch((()=>{S=!1;return(f?y.getFileDownloadURLByAssetUri(s,"view",S):y.getFileDownloadURL("view",S)).then((s=>{this._setDownloadUrlType(ie.$j.DCAPI),_(s);const f=recordNow(ie.$l.PDF_DOWNLOAD_URI_END);(0,te.Kz)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:f-P})})).catch((s=>{this._setDownloadUrlType(ie.$j.NONE),(0,te.Kz)("Failed to fetch reviewDownloadUri",JSON.stringify(s))}))}))}else P(new Error("Review does not exist"))}))}))}))}_setDownloadUrlType(s){this._downloadUrlType=s}get _isS3DownloadUrl(){return this._downloadUrlType===ie.$j.S3}_reviewGetMetadata(s){this._initReviewProviderIfRequired();return new Promise(((f,_)=>{this.reviewApiPromise.then((()=>{this._reviewApi.initReviewIfRequired().then((()=>{const P=this._reviewApi.getReview(s);void 0!==P?P.getSendBootstrapData().then((y=>{const S={};if(y&&y.meta_list&&y.meta_list instanceof Array&&y.meta_list.length>P.getDownloadAssetIndex()){const _=y.meta_list[P.getDownloadAssetIndex()];S.type=_.content_type,S.assetMimeType=_.content_type,S.name=_.name,S.last_pagenum=_.last_pagenum||0,S.numPages=_.page_count||0,S.size=_.size,S.id=_.id,this._cacheRendition(s,{dcapi:{contentData:(0,oe.Xh)(S)}}),f(S)}else _(new Error("Invalid Bootstrap data"))})).catch((s=>{_(s)})):_(new Error("Review does not exist"))}))})).catch(_)}))}_reviewGetRenditionAuthHeader(s){const f=s;return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(f.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),f}_getReviewRenditionURL(s,f){const _=void 0!==f.pageNum?f.pageNum-1:0,P=parseInt(f.size||"1200",10);return new Promise(((f,y)=>{this.reviewApiPromise.then((()=>{this._reviewApi.instantiateReview().then((()=>{void 0!==this._reviewApi.getReview(s)?s?this._reviewApi.getAllBaseUris().then((y=>{let S,E=`${y.send_api.replace("/api/","/invitation/")+encodeURIComponent(s)}/asset/asset-0`;switch(!0){case P<=30:S="/icon";break;case P<=120:S="/thumbnail";break;case P<=500:S="/tile";break;default:S="/preview"}E+=S,_&&(E+=`?page=${_}`),f(E)}),y):y(new Error("Invalid Bootstrap data")):y(new Error("Review does not exist"))}),y)})).catch(y)}))}_getCachedRedirectURL(s,f){const{assetUri:_,pageNum:P,renditionUrl:y,fetchOptions:S}=s;return new Promise(((s,E)=>{const{pageNum:O,cachedAssetUri:M}=this._cachedRedirectUrl;let{redirectUrl:q}=this._cachedRedirectUrl;const ee="cachedAssetUri"in this._cachedRedirectUrl,te=y.includes("/preview");ee&&M===_&&te&&!f?(O===P&&s(q),q=q.includes("page=")?q.replace(/page=\d+/g,"page="+(P-1)):`${q}&page=${P-1}`,s(q)):RenditionAPI._fetchWithCredentials(y,S).then((f=>{let y;if(f&&200===f.status&&f.content){y=JSON.parse(f.content).url,te&&(this._cachedRedirectUrl={cachedAssetUri:_,redirectUrl:y,pageNum:P}),s(y)}y||E(new Error("Redirect url could not be obtained"))})).catch((s=>E(s)))}))}_getRenditionsUsingCachedRedirectURL(s){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(((P,y)=>{this._getCachedRedirectURL(s,f).then((f=>{P(this._getRenditionsUsingRedirectURL(f,s,_))})).catch((s=>{y(s)}))}))}_getRenditionsUsingRedirectURL(s,f){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{assetUri:P,pageNum:y,size:S,renditionUrl:E,pageRenditionPromise:O}=f;let M={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return M=this._reviewGetRenditionAuthHeader(M),M.headers||(M.headers={}),new Promise(((q,ee)=>{O?O.then((s=>{const f={params:{pageImgBuffer:s.buffer,mimeType:s.mimeType,pageNum:y}};this._cachePageRendition(P,y,{dcapi:{renditionUri:E,pageImgBuffer:s.buffer,mimeType:s.mimeType,size:S,page:y}}),q(f)})).catch((s=>{ee(s)})):RenditionAPI._fetchWithCredentials(s,M).then((O=>{const M={params:{pageImgBuffer:O.content,mimeType:O.headers["content-type"],pageNum:y}};this._cachePageRendition(P,y,{dcapi:{renditionUri:E,pageImgBuffer:O.content,mimeType:O.headers["content-type"],size:S,page:y}});O&&(410===O.status||401===O.status)&&_<ie.H3&&this._getRenditionsUsingRedirectURL(s,f,_+1),q(M)})).catch((s=>{ee(s)}))}))}_reviewGetRendition(s,f){this._initReviewProviderIfRequired();const _=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[s],P=void 0!==f.pageNum?f.pageNum:1,y=f.size||"1200",S=`${s}-${P}-${y}`,E=f.pageRenditionPromise;return this._assetPageRenditionPromises[S]||(this._assetPageRenditionPromises[S]=new Promise(((O,M)=>{if(_){const q={assetUri:s,pageNum:P,size:y,pageRenditionPromise:E};_.then((s=>{let f=s.url;f.includes("page=")&&(f=f.replace(/page=\d+/g,"page="+(P-1))),this._getRenditionsUsingRedirectURL(f,q).then((s=>O(s))).catch((s=>{delete this._assetPageRenditionPromises[S],delete window.adobe_dc_sdk.cache.assetURLPromise,M(s)}))})).catch((()=>(delete this._assetPageRenditionPromises[S],delete window.adobe_dc_sdk.cache.assetURLPromise,this._reviewGetRendition(s,f))))}else this._getReviewRenditionURL(s,f).then((f=>{let _={withCredentials:this.options.fetchWithCredentials};_=this._reviewGetRenditionAuthHeader(_),_.headers||(_.headers={}),Object.assign(_.headers,{ACCEPT:"application/vnd.adobe.skybox+json;version=1","x-api-client-id":"api_browser"});const E=`${s}-${P}`;if(this._assetPageRenditions[E]&&this._assetPageRenditions[E].dcapi&&this._assetPageRenditions[E].dcapi.pageImgBuffer&&this._assetPageRenditions[E].dcapi.renditionUri===f&&this._assetPageRenditions[E].dcapi.size===y&&this._assetPageRenditions[E].dcapi.page===P){const s={params:{pageImgBuffer:this._assetPageRenditions[E].dcapi.pageImgBuffer,mimeType:this._assetPageRenditions[E].dcapi.mimeType,pageNum:this._assetPageRenditions[E].dcapi.page}};return void O(s)}const q={assetUri:s,pageNum:P,size:y,renditionUrl:f,fetchOptions:_};this._getRenditionsUsingCachedRedirectURL(q).then((s=>O(s))).catch((s=>{delete this._assetPageRenditionPromises[S],M(s)}))})).catch((()=>{delete this._assetPageRenditionPromises[S],M(new Error("Review Rendition url could not be created"))}))}))),this._assetPageRenditionPromises[S]}_dcapiGetDownloadUri(s,_){if(RenditionAPI._isReviewAsset(_)||RenditionAPI._isParcelAsset(_))return this._reviewGetDownloadUri(s,_);if(RenditionAPI._isSignAsset(_))return Promise.resolve(s);if(!this.options.useDCAPI)return Promise.resolve(s);const P={resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_download_v1.json",headers:{"x-request-id":f().v4()}};return new Promise(((s,f)=>{this.dcapiPromise.then((()=>(recordNow(ie.$l.PDF_DOWNLOAD_URI_START),this._dcapi.call("assets.download_uri",{...P,uri_parameters:{make_direct_storage_uri:!0}}).then((f=>{this._setDownloadUrlType(ie.$j.S3),recordNow(ie.$l.PDF_DOWNLOAD_URI_END),s(f.content.uri)})).catch((()=>this._dcapi.call("assets.download_uri",P).then((f=>{this._setDownloadUrlType(ie.$j.DCAPI),recordNow(ie.$l.PDF_DOWNLOAD_URI_END),s(f.content.uri)})).catch((s=>{this._setDownloadUrlType(ie.$j.NONE),f(s)})))))))}))}_dcapiGetUserDownloadUri(s,_){return RenditionAPI._isReviewAsset(_)||RenditionAPI._isParcelAsset(_)?this._reviewGetDownloadUri(s,_):this.options.useDCAPI?this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.userDownloadUri?Promise.resolve(this._assetRenditions[s].dcapi.userDownloadUri):this.dcapiPromise.then((()=>this._dcapi.call("assets.download_uri",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_download_v1.json",headers:{"x-request-id":f().v4()}}).then((f=>(this._cacheRendition(s,{dcapi:{userDownloadUri:f.content.uri}}),f.content.uri)),(s=>Promise.reject(s))))):Promise.resolve(s)}_dcapiSetLastPageNum(s,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?Promise.reject(new Error("Cannot set last page number on a review/parcel asset")):this.dcapiPromise.then((()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(s),content_type:"asset_metadata_field_v1.json",content:{last_pagenum:f.lastPageNum-1},uri_parameters:{fields:"last_pagenum"}})))}_dcapiSetLastAccess(s,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?Promise.reject(new Error("Cannot set last access on a review/parcel asset")):this.dcapiPromise.then((()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(s),content_type:"asset_metadata_field_v1.json",content:{last_access:""},uri_parameters:{fields:"last_access"}})))}static _fetchWithCredentials(s,f){let _,P;const y=f||{};P=y.timeout,P>=0||(P=E().http.timeout);const S=new Promise(((f,S)=>{try{_=new XMLHttpRequest,_.open("GET",s,!0),P>=0&&(_.timeout=P),y.responseType&&(_.responseType=y.responseType),y.headers&&Object.entries(y.headers).some((s=>{let[f,P]=s;return _.setRequestHeader(f,P)})),y.withCredentials&&(_.withCredentials=y.withCredentials),_.onreadystatechange=()=>{if(y.response_content_open){if(!_.readyState||_.readyState<2)return}else if(4!==_.readyState)return;let s;try{if(s={status:_.status,statusText:_.statusText||_.status,headers:E().http.parseHeaders(_.getAllResponseHeaders()),content:void 0},y.response_content_open||(_.responseType&&"text"!==_.responseType?s.content=_.response:s.content=_.responseText),!(_.status>0&&_.status<400))throw 0!==_.status||s.statusText||(s.statusText="Timeout or network error"),new(E().AdobeError)(s.statusText,s.status,s);f(s)}catch(f){!f||f instanceof Error?S(f):S(new(E().AdobeError)(f.stack||f,s.status,s))}},y.request_content_open||_.send(undefined)}catch(f){S(new(E().AdobeError)(f.stack||f,0,{method:"GET",url:s,options:y}))}}));return(y.request_content_open||y.response_content_open)&&(S.request=_),S}_dcapiGetContentBuffer(s,f,_){if(!this._assetRenditions[s]||!this._assetRenditions[s].dcapi||!this._assetRenditions[s].dcapi.contentBuffer){const P={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return!RenditionAPI._isSignAsset(_)&&!this._isS3DownloadUrl&&this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(P.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(f,P).then((f=>{const _=f.content;return this._cacheRendition(s,{ajs:{contentBuffer:_,contentFormat:f.headers["x-content-format"]},dcapi:{contentBuffer:_,contentFormat:f.headers["x-content-format"]}}),_}))}return Promise.resolve(this._assetRenditions[s].dcapi.contentBuffer)}_dcapiGetUserContentBuffer(s,f){if(!this._assetRenditions[s]||!this._assetRenditions[s].dcapi||!this._assetRenditions[s].dcapi.userContentBuffer){const _={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(_.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(f,_).then((f=>{const _=f.content;return this._cacheRendition(s,{ajs:{userContentBuffer:_},dcapi:{userContentBuffer:_}}),_}))}return Promise.resolve(this._assetRenditions[s].dcapi.userContentBuffer)}_pdfnowGetMetadata(s,f){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._assetRenditions[s]&&this._assetRenditions[s].pdfnow&&this._assetRenditions[s].pdfnow.contentData&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[s].pdfnow.contentData):(this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise(((P,y)=>{this.pdfnowApiPromise.then((()=>{this._pdfnowDcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:s}).then((S=>{const E=S.content;E.assetMimeType=S.content_type,E.last_pagenum=S.content.last_pagenum||0;let O,M=S.content.page_count;return void 0===M&&(_===ie._U?M=1:O=this._pdfnowGetMetadata(s,f,_+1)),O||(E.numPages=M,this._cacheRendition(s,{pdfnow:{contentData:(0,oe.Xh)(E)}}),O=Promise.resolve(this._assetRenditions[s].pdfnow.contentData)),O.then(P).catch(y)})).catch(y)})).catch(y)})))}_pdfnowGetRendition(s,f){const _=f.size||"3200",P=f.format||"png",y=void 0!==f.pageNum?f.pageNum:1,S=`${s}-${y}`;if(!0===f.forceCacheless||!this._assetPageRenditions[S]||!this._assetPageRenditions[S].pdfnow||!this._assetPageRenditions[S].pdfnow.pageImgBuffer||this._assetPageRenditions[S].pdfnow.format!==P||this._assetPageRenditions[S].pdfnow.size!==_||this._assetPageRenditions[S].pdfnow.page!==y)return this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise(((f,S)=>{this.pdfnowApiPromise.then((()=>{this._pdfnowDcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:s,responseType:"arraybuffer",uri_parameters:{format:P,page:y-1,size:_}}).then((S=>{const E={params:{pageImgBuffer:S.content,mimeType:S.headers["content-type"],pageNum:y}};this._cachePageRendition(s,y,{pdfnow:{pageImgBuffer:S.content,mimeType:S.headers["content-type"],size:_,page:y,format:P}}),f(E)})).catch(S)})).catch(S)}));const E=this._assetPageRenditions[S].pdfnow,O={params:{pageImgBuffer:E.pageImgBuffer,mimeType:E.mimeType,pageNum:E.page}};return Promise.resolve(O)}_ajsGetContentData(s,f,_){const P=ArrayBuffer.isView(f)?f.buffer:f;(0,te.Kz)("ajsGetContentData Called",{size:P?P.byteLength:-1});const y=Object.assign({buffer:P,documentId:this._documentId,securityHandler:_.fetchPasswordCallback?new ae.Z({fetchPasswordCallback:_.fetchPasswordCallback}):void 0},_);return this.ajsHandler.callAsync(s,"openPDF",y).then((s=>Object.assign({},s.data,{buffer:f,acrobatJSVersion:M,openPDFWasmTime:Math.round(s.timeTaken),openPDFQueueWaitTime:Math.round(s.queueWaitTime),openPDFTotalTime:Math.round(s.totalTime),openPDFMainToWorkerTime:Math.round(s.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(s.workerToMainTime),enableWasmExceptions:s.enableWasmExceptions,splitWasm:s.splitWasm})))}_ajsGetLinearizedContentData(s,f){return this._fetchPDFSize(s,f).then((_=>{const P=Object.assign({fetchPDFBufferRanges:P=>{if(1===P.length&&0===P[0].start&&void 0===P[0].end)return this._fetchCompletePDFBufferPromise.then((s=>[s]));const getBufferRangesFromCompleteBuffer=()=>(this._waitOnCompletePDFBufferMap[s].resolve(),this._fetchCompletePDFBufferPromise.then((s=>P.map((f=>s.slice(f.start,Math.min(f.end+1,s.byteLength))))))),y=.75*_;return P.some((s=>s.end-s.start>y))?getBufferRangesFromCompleteBuffer():this._fetchPDFBufferRanges(s,f,P).catch((()=>getBufferRangesFromCompleteBuffer()))},pdfSize:_,blockSize:f.linearizationBlockSize,documentId:this._documentId},f);return this.ajsHandler.callAsync(s,"openLinearizedPDF",P).then((s=>Object.assign({},s.data)))})).catch((()=>(this._waitOnCompletePDFBufferMap[s].resolve(),this._fetchPDFBufferRanges(s,f,[{start:0}]).then((_=>this._ajsGetContentData(s,_[0],f))))))}_ajsGetRenditionForPage(s,f){const _=Object.assign({devicePixelRatio:1},f);let{requestType:P}=_;const{PageRequestType:y}=O.enums;"page"===P?P=y.PAGE:"cache"===P?P=y.PAGE_CACHE:"thumbnail"===P&&(P=y.THUMBNAIL),_.requestType=P;const{priority:S,viewState:E}=_;return this.ajsHandler.callAsync(s,"getPageRendition",_,E,S).then((s=>{const f=Object.assign({},s),{buffer:_,...P}=f.data;return f.params={pageImgBuffer:_,...P},delete f.data,f}))}_downloadUserAssetContentBuffer(s,f){const _=f||{};return this._dcapiGetUserDownloadUri(s,_).then((f=>this._dcapiGetUserContentBuffer(s,f).then((s=>s))))}_ajsPerformCommand(s,f){const{commandName:_}=f;if("forceSwitchJS"===_)return this._resetReviewProvider(),this.ajsHandler.callAsync(s,"loadFullWorker");if("resetWorker"===_)return this._assetRenditions[s]&&this._assetRenditions[s].ajs&&delete this._assetRenditions[s].ajs,this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&(delete this._assetRenditions[s].dcapi.contentData,delete this._assetRenditions[s].dcapi.contentBuffer,delete this._assetRenditions[s].dcapi.contentFormat),this._assetRenditions[s]&&this._assetRenditions[s].external&&(delete this._assetRenditions[s].external.contentBuffer,delete this._assetRenditions[s].external.metadata),this.closeRendition(s,{...f,cancelPromises:!0}),this._resetReviewProvider(),this.ajsHandler.resetWorker(s).then((()=>{this._resetAjsPerfTimings()}));if("translateToLiquidModeView"===_)return this.ajsHandler.callAsync(s,"translateToLiquidModeView",{fetchCNFTPDFUpdatesCallback:AdobeSenseiPredictClient});if("verifyDigitalSignatures"===_){const{externalCertificateValidator:_}=f,P=(s=>{const f=[];return"function"==typeof s&&f.push(new ce(s)),le.isAvailable()&&f.push(new le),f})(_);return this.ajsHandler.callAsync(s,"verifyDigitalSignatures",{certificateChainValidators:P})}if("remapAJSCache"===_){const{oldAssetUri:s,newAssetUri:_}=f,P=this._assetRenditionsIndex.indexOf(s);return this._assetRenditions[s]&&this._assetRenditions[s].ajs&&(this._assetRenditions[_]=this._assetRenditions[_]||{},this._assetRenditions[_].ajs=this._assetRenditions[s].ajs,this._assetRenditionsIndex.splice(P,1),this._assetRenditionsIndex.includes(_)||this._assetRenditionsIndex.push(_)),this._completePDFBufferAvailablePromiseMap[s]&&(this._completePDFBufferAvailablePromiseMap[_]=this._completePDFBufferAvailablePromiseMap[s],delete this._completePDFBufferAvailablePromiseMap[s]),this._waitOnCompletePDFBufferMap[s]&&(this._waitOnCompletePDFBufferMap[_]=this._waitOnCompletePDFBufferMap[s],delete this._waitOnCompletePDFBufferMap[s]),this.ajsHandler.remapAssetUri(s,_),Promise.resolve()}const{priority:P,viewState:y,...S}=f;return this.ajsHandler.callAsync(s,_,S,y,P)}_dcapiPerformCommand(s,f){return this.dcapiPromise.then((()=>new Promise(((_,P)=>{"setLastPageNum"===f.commandName?this._dcapiSetLastPageNum(s,f).then(_).catch(P):"setLastAccess"===f.commandName?this._dcapiSetLastAccess(s,f).then(_).catch(P):"getContentBuffer"===f.commandName?this.downloadAssetContentBuffer(s,f).then(_).catch(P):"getUserContentBuffer"===f.commandName?this._downloadUserAssetContentBuffer(s,f).then(_).catch(P):P()}))))}_externalPerformCommand(s,f){return new Promise(((_,P)=>{"setLastPageNum"===f.commandName?_():"getContentBuffer"===f.commandName?this.downloadAssetContentBuffer(s,f).then(_).catch(P):"setLastAccess"===f.commandName||"getUserContentBuffer"===f.commandName?_():P()}))}ready(){return Promise.resolve(this)}canPerformSync(s){return{canPerformSync:this.ajsHandler.isInstanceCached(s),ready:this.ajsHandler.activateInstanceIfInactive(s)}}performCommandSynchronously(s,f){const{priority:_,viewState:P,...y}=f;this.ajsHandler.callSync(s,f.commandName,y,P,_)}performCommand(s,f){const _={},P=f||{};return P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,P.useAJS=!1!==P.useAJS&&this.options.useAJS,P.enableExternal=!1!==P.enableExternal&&this.options.enableExternal,P.useAJS?_.ajs=this._ajsPerformCommand(s,P):_.ajs=Promise.reject(new Error("Cannot perform AJS command if AJS is disabled")),P.useDCAPI?_.dcapi=this._dcapiPerformCommand(s,P):_.dcapi=Promise.reject(new Error("Cannot perform DCAPI command if DCAPI is disabled")),P.enableExternal&&RenditionAPI._isExternalAsset(P)&&(_.external=this._externalPerformCommand(s,P)),_}isCompletePDFBufferAvailable(s){return this._completePDFBufferAvailablePromiseMap[s].promise}getMetadata(s,f){const _={},P=f||{};return P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,P.useAJS=!1!==P.useAJS&&this.options.useAJS,P.enableExternal=!1!==P.enableExternal&&this.options.enableExternal,this.options.shouldUseModernViewer=P.shouldUseModernViewer,P.useDCAPI?_.dcapi=this._dcapiGetMetadata(s,P):_.dcapi=Promise.reject(new Error("Cannot get DCAPI metadata if DCAPI is disabled")),P.enableExternal&&RenditionAPI._isExternalAsset(P)&&(_.external=this._externalGetMetadata(s,P)),P.useAJS?(this._completePDFBufferAvailablePromiseMap[s]||(this._completePDFBufferAvailablePromiseMap[s]={},this._completePDFBufferAvailablePromiseMap[s].promise=new Promise((f=>{this._completePDFBufferAvailablePromiseMap[s].resolve=f}))),_.ajs=this._ajsGetMetadata(s,P)):_.ajs=Promise.reject(new Error("Cannot get AJS metadata if AJS is disabled")),this._waitOnCompletePDFBufferMap[s]||(this._waitOnCompletePDFBufferMap[s]={},this._waitOnCompletePDFBufferMap[s].promise=new Promise((f=>{this._waitOnCompletePDFBufferMap[s].resolve=f}))),_}_ajsRegisterLicense(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={token:s.licenseString,domain:s.domain};return this.ajsHandler.registerLicense(f)}registerLicense(s){const f={},_=s||{};return _.useDCAPI=!1!==_.useDCAPI&&this.options.useDCAPI,_.useAJS=!1!==_.useAJS&&this.options.useAJS,f.dcapi=Promise.reject(new Error("DCAPI doesn't support sdk license validation")),_.useAJS?f.ajs=this._ajsRegisterLicense(_):f.ajs=Promise.reject(new Error("Cannot register license if AJS is disabled")),f}getRendition(s,f){const _={},P=f||{};return P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,P.useAJS=!1!==P.useAJS&&this.options.useAJS,P.enableExternal=!1!==P.enableExternal&&this.options.enableExternal,P.useDCAPI?_.dcapi=this._dcapiGetRendition(s,P):_.dcapi=Promise.reject(new Error("Cannot get DCAPI rendition if DCAPI is disabled")),P.enableExternal&&RenditionAPI._isExternalAsset(P)&&(_.external=this._externalGetRendition(s,P)),P.useAJS?_.ajs=this._ajsGetRenditionForPage(s,P):_.ajs=Promise.reject(new Error("Cannot get AJS rendition if AJS is disabled")),_}getDocumentRenditionUri(s,f){const _={},P=f||{};return P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,P.useAJS=!1!==P.useAJS&&this.options.useAJS,P.useDCAPI?_.dcapi=this._dcapiGetDocumentRenditionUri(s,P):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition URI if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get AJS doc rendition URI")),_}getDocumentRendition(s,f){const _={},P=f||{};return P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,P.useAJS=!1!==P.useAJS&&this.options.useAJS,P.useDCAPI?_.dcapi=this._dcapiGetDocumentRendition(s,P):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get AJS doc rendition")),_}getDocumentRenditionStatus(s,f){const _={},P=f||{};return P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,P.useAJS=!1!==P.useAJS&&this.options.useAJS,P.useDCAPI?_.dcapi=this._dcapiGetDocumentRenditionStatus(s):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition status if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get DCAPI doc rendition status")),_}downloadAssetContentBuffer(s,f){return f&&RenditionAPI._isExternalAsset(f)?this._externalGetDownloadUri(s,f).then((f=>this._externalGetContentBuffer(s,f).then((s=>s)))):this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.contentBuffer?Promise.resolve(this._assetRenditions[s].dcapi.contentBuffer):this._dcapiGetDownloadUri(s,f).then((_=>this._dcapiGetContentBuffer(s,_,f).then((s=>s))))}clearRenditionCache(s,f){const _=f||{},P=`${s}`;return _.useDCAPI=!1!==_.useDCAPI&&this.options.useDCAPI,_.useAJS=!1!==_.useAJS&&this.options.useAJS,_.enableExternal=!1!==_.enableExternal&&this.options.enableExternal,_.useAJS&&this._assetRenditions[s]&&this._assetRenditions[s].ajs&&delete this._assetRenditions[s].ajs,_.useDCAPI&&this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&delete this._assetRenditions[s].dcapi,_.enableExternal&&this._assetRenditions[s]&&this._assetRenditions[s].external&&delete this._assetRenditions[s].external,this._getAssetFileInfoPromise[P]&&delete this._getAssetFileInfoPromise[P],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,Promise.resolve()}closeRendition(s,f){const _={dcapi:Promise.resolve(),ajs:Promise.resolve()},P=f||{},y=`${s}`;if(P.useDCAPI=!1!==P.useDCAPI&&this.options.useDCAPI,this._assetRenditions[s]&&P.clearCache&&(delete this._assetRenditions[s],this._assetRenditionsIndex=this._assetRenditionsIndex.filter((f=>f!==s))),P.clearCache){this._assetPageRenditions=Object.entries(this._assetPageRenditions).reduce(((f,_)=>{let[P,y]=_;return P.startsWith(s)||(f[P]=y),f}),{}),this._assetPageRenditionsIndex=Object.keys(this._assetPageRenditions);const f=Object.entries(this._assetPageRenditionPromises);this._assetPageRenditionPromises=f.reduce(((f,_)=>{let[P,y]=_;return P.startsWith(s)||(f[P]=y),f}),{})}this._getAssetFileInfoPromise[y]&&delete this._getAssetFileInfoPromise[y],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,P.useDCAPI&&void 0!==P.lastPageNum&&(_.dcapi=this._dcapiSetLastPageNum(s,P)),P.cancelPromises&&(re.forEach((s=>{s.cancel()})),re=[])}getOwnScriptSrc(){return ne.ZQ(ie.Xy)}getAJSWorker(){}shouldWaitOnCompletePDFBuffer(s){return this._waitOnCompletePDFBufferMap[s].promise}}const ge={rendition:{load:function renditionLoad(){return Promise.resolve(RenditionAPI)}},"font-provider":{load:function loadFontProvider(s){return __webpack_require__.p=s,__webpack_require__.e(611).then(__webpack_require__.bind(__webpack_require__,"asGv")).then((s=>s.default))}},acrobatjs:{load:function loadAJSProvider(s){return __webpack_require__.p=s,__webpack_require__.e(90).then(__webpack_require__.bind(__webpack_require__,"gTnC")).then((s=>s.default))}}};RenditionAPI.getInstance=(0,ee.getSingletonFunction)(RenditionAPI,!0),q.providers.rendition=RenditionAPI.getInstance})(),((window.adobe_dc_sdk=window.adobe_dc_sdk||{}).components=window.adobe_dc_sdk.components||{}).rendition=y})();
//# sourceMappingURL=private/rendition.js.map